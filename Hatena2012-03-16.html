<!DOCTYPE html>
<html lang="en"><head><title>Hatena2012-03-16</title><meta charset="utf-8"/><link rel="preconnect" href="https://fonts.googleapis.com"/><link rel="preconnect" href="https://fonts.gstatic.com"/><link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=IBM Plex Mono&amp;family=Schibsted Grotesk:wght@400;700&amp;family=Source Sans Pro:ital,wght@0,400;0,600;1,400;1,600&amp;display=swap"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><meta name="og:site_name" content="ü™¥ Quartz 4.0"/><meta property="og:title" content="Hatena2012-03-16"/><meta property="og:type" content="website"/><meta name="twitter:card" content="summary_large_image"/><meta name="twitter:title" content="Hatena2012-03-16"/><meta name="twitter:description" content="hatena &lt;body> *1331906887* Language Girls Club: do we need both undef and null? The Twitter timeline was so interesting that I inadvertently opened a language girls' ..."/><meta property="og:description" content="hatena &lt;body> *1331906887* Language Girls Club: do we need both undef and null? The Twitter timeline was so interesting that I inadvertently opened a language girls' ..."/><meta property="og:image:type" content="image/webp"/><meta property="og:image:alt" content="hatena &lt;body> *1331906887* Language Girls Club: do we need both undef and null? The Twitter timeline was so interesting that I inadvertently opened a language girls' ..."/><meta property="og:image:width" content="1200"/><meta property="og:image:height" content="630"/><meta property="og:width" content="1200"/><meta property="og:height" content="630"/><meta property="og:image:url" content="https://quartz.jzhao.xyz/static/og-image.png"/><meta name="twitter:image" content="https://quartz.jzhao.xyz/static/og-image.png"/><meta property="og:image" content="https://quartz.jzhao.xyz/static/og-image.png"/><meta property="twitter:domain" content="quartz.jzhao.xyz"/><meta property="og:url" content="https:/quartz.jzhao.xyz/Hatena2012-03-16"/><meta property="twitter:url" content="https:/quartz.jzhao.xyz/Hatena2012-03-16"/><link rel="icon" href="./static/icon.png"/><meta name="description" content="hatena &lt;body> *1331906887* Language Girls Club: do we need both undef and null? The Twitter timeline was so interesting that I inadvertently opened a language girls' ..."/><meta name="generator" content="Quartz"/><link href="./index.css" rel="stylesheet" type="text/css" spa-preserve/><link href="https://cdn.jsdelivr.net/npm/katex@0.16.11/dist/katex.min.css" rel="stylesheet" type="text/css" spa-preserve/><script src="./prescript.js" type="application/javascript" spa-preserve></script><script type="application/javascript" spa-preserve>const fetchData = fetch("./static/contentIndex.json").then(data => data.json())</script></head><body data-slug="Hatena2012-03-16"><div id="quartz-root" class="page"><div id="quartz-body"><div class="left sidebar"><h2 class="page-title"><a href=".">ü™¥ Quartz 4.0</a></h2><div class="spacer mobile-only"></div><div class="search"><button class="search-button" id="search-button"><p>Search</p><svg role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 19.9 19.7"><title>Search</title><g class="search-path" fill="none"><path stroke-linecap="square" d="M18.5 18.3l-5.4-5.4"></path><circle cx="8" cy="8" r="7"></circle></g></svg></button><div id="search-container"><div id="search-space"><input autocomplete="off" id="search-bar" name="search" type="text" aria-label="Search for something" placeholder="Search for something"/><div id="search-layout" data-preview="true"></div></div></div></div><button class="darkmode" id="darkmode"><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" id="dayIcon" x="0px" y="0px" viewBox="0 0 35 35" style="enable-background:new 0 0 35 35" xml:space="preserve" aria-label="Dark mode"><title>Dark mode</title><path d="M6,17.5C6,16.672,5.328,16,4.5,16h-3C0.672,16,0,16.672,0,17.5    S0.672,19,1.5,19h3C5.328,19,6,18.328,6,17.5z M7.5,26c-0.414,0-0.789,0.168-1.061,0.439l-2,2C4.168,28.711,4,29.086,4,29.5    C4,30.328,4.671,31,5.5,31c0.414,0,0.789-0.168,1.06-0.44l2-2C8.832,28.289,9,27.914,9,27.5C9,26.672,8.329,26,7.5,26z M17.5,6    C18.329,6,19,5.328,19,4.5v-3C19,0.672,18.329,0,17.5,0S16,0.672,16,1.5v3C16,5.328,16.671,6,17.5,6z M27.5,9    c0.414,0,0.789-0.168,1.06-0.439l2-2C30.832,6.289,31,5.914,31,5.5C31,4.672,30.329,4,29.5,4c-0.414,0-0.789,0.168-1.061,0.44    l-2,2C26.168,6.711,26,7.086,26,7.5C26,8.328,26.671,9,27.5,9z M6.439,8.561C6.711,8.832,7.086,9,7.5,9C8.328,9,9,8.328,9,7.5    c0-0.414-0.168-0.789-0.439-1.061l-2-2C6.289,4.168,5.914,4,5.5,4C4.672,4,4,4.672,4,5.5c0,0.414,0.168,0.789,0.439,1.06    L6.439,8.561z M33.5,16h-3c-0.828,0-1.5,0.672-1.5,1.5s0.672,1.5,1.5,1.5h3c0.828,0,1.5-0.672,1.5-1.5S34.328,16,33.5,16z     M28.561,26.439C28.289,26.168,27.914,26,27.5,26c-0.828,0-1.5,0.672-1.5,1.5c0,0.414,0.168,0.789,0.439,1.06l2,2    C28.711,30.832,29.086,31,29.5,31c0.828,0,1.5-0.672,1.5-1.5c0-0.414-0.168-0.789-0.439-1.061L28.561,26.439z M17.5,29    c-0.829,0-1.5,0.672-1.5,1.5v3c0,0.828,0.671,1.5,1.5,1.5s1.5-0.672,1.5-1.5v-3C19,29.672,18.329,29,17.5,29z M17.5,7    C11.71,7,7,11.71,7,17.5S11.71,28,17.5,28S28,23.29,28,17.5S23.29,7,17.5,7z M17.5,25c-4.136,0-7.5-3.364-7.5-7.5    c0-4.136,3.364-7.5,7.5-7.5c4.136,0,7.5,3.364,7.5,7.5C25,21.636,21.636,25,17.5,25z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" id="nightIcon" x="0px" y="0px" viewBox="0 0 100 100" style="enable-background:new 0 0 100 100" xml:space="preserve" aria-label="Light mode"><title>Light mode</title><path d="M96.76,66.458c-0.853-0.852-2.15-1.064-3.23-0.534c-6.063,2.991-12.858,4.571-19.655,4.571  C62.022,70.495,50.88,65.88,42.5,57.5C29.043,44.043,25.658,23.536,34.076,6.47c0.532-1.08,0.318-2.379-0.534-3.23  c-0.851-0.852-2.15-1.064-3.23-0.534c-4.918,2.427-9.375,5.619-13.246,9.491c-9.447,9.447-14.65,22.008-14.65,35.369  c0,13.36,5.203,25.921,14.65,35.368s22.008,14.65,35.368,14.65c13.361,0,25.921-5.203,35.369-14.65  c3.872-3.871,7.064-8.328,9.491-13.246C97.826,68.608,97.611,67.309,96.76,66.458z"></path></svg></button></div><div class="center"><div class="page-header"><div class="popover-hint"><nav class="breadcrumb-container" aria-label="breadcrumbs"><div class="breadcrumb-element"><a href="./">Home</a><p> ‚ùØ </p></div><div class="breadcrumb-element"><a href>Hatena2012-03-16</a></div></nav><h1 class="article-title">Hatena2012-03-16</h1><p show-comma="true" class="content-meta"><span>Mar 16, 2012</span><span>7 min read</span></p></div></div><article class="popover-hint"><p>hatena</p>
<pre><code>&lt;body>
*1331906887* Language Girls Club: do we need both undef and null?
The Twitter timeline was so interesting that I inadvertently opened a language girls' club in my brain by personifying languages. Please note that there is no one-to-one correspondence between the characters and the real people.

** Do we need both undefined and null?

At a women's meeting where a certain programming language is gathered:.

Perl: Speaking of which, why does JavaScript-chan have both undefined and null?
JavaScript: What, you want to return undefined when accessing an undefined variable?
Python: Just throw exceptions and die!
Ruby: Throw an exception and die.
Python &amp; Ruby: Hey&amp;#9825;
Java: No, you should initialize it to null if it's a reference type, or 0 if it's a numeric type.
C: This is why young people these days... even initialization costs money! Initializing by default is a waste of money! Only those who need it should be responsible for initializing it!
Perl: (Aunt C is scary... Java is also kind of hard to type...) But, let's say you initialize it, you only need one of null or undef, right?
Lisp: (oh dear, if you're going to say that, why not just one of nil and an empty list too (I thought, but didn't say it).
JavaScript: hmmm, I wonder. Isn't it one thing to not have a boyfriend now, and another to not have had one since birth?

** What if I pop from an empty list?

JavaScript: For example, when you pop from an empty list, you want to return undefined.
Python: Throw exceptions and die, Ruby-chan!
Ruby: What?
Python: Huh? So how do you distinguish this from popping from a list that had nil in it?
C: This is why young kids these days... I have functions that return 0 &lt;= n &lt; 256 on success, even though they are int type just to return -1 on failure! You are totally unthinking and relaxed!
Ruby: (Aunt C, what a pain in the ass.) What do you think, Lisp?
Lisp: (Oh my gosh, I forgot about that long time ago (and I'll try to start gosh)) (car ()) seems to throw an exception ((by @ser1zw &quot;Common Lisp returns NIL (confirmed by CLISP)&quot; thanks!)

** Accessing a nonexistent key

JavaScript: I also want to return undefined when an object has no specified key.
Python: I wish I could just throw an exception and die. If it were me, I'd make it so you can check with obj.has_key(k) ((Python and Ruby are about access to dictionaries/hash, if you access with obj.foo, Ruby will throw NoMethodError too)) ((by @a_yasui &quot;(has_key is deprecated since 2.6, can't use since 3.0. Let's use in instead.)
JavaScript: I can do something like that now, but I don't think I used to be able to...
Python: I wish you'd just throw an exception and die, hey, Ruby?
Ruby: What's wrong with returning nil? ((by @niku_name &quot;By the way, using hash.fetch, accessing a non-existent key is just like Python proper (throws an exception) http://rurema.clear-code.com/1.9.3/method/Hash/i/ fetch.html&quot; thanks!)
Memcached: (I think it returns false, but it's not a language, so I can't join the conversation) ((by @methane &quot;I was talking about the php client when I said Memcached returns false, memcached as middleware is just storing byte strings to begin with. It just stores a string of bytes, so there's no false, zero, or null.&quot; thanks!))
Python: Hmmm, so what if the original contains nil? (grin)
Ruby: (-_-#)
Haskell: All you ladies frustrated with undefined and null should use monads!
JavaScript: I might use Haskell when it runs in the browser, MAYBE!
Python: That possibility is Nothing ((In Haskell, there is a type class called Maybe Monad to construct a type to represent things that may fail, and the type for that failure is Nothing)).
Haskell: ‚Ä¶(-_-)

** Summary

Python: But, as C and Haskell say, if the return value is to convey an error, it has to be something other than the value that would be returned on success, otherwise we won't know if it was a success or a failure.
Haskell: (very happy to hear you agree, but that emotion is shoved into the IO monad and no expression on his face)
Python: In that sense, it's reasonable to distinguish between null, which can be put in a list or attribute, and undefined, which is an invalid value to convey failure.
JavaScript: Oh, I forgot to mention that undefined can be put in a list.
Python: Huh? I hope you die!

** Postscript

Perl has been on my mind since Python started disrespecting Ruby... $_=~#(;_;)#;#$@#{$#}...

THANKS to everyone who inspired me to write this SS!!! @__gfx__ @kazuho @__kan @tanakh

For those interested, I recommend the WebDB Press Compilation, which contains 60 PDFs in one volume, including my &quot;Fundamentals of Language Design&quot; book: WebDB Press Compilation.
&lt;iframe src=&quot;http://rcm-jp.amazon.co.jp/e/cm?lt1=_blank&amp;bc1=000000&amp;IS2=1&amp;bg1=AAFFAA&amp;fc1=000000&amp;lc1=0000FF&amp;t=nishiohirokaz-22&amp;o=9&amp;p=8&amp;l=as4&amp;m=amazon&amp;f=ifr&amp;ref=ss_til&amp;asins=4774148318&quot; style=&quot;width:120px;height:240px;&quot; scrolling=&quot;no&quot; marginwidth=&quot;0&quot; marginheight=&quot;0&quot; frameborder=&quot;0&quot;>&lt;/iframe>

** Supplemental
There seems to be a misconception that this was my idea, so I'll quote from it. The reason it became a girls' club was because I wanted to make Kore my &quot;boyfriend&quot; instead of my &quot;girlfriend&quot;! https://twitter.com/#! /__kan/status/180580941335502848
>>
@__kan: you say you don't understand why both null and undefined exist, but there should be a clear distinction between not having a girlfriend now and not having a girlfriend since birth!
&lt;&lt;

I was also motivated to write this because I read this and came up with the punchline of Maybe‚ÜíNothing lol https://twitter.com/#! /tanakh/status/180593265706414080
>>
@tanakh: if you're frustrated with null and undefined now, you should use Haskel.
&lt;&lt;

** Reaction Summary

- Assembler Grandma: &quot;It's hard to do a lot of things when you can define variables&quot; (by @raitu thanks!)

- Assembly language grandma: &quot;Undefined? You can't raise my grandfather's flag even if you have that&quot; (by id:yappo thanks!)

- The construction is, in the ES5 specification, 4.3.9 and 4.3.11, &quot;a value when no value is assigned to a variable&quot; and &quot;a value when you want to intentionally express that an object value does not exist&quot; (by @yukoba thanks!).

- Clojure distinguishes between nil and an empty list. In other words, (pop '()) and (pop nil) are different in Clojure. (Empty list raises an exception, but nil pops nil) (by @omasanori thanks!)

- &quot;The most unfortunate thing about undefined in JS is that it's just a global variable.&quot; (by @tnacigam thanks!)

- I hate how PHP is being hacked and how it's like a bunch of women in real life (by id:Retro Rocket thanks!)
- PHP: (not a language so I can't join the conversation) (by id:koyhoge thanks!)

- When debugging a recent script (in Ruby) of about 20 lines, I had to overwrite [] with alias of fetch because I was too lazy to think seriously about the range of keys. Viva, open class (by @yugui thanks!)

- I guess null means undef in SQL, which is a hotbed of bugs. (car ()) is an error in scheme and nil in clisp? I didn't notice it because cdr is used to determine if it ends up reoccurring or not. (by @Tomokatz thanks!)

- Lua doesn't distinguish between nil and undefined in the language spec. (by @torus thanks!)
&lt;/body>
&lt;comments>
&lt;comment>
&lt;username>tateisu&lt;/username>
&lt;body>In Perl, I can distinguish between exists $hash{$key} and defined $hash{$key}. Empty list can also be checked for size in advance. &lt;/body>
&lt;timestamp>1331932748&lt;/timestamp>
&lt;/comment>
&lt;comment>
&lt;username>func_hs&lt;/username>
&lt;body>With yesod and CGI monad, Haskell can also be run in the browser (&lt;/body>).
&lt;timestamp>1331948758&lt;/timestamp>
&lt;/comment>
&lt;comment>
&lt;username>nishiohirokazu&lt;/username>
&lt;body>>Yesod and CGI monad can be used to run Haskell in a browser...&lt;br>&lt;br>It is very Haskell-like when JavaScript says &quot;you can run it in a browser&quot; and you answer that you can do it with CGI monad. ...&lt;/body>
&lt;timestamp>1332316458&lt;/timestamp>
&lt;/comment>
&lt;comment>
&lt;username>codd&lt;/username>
&lt;body>I heard that there was originally talk of classifying nulls in SQL (or rather the relational model) as well. &lt;br>The situation regarding its practicality seems to be a bit different from that of programming languages. &lt;br>&lt;br>http://www.geocities.jp/mickindex/database/db_3vl.html&lt;/body>
&lt;timestamp>1332776939&lt;/timestamp>
&lt;/comment>
&lt;/comments>
</code></pre>
<h2 id="hatena-diary-2012-03-16"><a href="https://nishiohirokazu.hatenadiary.org/archive/2012/03/16" class="external">Hatena Diary 2012-03-16<svg aria-hidden="true" class="external-icon" style="max-width:0.8em;max-height:0.8em;" viewBox="0 0 512 512"><path d="M320 0H288V64h32 82.7L201.4 265.4 178.7 288 224 333.3l22.6-22.6L448 109.3V192v32h64V192 32 0H480 320zM32 32H0V64 480v32H32 456h32V480 352 320H424v32 96H64V96h96 32V32H160 32z"></path></svg></a><a role="anchor" aria-hidden="true" tabindex="-1" data-no-popover="true" href="#hatena-diary-2012-03-16" class="internal"><svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg></a></h2>
<p>This page is auto-translated from <a href="https://scrapbox.io/nishio/Hatena2012-03-16" class="external">/nishio/Hatena2012-03-16<svg aria-hidden="true" class="external-icon" style="max-width:0.8em;max-height:0.8em;" viewBox="0 0 512 512"><path d="M320 0H288V64h32 82.7L201.4 265.4 178.7 288 224 333.3l22.6-22.6L448 109.3V192v32h64V192 32 0H480 320zM32 32H0V64 480v32H32 456h32V480 352 320H424v32 96H64V96h96 32V32H160 32z"></path></svg></a> using DeepL. If you looks something interesting but the auto-translated English is not good enough to understand it, feel free to let me know at <a href="https://twitter.com/nishio_en" class="external">@nishio_en<svg aria-hidden="true" class="external-icon" style="max-width:0.8em;max-height:0.8em;" viewBox="0 0 512 512"><path d="M320 0H288V64h32 82.7L201.4 265.4 178.7 288 224 333.3l22.6-22.6L448 109.3V192v32h64V192 32 0H480 320zM32 32H0V64 480v32H32 456h32V480 352 320H424v32 96H64V96h96 32V32H160 32z"></path></svg></a>. I‚Äôm very happy to spread my thought to non-Japanese readers.</p></article><hr/><div class="page-footer"></div></div><div class="right sidebar"><div class="graph"><h3>Graph View</h3><div class="graph-outer"><div id="graph-container" data-cfg="{&quot;drag&quot;:true,&quot;zoom&quot;:true,&quot;depth&quot;:1,&quot;scale&quot;:1.1,&quot;repelForce&quot;:0.5,&quot;centerForce&quot;:0.3,&quot;linkDistance&quot;:30,&quot;fontSize&quot;:0.6,&quot;opacityScale&quot;:1,&quot;showTags&quot;:true,&quot;removeTags&quot;:[],&quot;focusOnHover&quot;:false}"></div><button id="global-graph-icon" aria-label="Global Graph"><svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 55 55" fill="currentColor" xml:space="preserve"><path d="M49,0c-3.309,0-6,2.691-6,6c0,1.035,0.263,2.009,0.726,2.86l-9.829,9.829C32.542,17.634,30.846,17,29,17
                s-3.542,0.634-4.898,1.688l-7.669-7.669C16.785,10.424,17,9.74,17,9c0-2.206-1.794-4-4-4S9,6.794,9,9s1.794,4,4,4
                c0.74,0,1.424-0.215,2.019-0.567l7.669,7.669C21.634,21.458,21,23.154,21,25s0.634,3.542,1.688,4.897L10.024,42.562
                C8.958,41.595,7.549,41,6,41c-3.309,0-6,2.691-6,6s2.691,6,6,6s6-2.691,6-6c0-1.035-0.263-2.009-0.726-2.86l12.829-12.829
                c1.106,0.86,2.44,1.436,3.898,1.619v10.16c-2.833,0.478-5,2.942-5,5.91c0,3.309,2.691,6,6,6s6-2.691,6-6c0-2.967-2.167-5.431-5-5.91
                v-10.16c1.458-0.183,2.792-0.759,3.898-1.619l7.669,7.669C41.215,39.576,41,40.26,41,41c0,2.206,1.794,4,4,4s4-1.794,4-4
                s-1.794-4-4-4c-0.74,0-1.424,0.215-2.019,0.567l-7.669-7.669C36.366,28.542,37,26.846,37,25s-0.634-3.542-1.688-4.897l9.665-9.665
                C46.042,11.405,47.451,12,49,12c3.309,0,6-2.691,6-6S52.309,0,49,0z M11,9c0-1.103,0.897-2,2-2s2,0.897,2,2s-0.897,2-2,2
                S11,10.103,11,9z M6,51c-2.206,0-4-1.794-4-4s1.794-4,4-4s4,1.794,4,4S8.206,51,6,51z M33,49c0,2.206-1.794,4-4,4s-4-1.794-4-4
                s1.794-4,4-4S33,46.794,33,49z M29,31c-3.309,0-6-2.691-6-6s2.691-6,6-6s6,2.691,6,6S32.309,31,29,31z M47,41c0,1.103-0.897,2-2,2
                s-2-0.897-2-2s0.897-2,2-2S47,39.897,47,41z M49,10c-2.206,0-4-1.794-4-4s1.794-4,4-4s4,1.794,4,4S51.206,10,49,10z"></path></svg></button></div><div id="global-graph-outer"><div id="global-graph-container" data-cfg="{&quot;drag&quot;:true,&quot;zoom&quot;:true,&quot;depth&quot;:-1,&quot;scale&quot;:0.9,&quot;repelForce&quot;:0.5,&quot;centerForce&quot;:0.3,&quot;linkDistance&quot;:30,&quot;fontSize&quot;:0.6,&quot;opacityScale&quot;:1,&quot;showTags&quot;:true,&quot;removeTags&quot;:[],&quot;focusOnHover&quot;:true}"></div></div></div><div class="backlinks"><h3>Backlinks</h3><ul class="overflow"><li>No backlinks found</li></ul></div></div><footer class><p>Created with <a href="https://quartz.jzhao.xyz/">Quartz v4.4.0</a> ¬© 2024</p><ul><li><a href="https://github.com/jackyzha0/quartz">GitHub</a></li><li><a href="https://discord.gg/cRFFHYye7t">Discord Community</a></li></ul></footer></div></div></body><script type="application/javascript">function c(){let t=this.parentElement;t.classList.toggle("is-collapsed");let l=t.classList.contains("is-collapsed")?this.scrollHeight:t.scrollHeight;t.style.maxHeight=l+"px";let o=t,e=t.parentElement;for(;e;){if(!e.classList.contains("callout"))return;let n=e.classList.contains("is-collapsed")?e.scrollHeight:e.scrollHeight+o.scrollHeight;e.style.maxHeight=n+"px",o=e,e=e.parentElement}}function i(){let t=document.getElementsByClassName("callout is-collapsible");for(let s of t){let l=s.firstElementChild;if(l){l.addEventListener("click",c),window.addCleanup(()=>l.removeEventListener("click",c));let e=s.classList.contains("is-collapsed")?l.scrollHeight:s.scrollHeight;s.style.maxHeight=e+"px"}}}document.addEventListener("nav",i);window.addEventListener("resize",i);
</script><script src="https://cdn.jsdelivr.net/npm/katex@0.16.11/dist/contrib/copy-tex.min.js" type="application/javascript"></script><script src="./postscript.js" type="module"></script></html>