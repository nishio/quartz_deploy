<!DOCTYPE html>
<html lang="en"><head><title>pVectorSearch2023-06-13</title><meta charset="utf-8"/><link rel="preconnect" href="https://fonts.googleapis.com"/><link rel="preconnect" href="https://fonts.gstatic.com"/><link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=IBM Plex Mono&amp;family=Schibsted Grotesk:wght@400;700&amp;family=Source Sans Pro:ital,wght@0,400;0,600;1,400;1,600&amp;display=swap"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><meta name="og:site_name" content="ü™¥ Quartz 4.0"/><meta property="og:title" content="pVectorSearch2023-06-13"/><meta property="og:type" content="website"/><meta name="twitter:card" content="summary_large_image"/><meta name="twitter:title" content="pVectorSearch2023-06-13"/><meta name="twitter:description" content="from Diary 2023-06-13 prev pVectorSearch2023-06-07 Make private materials eligible for vector search. I have a feeling we‚Äôre going to have an accident."/><meta property="og:description" content="from Diary 2023-06-13 prev pVectorSearch2023-06-07 Make private materials eligible for vector search. I have a feeling we‚Äôre going to have an accident."/><meta property="og:image:type" content="image/webp"/><meta property="og:image:alt" content="from Diary 2023-06-13 prev pVectorSearch2023-06-07 Make private materials eligible for vector search. I have a feeling we‚Äôre going to have an accident."/><meta property="og:image:width" content="1200"/><meta property="og:image:height" content="630"/><meta property="og:width" content="1200"/><meta property="og:height" content="630"/><meta property="og:image:url" content="https://quartz.jzhao.xyz/static/og-image.png"/><meta name="twitter:image" content="https://quartz.jzhao.xyz/static/og-image.png"/><meta property="og:image" content="https://quartz.jzhao.xyz/static/og-image.png"/><meta property="twitter:domain" content="quartz.jzhao.xyz"/><meta property="og:url" content="https:/quartz.jzhao.xyz/pVectorSearch2023-06-13"/><meta property="twitter:url" content="https:/quartz.jzhao.xyz/pVectorSearch2023-06-13"/><link rel="icon" href="./static/icon.png"/><meta name="description" content="from Diary 2023-06-13 prev pVectorSearch2023-06-07 Make private materials eligible for vector search. I have a feeling we‚Äôre going to have an accident."/><meta name="generator" content="Quartz"/><link href="./index.css" rel="stylesheet" type="text/css" spa-preserve/><link href="https://cdn.jsdelivr.net/npm/katex@0.16.11/dist/katex.min.css" rel="stylesheet" type="text/css" spa-preserve/><script src="./prescript.js" type="application/javascript" spa-preserve></script><script type="application/javascript" spa-preserve>const fetchData = fetch("./static/contentIndex.json").then(data => data.json())</script></head><body data-slug="pVectorSearch2023-06-13"><div id="quartz-root" class="page"><div id="quartz-body"><div class="left sidebar"><h2 class="page-title"><a href=".">ü™¥ Quartz 4.0</a></h2><div class="spacer mobile-only"></div><div class="search"><button class="search-button" id="search-button"><p>Search</p><svg role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 19.9 19.7"><title>Search</title><g class="search-path" fill="none"><path stroke-linecap="square" d="M18.5 18.3l-5.4-5.4"></path><circle cx="8" cy="8" r="7"></circle></g></svg></button><div id="search-container"><div id="search-space"><input autocomplete="off" id="search-bar" name="search" type="text" aria-label="Search for something" placeholder="Search for something"/><div id="search-layout" data-preview="true"></div></div></div></div><button class="darkmode" id="darkmode"><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" id="dayIcon" x="0px" y="0px" viewBox="0 0 35 35" style="enable-background:new 0 0 35 35" xml:space="preserve" aria-label="Dark mode"><title>Dark mode</title><path d="M6,17.5C6,16.672,5.328,16,4.5,16h-3C0.672,16,0,16.672,0,17.5    S0.672,19,1.5,19h3C5.328,19,6,18.328,6,17.5z M7.5,26c-0.414,0-0.789,0.168-1.061,0.439l-2,2C4.168,28.711,4,29.086,4,29.5    C4,30.328,4.671,31,5.5,31c0.414,0,0.789-0.168,1.06-0.44l2-2C8.832,28.289,9,27.914,9,27.5C9,26.672,8.329,26,7.5,26z M17.5,6    C18.329,6,19,5.328,19,4.5v-3C19,0.672,18.329,0,17.5,0S16,0.672,16,1.5v3C16,5.328,16.671,6,17.5,6z M27.5,9    c0.414,0,0.789-0.168,1.06-0.439l2-2C30.832,6.289,31,5.914,31,5.5C31,4.672,30.329,4,29.5,4c-0.414,0-0.789,0.168-1.061,0.44    l-2,2C26.168,6.711,26,7.086,26,7.5C26,8.328,26.671,9,27.5,9z M6.439,8.561C6.711,8.832,7.086,9,7.5,9C8.328,9,9,8.328,9,7.5    c0-0.414-0.168-0.789-0.439-1.061l-2-2C6.289,4.168,5.914,4,5.5,4C4.672,4,4,4.672,4,5.5c0,0.414,0.168,0.789,0.439,1.06    L6.439,8.561z M33.5,16h-3c-0.828,0-1.5,0.672-1.5,1.5s0.672,1.5,1.5,1.5h3c0.828,0,1.5-0.672,1.5-1.5S34.328,16,33.5,16z     M28.561,26.439C28.289,26.168,27.914,26,27.5,26c-0.828,0-1.5,0.672-1.5,1.5c0,0.414,0.168,0.789,0.439,1.06l2,2    C28.711,30.832,29.086,31,29.5,31c0.828,0,1.5-0.672,1.5-1.5c0-0.414-0.168-0.789-0.439-1.061L28.561,26.439z M17.5,29    c-0.829,0-1.5,0.672-1.5,1.5v3c0,0.828,0.671,1.5,1.5,1.5s1.5-0.672,1.5-1.5v-3C19,29.672,18.329,29,17.5,29z M17.5,7    C11.71,7,7,11.71,7,17.5S11.71,28,17.5,28S28,23.29,28,17.5S23.29,7,17.5,7z M17.5,25c-4.136,0-7.5-3.364-7.5-7.5    c0-4.136,3.364-7.5,7.5-7.5c4.136,0,7.5,3.364,7.5,7.5C25,21.636,21.636,25,17.5,25z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" id="nightIcon" x="0px" y="0px" viewBox="0 0 100 100" style="enable-background:new 0 0 100 100" xml:space="preserve" aria-label="Light mode"><title>Light mode</title><path d="M96.76,66.458c-0.853-0.852-2.15-1.064-3.23-0.534c-6.063,2.991-12.858,4.571-19.655,4.571  C62.022,70.495,50.88,65.88,42.5,57.5C29.043,44.043,25.658,23.536,34.076,6.47c0.532-1.08,0.318-2.379-0.534-3.23  c-0.851-0.852-2.15-1.064-3.23-0.534c-4.918,2.427-9.375,5.619-13.246,9.491c-9.447,9.447-14.65,22.008-14.65,35.369  c0,13.36,5.203,25.921,14.65,35.368s22.008,14.65,35.368,14.65c13.361,0,25.921-5.203,35.369-14.65  c3.872-3.871,7.064-8.328,9.491-13.246C97.826,68.608,97.611,67.309,96.76,66.458z"></path></svg></button></div><div class="center"><div class="page-header"><div class="popover-hint"><nav class="breadcrumb-container" aria-label="breadcrumbs"><div class="breadcrumb-element"><a href="./">Home</a><p> ‚ùØ </p></div><div class="breadcrumb-element"><a href>pVectorSearch2023-06-13</a></div></nav><h1 class="article-title">pVectorSearch2023-06-13</h1><p show-comma="true" class="content-meta"><span>Jun 15, 2023</span><span>6 min read</span></p></div></div><article class="popover-hint"><p>from  <a href="./Diary-2023-06-13" class="internal alias" data-slug="Diary-2023-06-13">Diary 2023-06-13</a>
prev <a href="./pVectorSearch2023-06-07" class="internal" data-slug="pVectorSearch2023-06-07">pVectorSearch2023-06-07</a></p>
<p><a href="./Make-private-materials-eligible-for-vector-search" class="internal alias" data-slug="Make-private-materials-eligible-for-vector-search">Make private materials eligible for vector search</a>.</p>
<ul>
<li>I have a feeling we‚Äôre going to have an accident.</li>
<li>First, put the public flag on the data created from the public Scrapbox.
<ul>
<li>And make the default search from public</li>
<li>If you‚Äôre going to re-install this data, why not re-crawl it first, even if you don‚Äôt add the UPDATE feature in its current state?</li>
</ul>
</li>
<li>private is diverse, so make it a separate tag instead of a private flag</li>
<li>Display a check box to add records with a specific tag to the search target list only for people with specific permissions.</li>
</ul>
<p>Add search targets for specific people only</p>
<ul>
<li>Working on authorizing certain people, I want to make it an in-byte code because it would be a mistake for me to work on it.</li>
<li>The implementation of this feature is going to be buggy to begin with.</li>
</ul>
<p>Notion seems to be able to export entire subpages in Markdown.</p>
<ul>
<li><img src="https://gyazo.com/b7524c5f56157b4ba95ae507441b5577/thumb/1000" alt="image"/></li>
</ul>
<blockquote>
<p>If you‚Äôre going to re-install this data, why not just re-crawl it first, even if you haven‚Äôt added the UPDATE feature to the current situation?</p>
</blockquote>
<ul>
<li>‚úÖRecrawl all together, about 5 minutes.
embedding from JSON was not yet batch.</li>
<li>Single ‚úÖ code
Experiment with filtering the search during embedding town</li>
<li>I know how to call the API.</li>
<li>We need to receive data about the filter from the UI.</li>
</ul>
<p>Talk about making Notion a search target.</p>
<ul>
<li>I‚Äôd like to see you jump to the target when you click on a hit.</li>
<li>But unlike Scrapbox, the link destination is not determined by the project and page name.</li>
<li>We need to come up with data for the UI.</li>
<li>This time, a particular private page is exported, including supppages.</li>
<li>If I had the URL of the root page, could I restore it?
<ul>
<li>Oh, I see.
<ul>
<li>local filename
<ul>
<li><code>Proposal 2: Nishio 7d7c95ceaeb446418bffe462034292bd.md</code>.</li>
</ul>
</li>
<li>This part of the ID looks like a worldwide unique ID.
<ul>
<li>You can jump to the destination page with <code>notion.so/7d7c95ceaeb446418bffe462034292bd</code>.</li>
</ul>
</li>
</ul>
</li>
<li>Then <code>{type: notion, id: xxx}</code>‚Ä¶</li>
</ul>
</li>
</ul>
<p>:</p>
<pre><code>processing 15469 pages
100%|...| 15469/15469 [00:53&lt;00:00, 290.87it/s]
processing 13893 tasks in 277 batches)
100%|...| 278/278 [11:27&lt;00:00,  2.47s/it]
</code></pre>
<p>Well, if I understand it correctly, this is an implementation that can easily be used for differential updates.</p>
<ul>
<li>Past self, great!</li>
</ul>
<p>:</p>
<pre><code># halsk
processing 1281 pages
100%|...| 1281/1281 [00:02&lt;00:00, 619.70it/s]
total tasks: 2221,  1.00% was cached
processing 0 tasks in 0 batches)
0it [00:00, ?it/s]

# yuiseki
processing 2778 pages
100%|...| 2778/2778 [00:09&lt;00:00, 289.72it/s]
total tasks: 4738,  0.92% was cached
processing 375 tasks in 8 batches)
100%|...| 8/8 [00:25&lt;00:00,  3.13s/it]

# tkgshn
processing 5750 pages
100%|...| 5750/5750 [00:11&lt;00:00, 486.96it/s]
total tasks: 12117,  0.97% was cached
processing 308 tasks in 7 batches)
100%|...| 7/7 [00:20&lt;00:00,  2.89s/it]
</code></pre>
<p>I was able to update the diff.</p>
<p>I was able to get the code to take the title and ID for each page from the Notion export data.</p>
<p>The rest will be done tomorrow.
TODO</p>
<ul>
<li>Creating Data from Notion</li>
<li>Create a view of Notion search results</li>
<li>Only people with certain privileges get the UI out.</li>
<li>Search filtering by checking specific permissions</li>
<li>Receive data about filters from the UI</li>
<li>Re-enter data into Qdrant.</li>
</ul>
<p>2023-06-14</p>
<ul>
<li>I thought it would be better to include Discord discussions in the search, so for now, I‚Äôve decided to split the logs by date and put them on Notion this time.
<ul>
<li>Abst of various papers were put into Notion at DeepL</li>
<li>Early minutes from Google Docs were also copied and pasted into Notion.</li>
</ul>
</li>
</ul>
<p>Create data from ‚úÖNotion</p>
<ul>
<li>Try it in Local‚Äôs qdrant.
<ul>
<li>‚úÖConfirmation that it is a hit if it is left as is.</li>
<li>Confirm that if you are searching from ‚úÖpublic only, you will not get any hits.
‚úÖCreate a view of the Notion search results</li>
</ul>
</li>
<li>You can now click on a search result to jump to either Scrapbox or Notion.</li>
</ul>
<p>Only people with certain privileges get the UI out.</p>
<ul>
<li>Hmmm, what a pain in the ass.</li>
<li>For example, if you reverse-engineer the JS to make the display condition that a specific key is in localStorage, you can do it.</li>
<li>Should I check my login status even if it‚Äôs a hassle?</li>
<li>Consult with GPT4: <a href="./Feature-Toggle" class="internal alias" data-slug="Feature-Toggle">Feature Toggle</a> under <a href="./Custom-Claims" class="internal alias" data-slug="Custom-Claims">Custom Claims</a> in [Firebase Auth
<ul>
<li><a href="https://chat.openai.com/share/d4be9a75-1e8a-4a3a-b3fe-effaa1efc200" class="external">https://chat.openai.com/share/d4be9a75-1e8a-4a3a-b3fe-effaa1efc200<svg aria-hidden="true" class="external-icon" style="max-width:0.8em;max-height:0.8em;" viewBox="0 0 512 512"><path d="M320 0H288V64h32 82.7L201.4 265.4 178.7 288 224 333.3l22.6-22.6L448 109.3V192v32h64V192 32 0H480 320zM32 32H0V64 480v32H32 456h32V480 352 320H424v32 96H64V96h96 32V32H160 32z"></path></svg></a></li>
<li>Ah, I see, we can create an API to grant and do it on the server side.</li>
<li><a href="https://firebase.google.com/docs/admin/setup?hl=ja" class="external">Add Firebase Admin SDK to your server<svg aria-hidden="true" class="external-icon" style="max-width:0.8em;max-height:0.8em;" viewBox="0 0 512 512"><path d="M320 0H288V64h32 82.7L201.4 265.4 178.7 288 224 333.3l22.6-22.6L448 109.3V192v32h64V192 32 0H480 320zM32 32H0V64 480v32H32 456h32V480 352 320H424v32 96H64V96h96 32V32H160 32z"></path></svg></a></li>
<li>The GPT4 information was a bit out of date and the line break escapes were no longer needed.
<ul>
<li>These skills are still needed.</li>
</ul>
</li>
<li>I was able to display it.</li>
</ul>
</li>
<li><img src="https://gyazo.com/d5a812c16b793709c754b33de850cff4/thumb/1000" alt="image"/><img src="https://gyazo.com/3b8e53257a7bd9bd965c970a213faaee/thumb/1000" alt="image"/>
<ul>
<li>It‚Äôs done.</li>
</ul>
</li>
</ul>
<p>Search filtering by checking specific permissions</p>
<ul>
<li>When featureA is ON, that information is also passed to the search API. Then, after confirming that the user is authorized, the search is reflected in the filter settings.</li>
<li>No, this is a different issue, being able to switch the search target with a checkbox and allowing only those with special privileges to search for special targets.</li>
<li>Let‚Äôs just do the latter first because it‚Äôs too complicated to do all at once.</li>
<li>It‚Äôs done.</li>
</ul>
<p>The only thing left to do is to find a way to make it possible to give Custom Claims to specific users without me having to mess with the DB.</p>
<ul>
<li>Take password with prompt and send it to setCustomClaim API</li>
<li>Why was I able to set it up last time but not this time?</li>
<li>
<blockquote>
<p>When a user‚Äôs new claim is changed in the Admin SDK, it is propagated to the authenticated user on the client side by an identity token as follows</p>
</blockquote>
</li>
<li>
<blockquote>
<p>The user logs in or re-authenticates after a custom claim change. The resulting identity token issued will contain the latest claim.</p>
</blockquote>
</li>
<li>
<blockquote>
<p>When an old token expires, its identity token is renewed in the existing user session.</p>
</blockquote>
</li>
<li>
<blockquote>
<p>The identity token is forced to be updated by calling currentUser.getIdToken(true).</p>
</blockquote>
<ul>
<li><a href="https://firebase.google.com/docs/auth/admin/custom-claims?hl=ja" class="external">Controlling Access with Custom Claims and Security Rules | Firebase Authentication<svg aria-hidden="true" class="external-icon" style="max-width:0.8em;max-height:0.8em;" viewBox="0 0 512 512"><path d="M320 0H288V64h32 82.7L201.4 265.4 178.7 288 224 333.3l22.6-22.6L448 109.3V192v32h64V192 32 0H480 320zM32 32H0V64 480v32H32 456h32V480 352 320H424v32 96H64V96h96 32V32H160 32z"></path></svg></a></li>
</ul>
</li>
<li>Ah, I see, it‚Äôs cached.</li>
<li>UI aside, it‚Äôs done.</li>
<li>Custom claims should be added, but now they‚Äôre being overwritten, which is good because we only have one right now, but we need to fix it when we do the second one.</li>
</ul>
<p><img src="https://gyazo.com/1af1f02dd048cee348904a7d6e21973a/thumb/1000" alt="image"/></p>
<ul>
<li><img src="https://gyazo.com/2497a73d671c1780bfe6ea10fb0e97b9/thumb/1000" alt="image"/></li>
</ul>
<p>Send data to the cloud side</p>
<ul>
<li>All replaced this time.</li>
<li>The write operation timed out` even if I put in code to stop indexing and wait 1 second for each batch insert.</li>
<li>I changed the code to wait 10 seconds and retry when it fails.</li>
<li><img src="https://gyazo.com/799c5be1d5ab2697891a269a0051f714/thumb/1000" alt="image"/>
<ul>
<li>Wow, three bumps in the road at the beginning, but the rest is pretty steady.</li>
<li>If so, then the current design, which only sleeps more when it falls, instead of sleeping every time, seems to be correct.</li>
</ul>
</li>
</ul>
<p>The problem gets worse on iPhone, I figured out how to reproduce it on PC.</p>
<ul>
<li><img src="https://gyazo.com/73df1b8399016a56ed7d0a35b4b1257c/thumb/1000" alt="image"/><img src="https://gyazo.com/478aafb16a5535e199fa1f307b4d43d8/thumb/1000" alt="image"/></li>
<li>Fixed.</li>
</ul>
<p>Deploying to Vercel environment is rubbish.</p>
<ul>
<li>Forgot to set environment variables
<ul>
<li>Why don‚Äôt we just do the Vercel side when we change the .env.local?</li>
</ul>
</li>
<li>There was a path that did not pass through Firebase initialization.
<ul>
<li>careless mistake</li>
</ul>
</li>
</ul>
<p>It worked, and we‚Äôre happy.</p>
<hr/>
<p>This page is auto-translated from <a href="https://scrapbox.io/nishio/pVectorSearch2023-06-13" class="external">/nishio/pVectorSearch2023-06-13<svg aria-hidden="true" class="external-icon" style="max-width:0.8em;max-height:0.8em;" viewBox="0 0 512 512"><path d="M320 0H288V64h32 82.7L201.4 265.4 178.7 288 224 333.3l22.6-22.6L448 109.3V192v32h64V192 32 0H480 320zM32 32H0V64 480v32H32 456h32V480 352 320H424v32 96H64V96h96 32V32H160 32z"></path></svg></a> using DeepL. If you looks something interesting but the auto-translated English is not good enough to understand it, feel free to let me know at <a href="https://twitter.com/nishio_en" class="external">@nishio_en<svg aria-hidden="true" class="external-icon" style="max-width:0.8em;max-height:0.8em;" viewBox="0 0 512 512"><path d="M320 0H288V64h32 82.7L201.4 265.4 178.7 288 224 333.3l22.6-22.6L448 109.3V192v32h64V192 32 0H480 320zM32 32H0V64 480v32H32 456h32V480 352 320H424v32 96H64V96h96 32V32H160 32z"></path></svg></a>. I‚Äôm very happy to spread my thought to non-Japanese readers.</p></article><hr/><div class="page-footer"></div></div><div class="right sidebar"><div class="graph"><h3>Graph View</h3><div class="graph-outer"><div id="graph-container" data-cfg="{&quot;drag&quot;:true,&quot;zoom&quot;:true,&quot;depth&quot;:1,&quot;scale&quot;:1.1,&quot;repelForce&quot;:0.5,&quot;centerForce&quot;:0.3,&quot;linkDistance&quot;:30,&quot;fontSize&quot;:0.6,&quot;opacityScale&quot;:1,&quot;showTags&quot;:true,&quot;removeTags&quot;:[],&quot;focusOnHover&quot;:false}"></div><button id="global-graph-icon" aria-label="Global Graph"><svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 55 55" fill="currentColor" xml:space="preserve"><path d="M49,0c-3.309,0-6,2.691-6,6c0,1.035,0.263,2.009,0.726,2.86l-9.829,9.829C32.542,17.634,30.846,17,29,17
                s-3.542,0.634-4.898,1.688l-7.669-7.669C16.785,10.424,17,9.74,17,9c0-2.206-1.794-4-4-4S9,6.794,9,9s1.794,4,4,4
                c0.74,0,1.424-0.215,2.019-0.567l7.669,7.669C21.634,21.458,21,23.154,21,25s0.634,3.542,1.688,4.897L10.024,42.562
                C8.958,41.595,7.549,41,6,41c-3.309,0-6,2.691-6,6s2.691,6,6,6s6-2.691,6-6c0-1.035-0.263-2.009-0.726-2.86l12.829-12.829
                c1.106,0.86,2.44,1.436,3.898,1.619v10.16c-2.833,0.478-5,2.942-5,5.91c0,3.309,2.691,6,6,6s6-2.691,6-6c0-2.967-2.167-5.431-5-5.91
                v-10.16c1.458-0.183,2.792-0.759,3.898-1.619l7.669,7.669C41.215,39.576,41,40.26,41,41c0,2.206,1.794,4,4,4s4-1.794,4-4
                s-1.794-4-4-4c-0.74,0-1.424,0.215-2.019,0.567l-7.669-7.669C36.366,28.542,37,26.846,37,25s-0.634-3.542-1.688-4.897l9.665-9.665
                C46.042,11.405,47.451,12,49,12c3.309,0,6-2.691,6-6S52.309,0,49,0z M11,9c0-1.103,0.897-2,2-2s2,0.897,2,2s-0.897,2-2,2
                S11,10.103,11,9z M6,51c-2.206,0-4-1.794-4-4s1.794-4,4-4s4,1.794,4,4S8.206,51,6,51z M33,49c0,2.206-1.794,4-4,4s-4-1.794-4-4
                s1.794-4,4-4S33,46.794,33,49z M29,31c-3.309,0-6-2.691-6-6s2.691-6,6-6s6,2.691,6,6S32.309,31,29,31z M47,41c0,1.103-0.897,2-2,2
                s-2-0.897-2-2s0.897-2,2-2S47,39.897,47,41z M49,10c-2.206,0-4-1.794-4-4s1.794-4,4-4s4,1.794,4,4S51.206,10,49,10z"></path></svg></button></div><div id="global-graph-outer"><div id="global-graph-container" data-cfg="{&quot;drag&quot;:true,&quot;zoom&quot;:true,&quot;depth&quot;:-1,&quot;scale&quot;:0.9,&quot;repelForce&quot;:0.5,&quot;centerForce&quot;:0.3,&quot;linkDistance&quot;:30,&quot;fontSize&quot;:0.6,&quot;opacityScale&quot;:1,&quot;showTags&quot;:true,&quot;removeTags&quot;:[],&quot;focusOnHover&quot;:true}"></div></div></div><div class="backlinks"><h3>Backlinks</h3><ul class="overflow"><li><a href="./Diary-2023-06-13" class="internal">Diary 2023-06-13</a></li><li><a href="./pVecSearch2024-03-22-look-back" class="internal">pVecSearch2024-03-22 look back</a></li><li><a href="./pVectorSearch" class="internal">pVectorSearch</a></li></ul></div></div><footer class><p>Created with <a href="https://quartz.jzhao.xyz/">Quartz v4.4.0</a> ¬© 2024</p><ul><li><a href="https://github.com/jackyzha0/quartz">GitHub</a></li><li><a href="https://discord.gg/cRFFHYye7t">Discord Community</a></li></ul></footer></div></div></body><script type="application/javascript">function c(){let t=this.parentElement;t.classList.toggle("is-collapsed");let l=t.classList.contains("is-collapsed")?this.scrollHeight:t.scrollHeight;t.style.maxHeight=l+"px";let o=t,e=t.parentElement;for(;e;){if(!e.classList.contains("callout"))return;let n=e.classList.contains("is-collapsed")?e.scrollHeight:e.scrollHeight+o.scrollHeight;e.style.maxHeight=n+"px",o=e,e=e.parentElement}}function i(){let t=document.getElementsByClassName("callout is-collapsible");for(let s of t){let l=s.firstElementChild;if(l){l.addEventListener("click",c),window.addCleanup(()=>l.removeEventListener("click",c));let e=s.classList.contains("is-collapsed")?l.scrollHeight:s.scrollHeight;s.style.maxHeight=e+"px"}}}document.addEventListener("nav",i);window.addEventListener("resize",i);
</script><script src="https://cdn.jsdelivr.net/npm/katex@0.16.11/dist/contrib/copy-tex.min.js" type="application/javascript"></script><script src="./postscript.js" type="module"></script></html>