<!DOCTYPE html>
<html lang="en"><head><title>Hatena2008-04-30</title><meta charset="utf-8"/><link rel="preconnect" href="https://fonts.googleapis.com"/><link rel="preconnect" href="https://fonts.gstatic.com"/><link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=IBM Plex Mono&amp;family=Schibsted Grotesk:wght@400;700&amp;family=Source Sans Pro:ital,wght@0,400;0,600;1,400;1,600&amp;display=swap"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><meta name="og:site_name" content="ü™¥ Quartz 4.0"/><meta property="og:title" content="Hatena2008-04-30"/><meta property="og:type" content="website"/><meta name="twitter:card" content="summary_large_image"/><meta name="twitter:title" content="Hatena2008-04-30"/><meta name="twitter:description" content="hatena &lt;body> *1209548398*Thanks for the introduction~! yoshiori.org/blog/2008/04/jython.php >> The fact that it is neither a Python book nor a Java book but a Jython ..."/><meta property="og:description" content="hatena &lt;body> *1209548398*Thanks for the introduction~! yoshiori.org/blog/2008/04/jython.php >> The fact that it is neither a Python book nor a Java book but a Jython ..."/><meta property="og:image:type" content="image/webp"/><meta property="og:image:alt" content="hatena &lt;body> *1209548398*Thanks for the introduction~! yoshiori.org/blog/2008/04/jython.php >> The fact that it is neither a Python book nor a Java book but a Jython ..."/><meta property="og:image:width" content="1200"/><meta property="og:image:height" content="630"/><meta property="og:width" content="1200"/><meta property="og:height" content="630"/><meta property="og:image:url" content="https://quartz.jzhao.xyz/static/og-image.png"/><meta name="twitter:image" content="https://quartz.jzhao.xyz/static/og-image.png"/><meta property="og:image" content="https://quartz.jzhao.xyz/static/og-image.png"/><meta property="twitter:domain" content="quartz.jzhao.xyz"/><meta property="og:url" content="https:/quartz.jzhao.xyz/Hatena2008-04-30"/><meta property="twitter:url" content="https:/quartz.jzhao.xyz/Hatena2008-04-30"/><link rel="icon" href="./static/icon.png"/><meta name="description" content="hatena &lt;body> *1209548398*Thanks for the introduction~! yoshiori.org/blog/2008/04/jython.php >> The fact that it is neither a Python book nor a Java book but a Jython ..."/><meta name="generator" content="Quartz"/><link href="./index.css" rel="stylesheet" type="text/css" spa-preserve/><link href="https://cdn.jsdelivr.net/npm/katex@0.16.11/dist/katex.min.css" rel="stylesheet" type="text/css" spa-preserve/><script src="./prescript.js" type="application/javascript" spa-preserve></script><script type="application/javascript" spa-preserve>const fetchData = fetch("./static/contentIndex.json").then(data => data.json())</script></head><body data-slug="Hatena2008-04-30"><div id="quartz-root" class="page"><div id="quartz-body"><div class="left sidebar"><h2 class="page-title"><a href=".">ü™¥ Quartz 4.0</a></h2><div class="spacer mobile-only"></div><div class="search"><button class="search-button" id="search-button"><p>Search</p><svg role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 19.9 19.7"><title>Search</title><g class="search-path" fill="none"><path stroke-linecap="square" d="M18.5 18.3l-5.4-5.4"></path><circle cx="8" cy="8" r="7"></circle></g></svg></button><div id="search-container"><div id="search-space"><input autocomplete="off" id="search-bar" name="search" type="text" aria-label="Search for something" placeholder="Search for something"/><div id="search-layout" data-preview="true"></div></div></div></div><button class="darkmode" id="darkmode"><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" id="dayIcon" x="0px" y="0px" viewBox="0 0 35 35" style="enable-background:new 0 0 35 35" xml:space="preserve" aria-label="Dark mode"><title>Dark mode</title><path d="M6,17.5C6,16.672,5.328,16,4.5,16h-3C0.672,16,0,16.672,0,17.5    S0.672,19,1.5,19h3C5.328,19,6,18.328,6,17.5z M7.5,26c-0.414,0-0.789,0.168-1.061,0.439l-2,2C4.168,28.711,4,29.086,4,29.5    C4,30.328,4.671,31,5.5,31c0.414,0,0.789-0.168,1.06-0.44l2-2C8.832,28.289,9,27.914,9,27.5C9,26.672,8.329,26,7.5,26z M17.5,6    C18.329,6,19,5.328,19,4.5v-3C19,0.672,18.329,0,17.5,0S16,0.672,16,1.5v3C16,5.328,16.671,6,17.5,6z M27.5,9    c0.414,0,0.789-0.168,1.06-0.439l2-2C30.832,6.289,31,5.914,31,5.5C31,4.672,30.329,4,29.5,4c-0.414,0-0.789,0.168-1.061,0.44    l-2,2C26.168,6.711,26,7.086,26,7.5C26,8.328,26.671,9,27.5,9z M6.439,8.561C6.711,8.832,7.086,9,7.5,9C8.328,9,9,8.328,9,7.5    c0-0.414-0.168-0.789-0.439-1.061l-2-2C6.289,4.168,5.914,4,5.5,4C4.672,4,4,4.672,4,5.5c0,0.414,0.168,0.789,0.439,1.06    L6.439,8.561z M33.5,16h-3c-0.828,0-1.5,0.672-1.5,1.5s0.672,1.5,1.5,1.5h3c0.828,0,1.5-0.672,1.5-1.5S34.328,16,33.5,16z     M28.561,26.439C28.289,26.168,27.914,26,27.5,26c-0.828,0-1.5,0.672-1.5,1.5c0,0.414,0.168,0.789,0.439,1.06l2,2    C28.711,30.832,29.086,31,29.5,31c0.828,0,1.5-0.672,1.5-1.5c0-0.414-0.168-0.789-0.439-1.061L28.561,26.439z M17.5,29    c-0.829,0-1.5,0.672-1.5,1.5v3c0,0.828,0.671,1.5,1.5,1.5s1.5-0.672,1.5-1.5v-3C19,29.672,18.329,29,17.5,29z M17.5,7    C11.71,7,7,11.71,7,17.5S11.71,28,17.5,28S28,23.29,28,17.5S23.29,7,17.5,7z M17.5,25c-4.136,0-7.5-3.364-7.5-7.5    c0-4.136,3.364-7.5,7.5-7.5c4.136,0,7.5,3.364,7.5,7.5C25,21.636,21.636,25,17.5,25z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" id="nightIcon" x="0px" y="0px" viewBox="0 0 100 100" style="enable-background:new 0 0 100 100" xml:space="preserve" aria-label="Light mode"><title>Light mode</title><path d="M96.76,66.458c-0.853-0.852-2.15-1.064-3.23-0.534c-6.063,2.991-12.858,4.571-19.655,4.571  C62.022,70.495,50.88,65.88,42.5,57.5C29.043,44.043,25.658,23.536,34.076,6.47c0.532-1.08,0.318-2.379-0.534-3.23  c-0.851-0.852-2.15-1.064-3.23-0.534c-4.918,2.427-9.375,5.619-13.246,9.491c-9.447,9.447-14.65,22.008-14.65,35.369  c0,13.36,5.203,25.921,14.65,35.368s22.008,14.65,35.368,14.65c13.361,0,25.921-5.203,35.369-14.65  c3.872-3.871,7.064-8.328,9.491-13.246C97.826,68.608,97.611,67.309,96.76,66.458z"></path></svg></button></div><div class="center"><div class="page-header"><div class="popover-hint"><nav class="breadcrumb-container" aria-label="breadcrumbs"><div class="breadcrumb-element"><a href="./">Home</a><p> ‚ùØ </p></div><div class="breadcrumb-element"><a href>Hatena2008-04-30</a></div></nav><h1 class="article-title">Hatena2008-04-30</h1><p show-comma="true" class="content-meta"><span>Apr 30, 2008</span><span>7 min read</span></p></div></div><article class="popover-hint"><p>hatena</p>
<pre><code>&lt;body>
*1209548398*Thanks for the introduction~!
http://yoshiori.org/blog/2008/04/jython.php


>>
The fact that it is neither a Python book nor a Java book but a Jython book is amazing!
&lt;&lt;

I am relieved to hear you say so. It was a bit like an Eclipse book and a bit like an object-oriented book.

*1209558689*[Python]Reusing sockets with SocketServer
>|python|
SocketServer.ThreadingTCPServer.allow_reuse_address = True
||&lt;

If you write &quot;s.allow_reuse_address = True&quot;, SO_REUSEADDR will be added when creating the socket internally, so when you start the server again immediately after quitting the server, you will not get angry at &quot;Addres already used&quot;. I wrote the above because I wanted to reuse all instances, but if you want to reuse only a specific instance, you can use &quot;s.allow_reuse_address = True&quot; for that instance s.


I lost several minutes in total because I had to wait 30 seconds several times before I understood it and waited 30 seconds for it to become reusable.

*1209560307*[TopCoder] SRM400 tomorrow at 20:00
I haven't studied much; I think I'll concentrate on making sure I solve the 250 point problems. If I don't know a library I should know, I'll look it up on the spot.


Also, those who say &quot;TopCoder is hard because it is an overseas event and the time zone is late at night&quot; should realize that they are not even checking when the next event is coming up because they are not motivated to participate in TopCoder at all. If it's just one person who is not motivated, it's still harmless, but if it's just one person who is not motivated, it's detrimental to others.


And so the next event will be held at 8:00 p.m., a time when &quot;you have to be careful not to eat too much dinner and get sleepy&quot;.

http://www.topcoder.com/tc?module=MatchDetails&amp;rd=12172

>>
Total Prize Purse of $5,000 !!!
(snip)
The first and second place competitors in each division two room will receive 60% and 40% of the room award, respectively.
&lt;&lt;

Oh wow?

Let me explain. The next SRM400 has a $5,000 prize from British Telecom. I used to think that it was none of my business, but I guess not. Those who are just starting out or have not yet reached a rating of 1400 will play in a &quot;second group&quot; called DIV 2, which will receive 30% of the total prize money. Then, 20 players will be randomly assigned to each room, and the first and second place players in each room will get the prize money. Even if it is random, there is a 10% chance of getting the prize money. w

Of course, the total prize money is not that big, so it is likely to be around 1,000~1,500 yen for the first place in the room in DIV2, but it is cool to receive the prize money regardless of the amount (oh).

&lt;&lt;

*1209561695*Dedication
At any rate, one of the six Jython books sent to the author was mailed via the lab bookshelf, and the other five were mailed to students without money. I don't have a single copy. Well, I'm sure they will be back on the lab bookshelf soon. So, it will be a while before the third donation is made. I am afraid I can't do anything without stock.

Just to summarize our current thinking, we may send the book donation to those who meet both of the two conditions below. Even those who do not satisfy both conditions may receive a book donation. It's just a &quot;may be sent&quot;.

- Student or minor
- Annual income less than 3 million yen

If you want one, please email me at my email address with your name, address, zip code, etc. Well, but I don't know when the next stock will be available, so if you want to get it quickly, it would be better to buy it on Amazon. I think this is mainly for students who want to read the book, but 3000 yen is too expensive....

Should we donate it to a library or something along with it?

*1209567897* Moths
There is a large, healthy moth in the house that may have come in attached to my bag (tears).

*1209568354*[cpp]What I learned today.
I wasn't going to study, but when TopCoder comes around, I tend to study, one of the three virtues of programmers: self-esteem.

- boost::optional
-- like Haskell's Maybe, but in C++!
-- This makes it much easier!
-- http://www.kmonos.net/alang/boost/classes/optional.html

- boost::tokenizer
-- This is useful, and it should be, but the mold looks amazing.
-- It should be easy to take two characters out of a given string, and so on.
-- http://www.kmonos.net/alang/boost/classes/tokenizer.html


- I think I probably need to be able to use MAP.


-----

>|cpp|
template&lt;class T, size_t N>
size_t len(T (&amp;)[N]){
  return N;
};

||&lt;

This is what is possible.

>|cpp|
template&lt;typename T1, typename T2, size_t N>
map&lt;T1, T2> mapzip(T1(&amp;)[N] keys, T2(&amp;)[N] values){
  map&lt;T1, T2> m;
  for(size_t i=0; i&lt;N; i++){
    m[keys[i]] = values[i]; 
  }
  return m;
};
||&lt;

I was hoping to be able to do this as well, but it seems I need to understand typename, (&amp;)[N], etc.

-----

>|cpp|
template&lt;class T1, class T2>
map&lt;T1, T2> mapzip(T1 keys[], T2 values[], size_t N){
  map&lt;T1, T2> m;
  for(size_t i=0; i&lt;N; i++){
    m[keys[i]] = values[i]; 
  }
  return m;
};

int main() {
  int xs[] = {1, 2, 3}, ys[] = {10, 20, 30};
  map&lt;int, int> m = mapzip(xs, ys, 3); 
  print_map(m.begin(), m.end());
}
||&lt;

Compromise.
I was going to make one that I could call print_map(m) but it doesn't work.

-----

I was able to print_map.

>|cpp|
template&lt;typename K, typename V>
  void print_map2(map&lt;K, V> m){
  cout &lt;&lt; &quot;{&quot;;
  for(typename map&lt;K, V>::iterator it=m.begin(); it != m.end(); ++it){
    if(it != m.begin()) cout &lt;&lt; &quot;, &quot;;
    cout &lt;&lt; (*it).first &lt;&lt; &quot;:&quot; &lt;&lt; (*it).second;
  }
  cout &lt;&lt; &quot;}&quot; &lt;&lt; endl;
}
||&lt;

The &quot;for(typename&quot; is important.

-----

I was also able to mapzip.

>|cpp|
template&lt;class T1, class T2, size_t N>
map&lt;T1, T2> mapzip(const T1(&amp;keys)[N], const T2(&amp;values)[N]){
  map&lt;T1, T2> m;
  for(size_t i=0; i&lt;len(keys); i++){
    m[keys[i]] = values[i]; 
  }
  return m;
};

int main() {
  int xs[] = {1, 2, 3}, ys[] = {10, 20, 30};
  map&lt;int, int> m = mapzip(xs, ys); 
  print_map2(m);
}
||&lt;
The variable name was to be entered after the &amp;.
&lt;/body>
&lt;comments>
&lt;comment>
&lt;username>sakaguchi&lt;/username>
&lt;body>Oh&lt;br>When did you finish it? &lt;BR>Congratulations! &lt;BR>&lt;BR>Well, then, as I promised sometime ago, I would like to have a signed book...&lt;BR>Of course, I will pay for it! &lt;/body>
&lt;timestamp>1209567112&lt;/timestamp>
&lt;/comment>
&lt;comment>
&lt;username>jbking&lt;/username>
&lt;body>I would like to know how to reliably send from Amazon to Egypt. &lt;/body>
&lt;timestamp>1209575737&lt;/timestamp>
&lt;/comment>
&lt;comment>
&lt;username>herumi&lt;/username>
&lt;body>template&lt;typename K, typename V>&lt;br> void print_map2(const map&lt;K, V>&amp; m){ // always pass by const reference if you don't want to mess with the contents. &lt;br>&lt;br> cout &lt;&lt; &quot;{&quot;;&lt;br> for(typename map&lt;K, V>::const_iterator it=m.begin(); it ! = m.end(); ++it){ // consequently const here too&lt;br> if(it ! = m.begin()) cout &lt;&lt; &quot;, &quot;;&lt;br> cout &lt;&lt; it->first &lt;&lt; ':' &lt;&lt; it->second; // has fewer types&lt;br> }&lt;br cout &lt;&lt; &quot;}&quot; &lt;&lt; endl;&lt;br>}&lt;/body>
&lt;timestamp>1209592081&lt;/timestamp>
&lt;/comment>
&lt;comment>
&lt;username>moira&lt;/username>
&lt;body>If you search for &quot;TopCoder&quot; in Google Calendar, you can check the schedule of SRM. (The time difference is also automatically calculated.)&lt;/body>
&lt;timestamp>1209599018&lt;/timestamp>
&lt;/comment>
&lt;comment>
&lt;username>setomits&lt;/username>
&lt;body>I am sorry to comment on an old entry. &lt;BR>If there is no connection to the server that started it, it is OK, but if there is even one connection, it still gets angry? &lt;/body>
&lt;timestamp>1251855498&lt;/timestamp>
&lt;/comment>
&lt;/comments>
</code></pre>
<h2 id="hatena-diary-2008-04-30"><a href="https://nishiohirokazu.hatenadiary.org/archive/2008/04/30" class="external">Hatena Diary 2008-04-30<svg aria-hidden="true" class="external-icon" style="max-width:0.8em;max-height:0.8em;" viewBox="0 0 512 512"><path d="M320 0H288V64h32 82.7L201.4 265.4 178.7 288 224 333.3l22.6-22.6L448 109.3V192v32h64V192 32 0H480 320zM32 32H0V64 480v32H32 456h32V480 352 320H424v32 96H64V96h96 32V32H160 32z"></path></svg></a><a role="anchor" aria-hidden="true" tabindex="-1" data-no-popover="true" href="#hatena-diary-2008-04-30" class="internal"><svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg></a></h2>
<p>This page is auto-translated from <a href="https://scrapbox.io/nishio/Hatena2008-04-30" class="external">/nishio/Hatena2008-04-30<svg aria-hidden="true" class="external-icon" style="max-width:0.8em;max-height:0.8em;" viewBox="0 0 512 512"><path d="M320 0H288V64h32 82.7L201.4 265.4 178.7 288 224 333.3l22.6-22.6L448 109.3V192v32h64V192 32 0H480 320zM32 32H0V64 480v32H32 456h32V480 352 320H424v32 96H64V96h96 32V32H160 32z"></path></svg></a> using DeepL. If you looks something interesting but the auto-translated English is not good enough to understand it, feel free to let me know at <a href="https://twitter.com/nishio_en" class="external">@nishio_en<svg aria-hidden="true" class="external-icon" style="max-width:0.8em;max-height:0.8em;" viewBox="0 0 512 512"><path d="M320 0H288V64h32 82.7L201.4 265.4 178.7 288 224 333.3l22.6-22.6L448 109.3V192v32h64V192 32 0H480 320zM32 32H0V64 480v32H32 456h32V480 352 320H424v32 96H64V96h96 32V32H160 32z"></path></svg></a>. I‚Äôm very happy to spread my thought to non-Japanese readers.</p></article><hr/><div class="page-footer"></div></div><div class="right sidebar"><div class="graph"><h3>Graph View</h3><div class="graph-outer"><div id="graph-container" data-cfg="{&quot;drag&quot;:true,&quot;zoom&quot;:true,&quot;depth&quot;:1,&quot;scale&quot;:1.1,&quot;repelForce&quot;:0.5,&quot;centerForce&quot;:0.3,&quot;linkDistance&quot;:30,&quot;fontSize&quot;:0.6,&quot;opacityScale&quot;:1,&quot;showTags&quot;:true,&quot;removeTags&quot;:[],&quot;focusOnHover&quot;:false}"></div><button id="global-graph-icon" aria-label="Global Graph"><svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 55 55" fill="currentColor" xml:space="preserve"><path d="M49,0c-3.309,0-6,2.691-6,6c0,1.035,0.263,2.009,0.726,2.86l-9.829,9.829C32.542,17.634,30.846,17,29,17
                s-3.542,0.634-4.898,1.688l-7.669-7.669C16.785,10.424,17,9.74,17,9c0-2.206-1.794-4-4-4S9,6.794,9,9s1.794,4,4,4
                c0.74,0,1.424-0.215,2.019-0.567l7.669,7.669C21.634,21.458,21,23.154,21,25s0.634,3.542,1.688,4.897L10.024,42.562
                C8.958,41.595,7.549,41,6,41c-3.309,0-6,2.691-6,6s2.691,6,6,6s6-2.691,6-6c0-1.035-0.263-2.009-0.726-2.86l12.829-12.829
                c1.106,0.86,2.44,1.436,3.898,1.619v10.16c-2.833,0.478-5,2.942-5,5.91c0,3.309,2.691,6,6,6s6-2.691,6-6c0-2.967-2.167-5.431-5-5.91
                v-10.16c1.458-0.183,2.792-0.759,3.898-1.619l7.669,7.669C41.215,39.576,41,40.26,41,41c0,2.206,1.794,4,4,4s4-1.794,4-4
                s-1.794-4-4-4c-0.74,0-1.424,0.215-2.019,0.567l-7.669-7.669C36.366,28.542,37,26.846,37,25s-0.634-3.542-1.688-4.897l9.665-9.665
                C46.042,11.405,47.451,12,49,12c3.309,0,6-2.691,6-6S52.309,0,49,0z M11,9c0-1.103,0.897-2,2-2s2,0.897,2,2s-0.897,2-2,2
                S11,10.103,11,9z M6,51c-2.206,0-4-1.794-4-4s1.794-4,4-4s4,1.794,4,4S8.206,51,6,51z M33,49c0,2.206-1.794,4-4,4s-4-1.794-4-4
                s1.794-4,4-4S33,46.794,33,49z M29,31c-3.309,0-6-2.691-6-6s2.691-6,6-6s6,2.691,6,6S32.309,31,29,31z M47,41c0,1.103-0.897,2-2,2
                s-2-0.897-2-2s0.897-2,2-2S47,39.897,47,41z M49,10c-2.206,0-4-1.794-4-4s1.794-4,4-4s4,1.794,4,4S51.206,10,49,10z"></path></svg></button></div><div id="global-graph-outer"><div id="global-graph-container" data-cfg="{&quot;drag&quot;:true,&quot;zoom&quot;:true,&quot;depth&quot;:-1,&quot;scale&quot;:0.9,&quot;repelForce&quot;:0.5,&quot;centerForce&quot;:0.3,&quot;linkDistance&quot;:30,&quot;fontSize&quot;:0.6,&quot;opacityScale&quot;:1,&quot;showTags&quot;:true,&quot;removeTags&quot;:[],&quot;focusOnHover&quot;:true}"></div></div></div><div class="backlinks"><h3>Backlinks</h3><ul class="overflow"><li>No backlinks found</li></ul></div></div><footer class><p>Created with <a href="https://quartz.jzhao.xyz/">Quartz v4.4.0</a> ¬© 2024</p><ul><li><a href="https://github.com/jackyzha0/quartz">GitHub</a></li><li><a href="https://discord.gg/cRFFHYye7t">Discord Community</a></li></ul></footer></div></div></body><script type="application/javascript">function c(){let t=this.parentElement;t.classList.toggle("is-collapsed");let l=t.classList.contains("is-collapsed")?this.scrollHeight:t.scrollHeight;t.style.maxHeight=l+"px";let o=t,e=t.parentElement;for(;e;){if(!e.classList.contains("callout"))return;let n=e.classList.contains("is-collapsed")?e.scrollHeight:e.scrollHeight+o.scrollHeight;e.style.maxHeight=n+"px",o=e,e=e.parentElement}}function i(){let t=document.getElementsByClassName("callout is-collapsible");for(let s of t){let l=s.firstElementChild;if(l){l.addEventListener("click",c),window.addCleanup(()=>l.removeEventListener("click",c));let e=s.classList.contains("is-collapsed")?l.scrollHeight:s.scrollHeight;s.style.maxHeight=e+"px"}}}document.addEventListener("nav",i);window.addEventListener("resize",i);
</script><script src="https://cdn.jsdelivr.net/npm/katex@0.16.11/dist/contrib/copy-tex.min.js" type="application/javascript"></script><script src="./postscript.js" type="module"></script></html>