<!DOCTYPE html>
<html lang="en"><head><title>Hatena2009-08-25</title><meta charset="utf-8"/><link rel="preconnect" href="https://fonts.googleapis.com"/><link rel="preconnect" href="https://fonts.gstatic.com"/><link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=IBM Plex Mono&amp;family=Schibsted Grotesk:wght@400;700&amp;family=Source Sans Pro:ital,wght@0,400;0,600;1,400;1,600&amp;display=swap"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><meta name="og:site_name" content="🪴 Quartz 4.0"/><meta property="og:title" content="Hatena2009-08-25"/><meta property="og:type" content="website"/><meta name="twitter:card" content="summary_large_image"/><meta name="twitter:title" content="Hatena2009-08-25"/><meta name="twitter:description" content="hatena &lt;body> *1251162285*Expanding the World &lt;a href='eleshop.jp/shop/c/c112064_ssp/'>[Kyoritsu Eleshop] eleshop.jp [Parts Floor] / Mechanism ..."/><meta property="og:description" content="hatena &lt;body> *1251162285*Expanding the World &lt;a href='eleshop.jp/shop/c/c112064_ssp/'>[Kyoritsu Eleshop] eleshop.jp [Parts Floor] / Mechanism ..."/><meta property="og:image:type" content="image/webp"/><meta property="og:image:alt" content="hatena &lt;body> *1251162285*Expanding the World &lt;a href='eleshop.jp/shop/c/c112064_ssp/'>[Kyoritsu Eleshop] eleshop.jp [Parts Floor] / Mechanism ..."/><meta property="og:image:width" content="1200"/><meta property="og:image:height" content="630"/><meta property="og:width" content="1200"/><meta property="og:height" content="630"/><meta property="og:image:url" content="https://quartz.jzhao.xyz/static/og-image.png"/><meta name="twitter:image" content="https://quartz.jzhao.xyz/static/og-image.png"/><meta property="og:image" content="https://quartz.jzhao.xyz/static/og-image.png"/><meta property="twitter:domain" content="quartz.jzhao.xyz"/><meta property="og:url" content="https:/quartz.jzhao.xyz/Hatena2009-08-25"/><meta property="twitter:url" content="https:/quartz.jzhao.xyz/Hatena2009-08-25"/><link rel="icon" href="./static/icon.png"/><meta name="description" content="hatena &lt;body> *1251162285*Expanding the World &lt;a href='eleshop.jp/shop/c/c112064_ssp/'>[Kyoritsu Eleshop] eleshop.jp [Parts Floor] / Mechanism ..."/><meta name="generator" content="Quartz"/><link href="./index.css" rel="stylesheet" type="text/css" spa-preserve/><link href="https://cdn.jsdelivr.net/npm/katex@0.16.11/dist/katex.min.css" rel="stylesheet" type="text/css" spa-preserve/><script src="./prescript.js" type="application/javascript" spa-preserve></script><script type="application/javascript" spa-preserve>const fetchData = fetch("./static/contentIndex.json").then(data => data.json())</script></head><body data-slug="Hatena2009-08-25"><div id="quartz-root" class="page"><div id="quartz-body"><div class="left sidebar"><h2 class="page-title"><a href=".">🪴 Quartz 4.0</a></h2><div class="spacer mobile-only"></div><div class="search"><button class="search-button" id="search-button"><p>Search</p><svg role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 19.9 19.7"><title>Search</title><g class="search-path" fill="none"><path stroke-linecap="square" d="M18.5 18.3l-5.4-5.4"></path><circle cx="8" cy="8" r="7"></circle></g></svg></button><div id="search-container"><div id="search-space"><input autocomplete="off" id="search-bar" name="search" type="text" aria-label="Search for something" placeholder="Search for something"/><div id="search-layout" data-preview="true"></div></div></div></div><button class="darkmode" id="darkmode"><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" id="dayIcon" x="0px" y="0px" viewBox="0 0 35 35" style="enable-background:new 0 0 35 35" xml:space="preserve" aria-label="Dark mode"><title>Dark mode</title><path d="M6,17.5C6,16.672,5.328,16,4.5,16h-3C0.672,16,0,16.672,0,17.5    S0.672,19,1.5,19h3C5.328,19,6,18.328,6,17.5z M7.5,26c-0.414,0-0.789,0.168-1.061,0.439l-2,2C4.168,28.711,4,29.086,4,29.5    C4,30.328,4.671,31,5.5,31c0.414,0,0.789-0.168,1.06-0.44l2-2C8.832,28.289,9,27.914,9,27.5C9,26.672,8.329,26,7.5,26z M17.5,6    C18.329,6,19,5.328,19,4.5v-3C19,0.672,18.329,0,17.5,0S16,0.672,16,1.5v3C16,5.328,16.671,6,17.5,6z M27.5,9    c0.414,0,0.789-0.168,1.06-0.439l2-2C30.832,6.289,31,5.914,31,5.5C31,4.672,30.329,4,29.5,4c-0.414,0-0.789,0.168-1.061,0.44    l-2,2C26.168,6.711,26,7.086,26,7.5C26,8.328,26.671,9,27.5,9z M6.439,8.561C6.711,8.832,7.086,9,7.5,9C8.328,9,9,8.328,9,7.5    c0-0.414-0.168-0.789-0.439-1.061l-2-2C6.289,4.168,5.914,4,5.5,4C4.672,4,4,4.672,4,5.5c0,0.414,0.168,0.789,0.439,1.06    L6.439,8.561z M33.5,16h-3c-0.828,0-1.5,0.672-1.5,1.5s0.672,1.5,1.5,1.5h3c0.828,0,1.5-0.672,1.5-1.5S34.328,16,33.5,16z     M28.561,26.439C28.289,26.168,27.914,26,27.5,26c-0.828,0-1.5,0.672-1.5,1.5c0,0.414,0.168,0.789,0.439,1.06l2,2    C28.711,30.832,29.086,31,29.5,31c0.828,0,1.5-0.672,1.5-1.5c0-0.414-0.168-0.789-0.439-1.061L28.561,26.439z M17.5,29    c-0.829,0-1.5,0.672-1.5,1.5v3c0,0.828,0.671,1.5,1.5,1.5s1.5-0.672,1.5-1.5v-3C19,29.672,18.329,29,17.5,29z M17.5,7    C11.71,7,7,11.71,7,17.5S11.71,28,17.5,28S28,23.29,28,17.5S23.29,7,17.5,7z M17.5,25c-4.136,0-7.5-3.364-7.5-7.5    c0-4.136,3.364-7.5,7.5-7.5c4.136,0,7.5,3.364,7.5,7.5C25,21.636,21.636,25,17.5,25z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" id="nightIcon" x="0px" y="0px" viewBox="0 0 100 100" style="enable-background:new 0 0 100 100" xml:space="preserve" aria-label="Light mode"><title>Light mode</title><path d="M96.76,66.458c-0.853-0.852-2.15-1.064-3.23-0.534c-6.063,2.991-12.858,4.571-19.655,4.571  C62.022,70.495,50.88,65.88,42.5,57.5C29.043,44.043,25.658,23.536,34.076,6.47c0.532-1.08,0.318-2.379-0.534-3.23  c-0.851-0.852-2.15-1.064-3.23-0.534c-4.918,2.427-9.375,5.619-13.246,9.491c-9.447,9.447-14.65,22.008-14.65,35.369  c0,13.36,5.203,25.921,14.65,35.368s22.008,14.65,35.368,14.65c13.361,0,25.921-5.203,35.369-14.65  c3.872-3.871,7.064-8.328,9.491-13.246C97.826,68.608,97.611,67.309,96.76,66.458z"></path></svg></button></div><div class="center"><div class="page-header"><div class="popover-hint"><nav class="breadcrumb-container" aria-label="breadcrumbs"><div class="breadcrumb-element"><a href="./">Home</a><p> ❯ </p></div><div class="breadcrumb-element"><a href>Hatena2009-08-25</a></div></nav><h1 class="article-title">Hatena2009-08-25</h1><p show-comma="true" class="content-meta"><span>Aug 25, 2009</span><span>6 min read</span></p></div></div><article class="popover-hint"><p>hatena</p>
<pre><code>&lt;body>
*1251162285*Expanding the World
&lt;a href='http://eleshop.jp/shop/c/c112064_ssp/'>[Kyoritsu Eleshop] eleshop.jp [Parts Floor] / Mechanism / Actuator: Mail order of electronic parts, semiconductor, kit&lt;/a>.

It's fun to learn the microcontroller and do all kinds of things with it.

**1251162355*Tidying up
-Buy a case with a threshold,
-Store capacitors sorted by capacity,
-I opened it with the lid down by mistake and it got scattered around,
-Some are missing ← here and now

kaizen (Japanese business philosophy of continuous improvement)

f:id:nishiohirokazu:20090825145440j:image

Oh, we are missing one 22uH coil!

*1251205498*Development Diary of Midterm 2.0
I've lost my concentration. I don't have a long enough time to concentrate.

&lt;hr>
We were able to get to the point where three people were seated and three cards were displayed.
&lt;hr>
The API that plays a card when you click on it should be hit.
>||
(r'^api/(?P&lt;format>text|json|html)/play/(?P&lt;seat_id>.*)/$', 'play'),
||&lt;
Is the API implemented in one way or another?
&lt;hr>
I was using a custom tag to render the hand from the seat.hand, and I was trying to use filter because that was not enough information to make the link, and there were twists and turns. In the end, I gave the custom tag all the information it needed to make the link.
>|python|
@register.simple_tag
def render_hands(hands, seat_id, key):
    ...
    for c in hands:
        url = reverse(api_views.play_html, args=[c, seat_id, key])
        ...
||&lt;
What the heck, it's easy.
&lt;hr>
When I first started using reverse and custom tags, I was confused about a lot of things, but as I got used to using them, I felt like I would find it hard to write without them.
Without reverse, you would have to manage which views are mapped to which URLs yourself and make a lot of modifications when URLs change.
Without custom tags, the template tries to force the rendering of complex content and becomes dirty.
&lt;hr>
ack is useful
&lt;hr>
The playAPI is now hit when a card is clicked.
&lt;hr>
- ■(Not required) clean folding display
- Indicates who is currently face-down and who is not.
- □(Not required) Fix the card's rendering section that determines the height to be 5em.
- Processes a turn when all three cards are in hand.
&lt;hr>
The hand was not reduced when the card was laid face down, but when the face down card was aligned. It is unnatural to have a card face down and still have it in hand. Correction.
I'm getting a card that's not the one I played.
>||
play = s.closed_card
if play not in s.hand:
    from random import choice
    play = choice(s.hand)
s.hand.remove(play)
||&lt;
Ah. Instead of getting angry when you put down a card that is not in your hand, it was supposed to get angry when you played a game with a card that is not in your hand (which seemed natural when the AI was playing via the API) and then remove it from your hand when you put it down, as is natural when a human plays it, so it was always &quot; I'm playing with cards I don't have in my hand&quot;.
&lt;hr>
Turns are now going correctly. It's hard to tell because the cards played during the last game are not shown, but oh well, I completed all the TODOs I wrote last night.
&lt;hr>
List tasks.
- Display the result of opening a face-down card.
- □ (not required) Show current round score and overall game score
- □ Play by selecting a random AI at the game start screen
- □ Make sure that the game is played to the end and the winner is determined properly.
-- not done.
- □ Testing with real user data on a real server
- □ CGI to create an appropriate (order by size?) Create an AI and send it to www.nishiohirokazu.orgに置いてうまく動くことを確認する
- □ Writing documentation
- □ (not required)Carry over the win/loss information of Ver1
&lt;hr>
After working with the backlight bright for about 3 hours, the battery ran out. It is important to find a dark cafe to prolong battery life.
&lt;hr>
- If the game is over, the hand is not displayed in the SEAT (instead, the remaining cards are displayed).
-- If it is finished, is it ok for the SEAT to redirect to GAME? No, it's confusing if the center changes to say it's me, so I'll just leave it as it is.

Created game.is_finished
&lt;hr>
- If the player's type is PASSIVE, you have to notify when the player is ready to play.
-- When did it become playable?
--- Immediately after all three cards are dealt
--- When all three face-down cards are aligned and the next turn is taken.

If you look at my previous Seat#invoke, you'll see that the entrypoint is http://で始まるかどうかを
It is used to determine if the AI is an AI on an external server.
Is that okay? Is that good enough?
&lt;hr>
The invoke throws NotImplementedError when the player type is neither internal nor passive (http), but this means that I have to determine outside the invoke whether or not the player type should be invoked before invoking the invoke. This is not good.
&lt;hr>
I made sure to hit INVOKE when the third person was seated.

Mwah, I got socked with a timeout. Oh, is that it, or is it blocking if I throw a request against myself while the request is being processed by the SDK? Anyway, let's deploy it up to the current state and go hit that.
&lt;hr>
I played with internal randomAI as my 2 opponents. I got to the end of the game. When the game was over, I got a &quot;Finished Game&quot; message.
&lt;hr>
- □ When it becomes Finished, display the score, winners and losers, etc.
- □ Create a shortcut to select two (unimportant) AIs to play
- □ It is annoying to have a drop down to choose when there are a lot of AIs.
- □ Display for spectators of finished games
- □ history
&lt;hr>
I'm losing focus and my mind is getting confused, so I'm organizing and prioritizing tasks.
&lt;hr>
I realized that it was my sleepy body that had lost focus.
Considering the documentation, I think the time limit is about 8 hours, since the specifications should be completely fixed by tomorrow and I should be ready to write a document that says, &quot;You can create an AI using this API.
&lt;/body>
</code></pre>
<h2 id="hatena-diary-2009-08-25"><a href="https://nishiohirokazu.hatenadiary.org/archive/2009/08/25" class="external">Hatena Diary 2009-08-25<svg aria-hidden="true" class="external-icon" style="max-width:0.8em;max-height:0.8em;" viewBox="0 0 512 512"><path d="M320 0H288V64h32 82.7L201.4 265.4 178.7 288 224 333.3l22.6-22.6L448 109.3V192v32h64V192 32 0H480 320zM32 32H0V64 480v32H32 456h32V480 352 320H424v32 96H64V96h96 32V32H160 32z"></path></svg></a><a role="anchor" aria-hidden="true" tabindex="-1" data-no-popover="true" href="#hatena-diary-2009-08-25" class="internal"><svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg></a></h2>
<p>This page is auto-translated from <a href="https://scrapbox.io/nishio/Hatena2009-08-25" class="external">/nishio/Hatena2009-08-25<svg aria-hidden="true" class="external-icon" style="max-width:0.8em;max-height:0.8em;" viewBox="0 0 512 512"><path d="M320 0H288V64h32 82.7L201.4 265.4 178.7 288 224 333.3l22.6-22.6L448 109.3V192v32h64V192 32 0H480 320zM32 32H0V64 480v32H32 456h32V480 352 320H424v32 96H64V96h96 32V32H160 32z"></path></svg></a> using DeepL. If you looks something interesting but the auto-translated English is not good enough to understand it, feel free to let me know at <a href="https://twitter.com/nishio_en" class="external">@nishio_en<svg aria-hidden="true" class="external-icon" style="max-width:0.8em;max-height:0.8em;" viewBox="0 0 512 512"><path d="M320 0H288V64h32 82.7L201.4 265.4 178.7 288 224 333.3l22.6-22.6L448 109.3V192v32h64V192 32 0H480 320zM32 32H0V64 480v32H32 456h32V480 352 320H424v32 96H64V96h96 32V32H160 32z"></path></svg></a>. I’m very happy to spread my thought to non-Japanese readers.</p></article><hr/><div class="page-footer"></div></div><div class="right sidebar"><div class="graph"><h3>Graph View</h3><div class="graph-outer"><div id="graph-container" data-cfg="{&quot;drag&quot;:true,&quot;zoom&quot;:true,&quot;depth&quot;:1,&quot;scale&quot;:1.1,&quot;repelForce&quot;:0.5,&quot;centerForce&quot;:0.3,&quot;linkDistance&quot;:30,&quot;fontSize&quot;:0.6,&quot;opacityScale&quot;:1,&quot;showTags&quot;:true,&quot;removeTags&quot;:[],&quot;focusOnHover&quot;:false}"></div><button id="global-graph-icon" aria-label="Global Graph"><svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 55 55" fill="currentColor" xml:space="preserve"><path d="M49,0c-3.309,0-6,2.691-6,6c0,1.035,0.263,2.009,0.726,2.86l-9.829,9.829C32.542,17.634,30.846,17,29,17
                s-3.542,0.634-4.898,1.688l-7.669-7.669C16.785,10.424,17,9.74,17,9c0-2.206-1.794-4-4-4S9,6.794,9,9s1.794,4,4,4
                c0.74,0,1.424-0.215,2.019-0.567l7.669,7.669C21.634,21.458,21,23.154,21,25s0.634,3.542,1.688,4.897L10.024,42.562
                C8.958,41.595,7.549,41,6,41c-3.309,0-6,2.691-6,6s2.691,6,6,6s6-2.691,6-6c0-1.035-0.263-2.009-0.726-2.86l12.829-12.829
                c1.106,0.86,2.44,1.436,3.898,1.619v10.16c-2.833,0.478-5,2.942-5,5.91c0,3.309,2.691,6,6,6s6-2.691,6-6c0-2.967-2.167-5.431-5-5.91
                v-10.16c1.458-0.183,2.792-0.759,3.898-1.619l7.669,7.669C41.215,39.576,41,40.26,41,41c0,2.206,1.794,4,4,4s4-1.794,4-4
                s-1.794-4-4-4c-0.74,0-1.424,0.215-2.019,0.567l-7.669-7.669C36.366,28.542,37,26.846,37,25s-0.634-3.542-1.688-4.897l9.665-9.665
                C46.042,11.405,47.451,12,49,12c3.309,0,6-2.691,6-6S52.309,0,49,0z M11,9c0-1.103,0.897-2,2-2s2,0.897,2,2s-0.897,2-2,2
                S11,10.103,11,9z M6,51c-2.206,0-4-1.794-4-4s1.794-4,4-4s4,1.794,4,4S8.206,51,6,51z M33,49c0,2.206-1.794,4-4,4s-4-1.794-4-4
                s1.794-4,4-4S33,46.794,33,49z M29,31c-3.309,0-6-2.691-6-6s2.691-6,6-6s6,2.691,6,6S32.309,31,29,31z M47,41c0,1.103-0.897,2-2,2
                s-2-0.897-2-2s0.897-2,2-2S47,39.897,47,41z M49,10c-2.206,0-4-1.794-4-4s1.794-4,4-4s4,1.794,4,4S51.206,10,49,10z"></path></svg></button></div><div id="global-graph-outer"><div id="global-graph-container" data-cfg="{&quot;drag&quot;:true,&quot;zoom&quot;:true,&quot;depth&quot;:-1,&quot;scale&quot;:0.9,&quot;repelForce&quot;:0.5,&quot;centerForce&quot;:0.3,&quot;linkDistance&quot;:30,&quot;fontSize&quot;:0.6,&quot;opacityScale&quot;:1,&quot;showTags&quot;:true,&quot;removeTags&quot;:[],&quot;focusOnHover&quot;:true}"></div></div></div><div class="backlinks"><h3>Backlinks</h3><ul class="overflow"><li>No backlinks found</li></ul></div></div><footer class><p>Created with <a href="https://quartz.jzhao.xyz/">Quartz v4.4.0</a> © 2024</p><ul><li><a href="https://github.com/jackyzha0/quartz">GitHub</a></li><li><a href="https://discord.gg/cRFFHYye7t">Discord Community</a></li></ul></footer></div></div></body><script type="application/javascript">function c(){let t=this.parentElement;t.classList.toggle("is-collapsed");let l=t.classList.contains("is-collapsed")?this.scrollHeight:t.scrollHeight;t.style.maxHeight=l+"px";let o=t,e=t.parentElement;for(;e;){if(!e.classList.contains("callout"))return;let n=e.classList.contains("is-collapsed")?e.scrollHeight:e.scrollHeight+o.scrollHeight;e.style.maxHeight=n+"px",o=e,e=e.parentElement}}function i(){let t=document.getElementsByClassName("callout is-collapsible");for(let s of t){let l=s.firstElementChild;if(l){l.addEventListener("click",c),window.addCleanup(()=>l.removeEventListener("click",c));let e=s.classList.contains("is-collapsed")?l.scrollHeight:s.scrollHeight;s.style.maxHeight=e+"px"}}}document.addEventListener("nav",i);window.addEventListener("resize",i);
</script><script src="https://cdn.jsdelivr.net/npm/katex@0.16.11/dist/contrib/copy-tex.min.js" type="application/javascript"></script><script src="./postscript.js" type="module"></script></html>