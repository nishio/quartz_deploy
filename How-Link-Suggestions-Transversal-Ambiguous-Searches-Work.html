<!DOCTYPE html>
<html lang="en"><head><title>How Link Suggestions/Transversal Ambiguous Searches Work</title><meta charset="utf-8"/><link rel="preconnect" href="https://fonts.googleapis.com"/><link rel="preconnect" href="https://fonts.gstatic.com"/><link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=IBM Plex Mono&amp;family=Schibsted Grotesk:wght@400;700&amp;family=Source Sans Pro:ital,wght@0,400;0,600;1,400;1,600&amp;display=swap"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><meta name="og:site_name" content="ğŸª´ Quartz 4.0"/><meta property="og:title" content="How Link Suggestions/Transversal Ambiguous Searches Work"/><meta property="og:type" content="website"/><meta name="twitter:card" content="summary_large_image"/><meta name="twitter:title" content="How Link Suggestions/Transversal Ambiguous Searches Work"/><meta name="twitter:description" content="..."/><meta property="og:description" content="..."/><meta property="og:image:type" content="image/webp"/><meta property="og:image:alt" content="..."/><meta property="og:image:width" content="1200"/><meta property="og:image:height" content="630"/><meta property="og:width" content="1200"/><meta property="og:height" content="630"/><meta property="og:image:url" content="https://quartz.jzhao.xyz/static/og-image.png"/><meta name="twitter:image" content="https://quartz.jzhao.xyz/static/og-image.png"/><meta property="og:image" content="https://quartz.jzhao.xyz/static/og-image.png"/><meta property="twitter:domain" content="quartz.jzhao.xyz"/><meta property="og:url" content="https:/quartz.jzhao.xyz/How-Link-Suggestions-Transversal-Ambiguous-Searches-Work"/><meta property="twitter:url" content="https:/quartz.jzhao.xyz/How-Link-Suggestions-Transversal-Ambiguous-Searches-Work"/><link rel="icon" href="./static/icon.png"/><meta name="description" content="..."/><meta name="generator" content="Quartz"/><link href="./index.css" rel="stylesheet" type="text/css" spa-preserve/><link href="https://cdn.jsdelivr.net/npm/katex@0.16.11/dist/katex.min.css" rel="stylesheet" type="text/css" spa-preserve/><script src="./prescript.js" type="application/javascript" spa-preserve></script><script type="application/javascript" spa-preserve>const fetchData = fetch("./static/contentIndex.json").then(data => data.json())</script></head><body data-slug="How-Link-Suggestions-Transversal-Ambiguous-Searches-Work"><div id="quartz-root" class="page"><div id="quartz-body"><div class="left sidebar"><h2 class="page-title"><a href=".">ğŸª´ Quartz 4.0</a></h2><div class="spacer mobile-only"></div><div class="search"><button class="search-button" id="search-button"><p>Search</p><svg role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 19.9 19.7"><title>Search</title><g class="search-path" fill="none"><path stroke-linecap="square" d="M18.5 18.3l-5.4-5.4"></path><circle cx="8" cy="8" r="7"></circle></g></svg></button><div id="search-container"><div id="search-space"><input autocomplete="off" id="search-bar" name="search" type="text" aria-label="Search for something" placeholder="Search for something"/><div id="search-layout" data-preview="true"></div></div></div></div><button class="darkmode" id="darkmode"><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" id="dayIcon" x="0px" y="0px" viewBox="0 0 35 35" style="enable-background:new 0 0 35 35" xml:space="preserve" aria-label="Dark mode"><title>Dark mode</title><path d="M6,17.5C6,16.672,5.328,16,4.5,16h-3C0.672,16,0,16.672,0,17.5    S0.672,19,1.5,19h3C5.328,19,6,18.328,6,17.5z M7.5,26c-0.414,0-0.789,0.168-1.061,0.439l-2,2C4.168,28.711,4,29.086,4,29.5    C4,30.328,4.671,31,5.5,31c0.414,0,0.789-0.168,1.06-0.44l2-2C8.832,28.289,9,27.914,9,27.5C9,26.672,8.329,26,7.5,26z M17.5,6    C18.329,6,19,5.328,19,4.5v-3C19,0.672,18.329,0,17.5,0S16,0.672,16,1.5v3C16,5.328,16.671,6,17.5,6z M27.5,9    c0.414,0,0.789-0.168,1.06-0.439l2-2C30.832,6.289,31,5.914,31,5.5C31,4.672,30.329,4,29.5,4c-0.414,0-0.789,0.168-1.061,0.44    l-2,2C26.168,6.711,26,7.086,26,7.5C26,8.328,26.671,9,27.5,9z M6.439,8.561C6.711,8.832,7.086,9,7.5,9C8.328,9,9,8.328,9,7.5    c0-0.414-0.168-0.789-0.439-1.061l-2-2C6.289,4.168,5.914,4,5.5,4C4.672,4,4,4.672,4,5.5c0,0.414,0.168,0.789,0.439,1.06    L6.439,8.561z M33.5,16h-3c-0.828,0-1.5,0.672-1.5,1.5s0.672,1.5,1.5,1.5h3c0.828,0,1.5-0.672,1.5-1.5S34.328,16,33.5,16z     M28.561,26.439C28.289,26.168,27.914,26,27.5,26c-0.828,0-1.5,0.672-1.5,1.5c0,0.414,0.168,0.789,0.439,1.06l2,2    C28.711,30.832,29.086,31,29.5,31c0.828,0,1.5-0.672,1.5-1.5c0-0.414-0.168-0.789-0.439-1.061L28.561,26.439z M17.5,29    c-0.829,0-1.5,0.672-1.5,1.5v3c0,0.828,0.671,1.5,1.5,1.5s1.5-0.672,1.5-1.5v-3C19,29.672,18.329,29,17.5,29z M17.5,7    C11.71,7,7,11.71,7,17.5S11.71,28,17.5,28S28,23.29,28,17.5S23.29,7,17.5,7z M17.5,25c-4.136,0-7.5-3.364-7.5-7.5    c0-4.136,3.364-7.5,7.5-7.5c4.136,0,7.5,3.364,7.5,7.5C25,21.636,21.636,25,17.5,25z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" id="nightIcon" x="0px" y="0px" viewBox="0 0 100 100" style="enable-background:new 0 0 100 100" xml:space="preserve" aria-label="Light mode"><title>Light mode</title><path d="M96.76,66.458c-0.853-0.852-2.15-1.064-3.23-0.534c-6.063,2.991-12.858,4.571-19.655,4.571  C62.022,70.495,50.88,65.88,42.5,57.5C29.043,44.043,25.658,23.536,34.076,6.47c0.532-1.08,0.318-2.379-0.534-3.23  c-0.851-0.852-2.15-1.064-3.23-0.534c-4.918,2.427-9.375,5.619-13.246,9.491c-9.447,9.447-14.65,22.008-14.65,35.369  c0,13.36,5.203,25.921,14.65,35.368s22.008,14.65,35.368,14.65c13.361,0,25.921-5.203,35.369-14.65  c3.872-3.871,7.064-8.328,9.491-13.246C97.826,68.608,97.611,67.309,96.76,66.458z"></path></svg></button></div><div class="center"><div class="page-header"><div class="popover-hint"><nav class="breadcrumb-container" aria-label="breadcrumbs"><div class="breadcrumb-element"><a href="./">Home</a><p> â¯ </p></div><div class="breadcrumb-element"><a href>How Link Suggestions/Transversal Ambiguous Searches Work</a></div></nav><h1 class="article-title">How Link Suggestions/Transversal Ambiguous Searches Work</h1><p show-comma="true" class="content-meta"><span>Dec 11, 2020</span><span>8 min read</span></p></div></div><article class="popover-hint"><ul>
<li>Mechanism of <a href="./link-suggestion" class="internal alias" data-slug="link-suggestion">link suggestion</a>/crossing <a href="./ambiguous-search" class="internal alias" data-slug="ambiguous-search">ambiguous search</a> 2020-10-02</li>
</ul>
<p>What is Link Suggest/Cross-ambiguous search?</p>
<ul>
<li>Temporary name for a recently created prototype</li>
<li>Derived from the project â€œ<a href="./keyphrase-extraction" class="internal alias" data-slug="keyphrase-extraction">keyphrase extraction</a>â€, but the name doesnâ€™t match the image.</li>
<li>Between recommendation and search, it behaves like this</li>
</ul>
<p>link suggestion</p>
<ul>
<li>
<p>Recommendation Aspects</p>
</li>
<li>
<p>The â€œlinkâ€ here is not an HTML a-tag thing.</p>
<ul>
<li>Scrapbox-like links</li>
<li><img src="https://gyazo.com/74d958772afcf77278aff64833dbbb58/thumb/1000" alt="image"/></li>
</ul>
</li>
<li>
<p>How it differs from a mere recommendation</p>
<ul>
<li>I know the reason for the recommendation.</li>
<li>Difference between recommendation of â€œdocuments that may be relevantâ€ and suggestion of links to â€œdocuments in which common key phrases appearâ€.</li>
<li><img src="https://gyazo.com/ee555b5172594de522479f8c518fcb87/thumb/1000" alt="image"/></li>
<li>For example, suppose that a seemingly unrelated statistics article is recommended for an article on DX (true story).
<ul>
<li>Recommendations that donâ€™t show a reason make me wonder, â€œWhy is this article relevant?â€ and twisting your head.</li>
<li>People tend to be uncomfortable with things they donâ€™t understand</li>
<li>Link Suggest shows â€œThe keyword â€œdxâ€ is common! and the human can laugh it off and say, â€œNo, that dx is part of the integral! and the human can just laugh it off.</li>
</ul>
</li>
</ul>
</li>
</ul>
<p>Cross-sectional ambiguity search</p>
<ul>
<li>Search Aspects</li>
<li>When I made it, it ran faster than expected.</li>
<li>Immediate results for human input
<ul>
<li>â†’Search-like</li>
</ul>
</li>
<li>When viewed as a search, it is â€œa system that enables ambiguous searches across many documents.</li>
<li>For example, if you have a lot of digitized books, a cross search can make it easier to find the source of â€œI read that somewhereâ€ and discover unexpected connections between multiple books.
<ul>
<li>I used to convert PDFs to text and search them with ag, but this is an exact string match, so itâ€™s easy to miss or output a large amount of text.</li>
<li>In this prototype, we put in a long query and look for the longest match.</li>
<li>Rather than entering keywords to search, you can enter a fragment of a document you are currently writing and search for related books.</li>
</ul>
</li>
<li><img src="https://gyazo.com/d9ab2df57c4f6d8dd19dd47ca8234cd4/thumb/1000" alt="image"/></li>
</ul>
<p>structure</p>
<ul>
<li>
<p>suffix array</p>
<ul>
<li>input string
<ul>
<li><code>seq = &quot;abc-abc$&quot;</code>
:
| i | 0 | 1 | 2 | 3 | 4 | 5 | 6 | 7 |
| â€” | â€” | â€” | â€” | â€” | â€” | â€” | â€” | â€” |
| seq | a | b | c | - | a | b | c | $ |</li>
<li>100 million characters</li>
</ul>
</li>
<li>output (e.g. of dynamo)</li>
<li>All â€œstrings after the i-th character of seqâ€ sorted in lexicographic order
sa
| i | sa |
| â€” | â€” | â€” | â€” | â€” | â€” | â€” | â€” | â€” | â€” |
| 0 | 7 | <span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">âˆ£âˆ£1âˆ£3âˆ£</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">âˆ’</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">âˆ£</span><span class="mord mathnormal">a</span><span class="mord">âˆ£</span><span class="mord mathnormal">b</span><span class="mord">âˆ£</span><span class="mord mathnormal">c</span><span class="mord">âˆ£</span></span></span></span> |
| 2 | 4 | a | b | c | <span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">âˆ£âˆ£3âˆ£0âˆ£</span><span class="mord mathnormal">a</span><span class="mord">âˆ£</span><span class="mord mathnormal">b</span><span class="mord">âˆ£</span><span class="mord mathnormal">c</span><span class="mord">âˆ£</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">âˆ’</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">âˆ£</span><span class="mord mathnormal">a</span><span class="mord">âˆ£</span><span class="mord mathnormal">b</span><span class="mord">âˆ£</span><span class="mord mathnormal">c</span><span class="mord">âˆ£</span></span></span></span> |
| 4 | 5 | b | c | <span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">âˆ£âˆ£5âˆ£1âˆ£</span><span class="mord mathnormal">b</span><span class="mord">âˆ£</span><span class="mord mathnormal">c</span><span class="mord">âˆ£</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">âˆ’</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">âˆ£</span><span class="mord mathnormal">a</span><span class="mord">âˆ£</span><span class="mord mathnormal">b</span><span class="mord">âˆ£</span><span class="mord mathnormal">c</span><span class="mord">âˆ£</span></span></span></span> |
| 6 | 6 | c | <span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">âˆ£âˆ£7âˆ£2âˆ£</span><span class="mord mathnormal">c</span><span class="mord">âˆ£</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">âˆ’</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">âˆ£</span><span class="mord mathnormal">a</span><span class="mord">âˆ£</span><span class="mord mathnormal">b</span><span class="mord">âˆ£</span><span class="mord mathnormal">c</span><span class="mord">âˆ£</span></span></span></span> |</li>
</ul>
</li>
<li>
<p>Letters and Words</p>
<ul>
<li>Being in character is not a requirement.</li>
<li>Any sequence of values that can be compared large and small.</li>
<li>If you inscribe a word and then assign a word ID to it, you can use it for word strings as well.</li>
</ul>
</li>
<li>
<p>Suffix sequence construction costs</p>
<ul>
<li>A naive sorting gives O(N log N)</li>
<li>Using the SA-IS method, suffix sequences can be constructed with O(N)</li>
<li>Explaining the SA-IS method would take an hour or two by itself.</li>
</ul>
</li>
<li>
<p>LCP array</p>
<ul>
<li>longest common prefix
:
| i | sa | lcp |
| â€” | â€” | â€” | â€” | â€” | â€” | â€” | â€” | â€” | â€” | â€” |
|    2 | 4 | 3 | a | b | c | <span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">âˆ£âˆ£3âˆ£0âˆ£âˆ£</span><span class="mord mathnormal">a</span><span class="mord">âˆ£</span><span class="mord mathnormal">b</span><span class="mord">âˆ£</span><span class="mord mathnormal">c</span><span class="mord">âˆ£</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">âˆ’</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">âˆ£</span><span class="mord mathnormal">a</span><span class="mord">âˆ£</span><span class="mord mathnormal">b</span><span class="mord">âˆ£</span><span class="mord mathnormal">c</span><span class="mord">âˆ£</span></span></span></span> |</li>
<li>For example, in this section, three letters are common
<ul>
<li>longest common prefix is 3 characters</li>
</ul>
</li>
<li>The worst-case calculation is O(N^2), but it can be reduced to O(N) (Kasai method).</li>
</ul>
</li>
<li>
<p>Search mechanism: O(M log N) in a binary search of the array</p>
<ul>
<li>M is the query length
sa
| i | sa |
| â€” | â€” | â€” | â€” | â€” | â€” | â€” | â€” | â€” | â€” | â€” |
| 0 | 7 | <span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">âˆ£âˆ£1âˆ£3âˆ£</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">âˆ’</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">âˆ£</span><span class="mord mathnormal">a</span><span class="mord">âˆ£</span><span class="mord mathnormal">b</span><span class="mord">âˆ£</span><span class="mord mathnormal">c</span><span class="mord">âˆ£</span></span></span></span> |
| 2 | 4 | a | b | c | <span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">âˆ£âˆ£3âˆ£0âˆ£</span><span class="mord mathnormal">a</span><span class="mord">âˆ£</span><span class="mord mathnormal">b</span><span class="mord">âˆ£</span><span class="mord mathnormal">c</span><span class="mord">âˆ£</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">âˆ’</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">âˆ£</span><span class="mord mathnormal">a</span><span class="mord">âˆ£</span><span class="mord mathnormal">b</span><span class="mord">âˆ£</span><span class="mord mathnormal">c</span><span class="mord">âˆ£</span></span></span></span> |
| 4 | 5 | b | c | <span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">âˆ£âˆ£5âˆ£1âˆ£</span><span class="mord mathnormal">b</span><span class="mord">âˆ£</span><span class="mord mathnormal">c</span><span class="mord">âˆ£</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">âˆ’</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">âˆ£</span><span class="mord mathnormal">a</span><span class="mord">âˆ£</span><span class="mord mathnormal">b</span><span class="mord">âˆ£</span><span class="mord mathnormal">c</span><span class="mord">âˆ£</span></span></span></span> |
|  |  | b | c | d | e |  |  |  |  | query |
| 6 | 6 | c | <span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">âˆ£âˆ£7âˆ£2âˆ£</span><span class="mord mathnormal">c</span><span class="mord">âˆ£</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">âˆ’</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">âˆ£</span><span class="mord mathnormal">a</span><span class="mord">âˆ£</span><span class="mord mathnormal">b</span><span class="mord">âˆ£</span><span class="mord mathnormal">c</span><span class="mord">âˆ£</span></span></span></span> |</li>
<li>For example, if we search for â€œbcdeâ€, we first look at number 3 in the middle, then number 5 because it is larger than that, then number 6 because it is larger than that, and so on, and we know that it falls between 5 and 6 because it is smaller than that.</li>
<li>Since N is 8, we can find the longest matching position in <span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.9386em;vertical-align:-0.2441em;"></span><span class="mop"><span class="mop">lo<span style="margin-right:0.01389em;">g</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.207em;"><span style="top:-2.4559em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.2441em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">8</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">3</span></span></span></span> times
<ul>
<li>â†’Exploratory Topic: Using LCP sequences, it is possible to make O(M+log N)</li>
</ul>
</li>
</ul>
</li>
<li>
<p>How Link Suggestions Work</p>
<ul>
<li>Perform a binary search from the start of all long queries
<ul>
<li>bcde â†’ bcde cde ed e</li>
<li>Equivalent to performing a search on all subword sequences</li>
</ul>
</li>
<li>fast enough
<ul>
<li>A query is about 10,000 characters and takes about 1 second to search.</li>
<li>A few tens of milliseconds for normal use.</li>
</ul>
</li>
</ul>
</li>
<li>
<p>Obtaining the number of occurrences per document</p>
<ul>
<li>LCP with the query can be obtained by comparing before and after after binary search
<ul>
<li>That is, this is â€œthe longest possible common string between the query and the documents to be searched.â€</li>
<li><img src="https://gyazo.com/68175d7d532835370e65e142c04daa7f/thumb/1000" alt="image"/></li>
</ul>
</li>
<li>By creating the LCP array in advance, the number of occurrences of that common string can be counted.</li>
<li>The suffix array can be used to determine the location of occurrences of that common string.</li>
<li>If an array of document breakpoints is prepared in advance, a dichotomous search can be performed to determine which document each occurrence is in by O(log D), where D is the number of documents.</li>
<li>â†’Exploratory topic, there is an algorithm that can efficiently compute statistics for the entire document by using LCP sequences. We have considered it, but this time we only compute for matches. It seems that loading the result of the previous calculation into memory is more expensive than the cost of the calculation after the match.</li>
</ul>
</li>
<li>
<p>Discrimination of search results</p>
<ul>
<li>If you put out all the hits, you get information overload.</li>
<li>Appropriate rules and scoring need to be put in place to make the selection.</li>
</ul>
</li>
<li>
<p>How Ambiguous Searches Work</p>
<ul>
<li>Convert word appearance to digest value pairs at the timing of word segmentation, and perform word identity judgment on the digest value.</li>
<li>For example, if you set the conjugated form of a verb to the original form when you digest, it will ignore the conjugation and match</li>
<li>If you skip particles such as â€œof,â€ â€œshare information,â€ â€œshare information,â€ â€œshare information,â€ etc., it will also match.</li>
<li>Iâ€™m not doing it now, but for example, if you group synonyms and thesauruses into the same digest value, you can absorb that swing.
<ul>
<li>It can be done mechanically by using a <a href="./word2vec" class="internal" data-slug="word2vec">word2vec</a>-like method to make a vector and then using the k-means method, but if you do too much, you lose the advantage of â€œknowing the reason for the recommendationâ€.</li>
</ul>
</li>
</ul>
</li>
<li>
<p>experiment</p>
<ul>
<li>Suffix array created from PDFs of 834 books</li>
<li>Linear at 180,000 characters per second of build time
:
| books | docs | chars | load | translate | construct | chars / construct |
| â€” | â€” | â€” | â€” | â€” | â€” | â€” |
| 10 | 3028 | 1567704 | 0.06 | 5.92 | 8.34 | 187974 |
| 100 | 30799 | 19774115 | 0.39 | 84.9 | 125.86 | 157111 |
| 834 | 264166 | 177638808 | 3.69 | 729.6 | 1130.48 | 157135 |</li>
<li>translate is the process of morphological analysis and digest into a sequence of word IDs</li>
<li>Cross-searching from 834 books to about 250 ms for a document of about 140 characters per Tweet.</li>
</ul>
</li>
</ul>
<p><img src="https://gyazo.com/7f2414c42a84ac48981813c3d473b6af/thumb/1000" alt="image"/></p>
<p><img src="https://gyazo.com/c699b8503916a26e59516de79a17868e/thumb/1000" alt="image"/></p>
<hr/>
<p>This page is auto-translated from <a href="https://scrapbox.io/nishio/%E3%83%AA%E3%83%B3%E3%82%AF%E3%82%B5%E3%82%B8%E3%82%A7%E3%82%B9%E3%83%88/%E6%A8%AA%E6%96%AD%E6%9B%96%E6%98%A7%E6%A4%9C%E7%B4%A2%E3%81%AE%E4%BB%95%E7%B5%84%E3%81%BF" class="external">/nishio/ãƒªãƒ³ã‚¯ã‚µã‚¸ã‚§ã‚¹ãƒˆ/æ¨ªæ–­æ›–æ˜§æ¤œç´¢ã®ä»•çµ„ã¿<svg aria-hidden="true" class="external-icon" style="max-width:0.8em;max-height:0.8em;" viewBox="0 0 512 512"><path d="M320 0H288V64h32 82.7L201.4 265.4 178.7 288 224 333.3l22.6-22.6L448 109.3V192v32h64V192 32 0H480 320zM32 32H0V64 480v32H32 456h32V480 352 320H424v32 96H64V96h96 32V32H160 32z"></path></svg></a> using DeepL. If you looks something interesting but the auto-translated English is not good enough to understand it, feel free to let me know at <a href="https://twitter.com/nishio_en" class="external">@nishio_en<svg aria-hidden="true" class="external-icon" style="max-width:0.8em;max-height:0.8em;" viewBox="0 0 512 512"><path d="M320 0H288V64h32 82.7L201.4 265.4 178.7 288 224 333.3l22.6-22.6L448 109.3V192v32h64V192 32 0H480 320zM32 32H0V64 480v32H32 456h32V480 352 320H424v32 96H64V96h96 32V32H160 32z"></path></svg></a>. Iâ€™m very happy to spread my thought to non-Japanese readers.</p></article><hr/><div class="page-footer"></div></div><div class="right sidebar"><div class="graph"><h3>Graph View</h3><div class="graph-outer"><div id="graph-container" data-cfg="{&quot;drag&quot;:true,&quot;zoom&quot;:true,&quot;depth&quot;:1,&quot;scale&quot;:1.1,&quot;repelForce&quot;:0.5,&quot;centerForce&quot;:0.3,&quot;linkDistance&quot;:30,&quot;fontSize&quot;:0.6,&quot;opacityScale&quot;:1,&quot;showTags&quot;:true,&quot;removeTags&quot;:[],&quot;focusOnHover&quot;:false}"></div><button id="global-graph-icon" aria-label="Global Graph"><svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 55 55" fill="currentColor" xml:space="preserve"><path d="M49,0c-3.309,0-6,2.691-6,6c0,1.035,0.263,2.009,0.726,2.86l-9.829,9.829C32.542,17.634,30.846,17,29,17
                s-3.542,0.634-4.898,1.688l-7.669-7.669C16.785,10.424,17,9.74,17,9c0-2.206-1.794-4-4-4S9,6.794,9,9s1.794,4,4,4
                c0.74,0,1.424-0.215,2.019-0.567l7.669,7.669C21.634,21.458,21,23.154,21,25s0.634,3.542,1.688,4.897L10.024,42.562
                C8.958,41.595,7.549,41,6,41c-3.309,0-6,2.691-6,6s2.691,6,6,6s6-2.691,6-6c0-1.035-0.263-2.009-0.726-2.86l12.829-12.829
                c1.106,0.86,2.44,1.436,3.898,1.619v10.16c-2.833,0.478-5,2.942-5,5.91c0,3.309,2.691,6,6,6s6-2.691,6-6c0-2.967-2.167-5.431-5-5.91
                v-10.16c1.458-0.183,2.792-0.759,3.898-1.619l7.669,7.669C41.215,39.576,41,40.26,41,41c0,2.206,1.794,4,4,4s4-1.794,4-4
                s-1.794-4-4-4c-0.74,0-1.424,0.215-2.019,0.567l-7.669-7.669C36.366,28.542,37,26.846,37,25s-0.634-3.542-1.688-4.897l9.665-9.665
                C46.042,11.405,47.451,12,49,12c3.309,0,6-2.691,6-6S52.309,0,49,0z M11,9c0-1.103,0.897-2,2-2s2,0.897,2,2s-0.897,2-2,2
                S11,10.103,11,9z M6,51c-2.206,0-4-1.794-4-4s1.794-4,4-4s4,1.794,4,4S8.206,51,6,51z M33,49c0,2.206-1.794,4-4,4s-4-1.794-4-4
                s1.794-4,4-4S33,46.794,33,49z M29,31c-3.309,0-6-2.691-6-6s2.691-6,6-6s6,2.691,6,6S32.309,31,29,31z M47,41c0,1.103-0.897,2-2,2
                s-2-0.897-2-2s0.897-2,2-2S47,39.897,47,41z M49,10c-2.206,0-4-1.794-4-4s1.794-4,4-4s4,1.794,4,4S51.206,10,49,10z"></path></svg></button></div><div id="global-graph-outer"><div id="global-graph-container" data-cfg="{&quot;drag&quot;:true,&quot;zoom&quot;:true,&quot;depth&quot;:-1,&quot;scale&quot;:0.9,&quot;repelForce&quot;:0.5,&quot;centerForce&quot;:0.3,&quot;linkDistance&quot;:30,&quot;fontSize&quot;:0.6,&quot;opacityScale&quot;:1,&quot;showTags&quot;:true,&quot;removeTags&quot;:[],&quot;focusOnHover&quot;:true}"></div></div></div><div class="backlinks"><h3>Backlinks</h3><ul class="overflow"><li>No backlinks found</li></ul></div></div><footer class><p>Created with <a href="https://quartz.jzhao.xyz/">Quartz v4.4.0</a> Â© 2024</p><ul><li><a href="https://github.com/jackyzha0/quartz">GitHub</a></li><li><a href="https://discord.gg/cRFFHYye7t">Discord Community</a></li></ul></footer></div></div></body><script type="application/javascript">function c(){let t=this.parentElement;t.classList.toggle("is-collapsed");let l=t.classList.contains("is-collapsed")?this.scrollHeight:t.scrollHeight;t.style.maxHeight=l+"px";let o=t,e=t.parentElement;for(;e;){if(!e.classList.contains("callout"))return;let n=e.classList.contains("is-collapsed")?e.scrollHeight:e.scrollHeight+o.scrollHeight;e.style.maxHeight=n+"px",o=e,e=e.parentElement}}function i(){let t=document.getElementsByClassName("callout is-collapsible");for(let s of t){let l=s.firstElementChild;if(l){l.addEventListener("click",c),window.addCleanup(()=>l.removeEventListener("click",c));let e=s.classList.contains("is-collapsed")?l.scrollHeight:s.scrollHeight;s.style.maxHeight=e+"px"}}}document.addEventListener("nav",i);window.addEventListener("resize",i);
</script><script src="https://cdn.jsdelivr.net/npm/katex@0.16.11/dist/contrib/copy-tex.min.js" type="application/javascript"></script><script src="./postscript.js" type="module"></script></html>