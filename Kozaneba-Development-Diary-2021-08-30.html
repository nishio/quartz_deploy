<!DOCTYPE html>
<html lang="en"><head><title>Kozaneba Development Diary 2021-08-30</title><meta charset="utf-8"/><link rel="preconnect" href="https://fonts.googleapis.com"/><link rel="preconnect" href="https://fonts.gstatic.com"/><link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=IBM Plex Mono&amp;family=Schibsted Grotesk:wght@400;700&amp;family=Source Sans Pro:ital,wght@0,400;0,600;1,400;1,600&amp;display=swap"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><meta name="og:site_name" content="ğŸª´ Quartz 4.0"/><meta property="og:title" content="Kozaneba Development Diary 2021-08-30"/><meta property="og:type" content="website"/><meta name="twitter:card" content="summary_large_image"/><meta name="twitter:title" content="Kozaneba Development Diary 2021-08-30"/><meta name="twitter:description" content="prev Kozaneba Development Diary 2021-08-29 About Scrapbox Kozane Canâ€™t load. Iâ€™m on Kozaneâ€™s migration algorithm right now, but this is not appropriate."/><meta property="og:description" content="prev Kozaneba Development Diary 2021-08-29 About Scrapbox Kozane Canâ€™t load. Iâ€™m on Kozaneâ€™s migration algorithm right now, but this is not appropriate."/><meta property="og:image:type" content="image/webp"/><meta property="og:image:alt" content="prev Kozaneba Development Diary 2021-08-29 About Scrapbox Kozane Canâ€™t load. Iâ€™m on Kozaneâ€™s migration algorithm right now, but this is not appropriate."/><meta property="og:image:width" content="1200"/><meta property="og:image:height" content="630"/><meta property="og:width" content="1200"/><meta property="og:height" content="630"/><meta property="og:image:url" content="https://quartz.jzhao.xyz/static/og-image.png"/><meta name="twitter:image" content="https://quartz.jzhao.xyz/static/og-image.png"/><meta property="og:image" content="https://quartz.jzhao.xyz/static/og-image.png"/><meta property="twitter:domain" content="quartz.jzhao.xyz"/><meta property="og:url" content="https:/quartz.jzhao.xyz/Kozaneba-Development-Diary-2021-08-30"/><meta property="twitter:url" content="https:/quartz.jzhao.xyz/Kozaneba-Development-Diary-2021-08-30"/><link rel="icon" href="./static/icon.png"/><meta name="description" content="prev Kozaneba Development Diary 2021-08-29 About Scrapbox Kozane Canâ€™t load. Iâ€™m on Kozaneâ€™s migration algorithm right now, but this is not appropriate."/><meta name="generator" content="Quartz"/><link href="./index.css" rel="stylesheet" type="text/css" spa-preserve/><link href="https://cdn.jsdelivr.net/npm/katex@0.16.11/dist/katex.min.css" rel="stylesheet" type="text/css" spa-preserve/><script src="./prescript.js" type="application/javascript" spa-preserve></script><script type="application/javascript" spa-preserve>const fetchData = fetch("./static/contentIndex.json").then(data => data.json())</script></head><body data-slug="Kozaneba-Development-Diary-2021-08-30"><div id="quartz-root" class="page"><div id="quartz-body"><div class="left sidebar"><h2 class="page-title"><a href=".">ğŸª´ Quartz 4.0</a></h2><div class="spacer mobile-only"></div><div class="search"><button class="search-button" id="search-button"><p>Search</p><svg role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 19.9 19.7"><title>Search</title><g class="search-path" fill="none"><path stroke-linecap="square" d="M18.5 18.3l-5.4-5.4"></path><circle cx="8" cy="8" r="7"></circle></g></svg></button><div id="search-container"><div id="search-space"><input autocomplete="off" id="search-bar" name="search" type="text" aria-label="Search for something" placeholder="Search for something"/><div id="search-layout" data-preview="true"></div></div></div></div><button class="darkmode" id="darkmode"><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" id="dayIcon" x="0px" y="0px" viewBox="0 0 35 35" style="enable-background:new 0 0 35 35" xml:space="preserve" aria-label="Dark mode"><title>Dark mode</title><path d="M6,17.5C6,16.672,5.328,16,4.5,16h-3C0.672,16,0,16.672,0,17.5    S0.672,19,1.5,19h3C5.328,19,6,18.328,6,17.5z M7.5,26c-0.414,0-0.789,0.168-1.061,0.439l-2,2C4.168,28.711,4,29.086,4,29.5    C4,30.328,4.671,31,5.5,31c0.414,0,0.789-0.168,1.06-0.44l2-2C8.832,28.289,9,27.914,9,27.5C9,26.672,8.329,26,7.5,26z M17.5,6    C18.329,6,19,5.328,19,4.5v-3C19,0.672,18.329,0,17.5,0S16,0.672,16,1.5v3C16,5.328,16.671,6,17.5,6z M27.5,9    c0.414,0,0.789-0.168,1.06-0.439l2-2C30.832,6.289,31,5.914,31,5.5C31,4.672,30.329,4,29.5,4c-0.414,0-0.789,0.168-1.061,0.44    l-2,2C26.168,6.711,26,7.086,26,7.5C26,8.328,26.671,9,27.5,9z M6.439,8.561C6.711,8.832,7.086,9,7.5,9C8.328,9,9,8.328,9,7.5    c0-0.414-0.168-0.789-0.439-1.061l-2-2C6.289,4.168,5.914,4,5.5,4C4.672,4,4,4.672,4,5.5c0,0.414,0.168,0.789,0.439,1.06    L6.439,8.561z M33.5,16h-3c-0.828,0-1.5,0.672-1.5,1.5s0.672,1.5,1.5,1.5h3c0.828,0,1.5-0.672,1.5-1.5S34.328,16,33.5,16z     M28.561,26.439C28.289,26.168,27.914,26,27.5,26c-0.828,0-1.5,0.672-1.5,1.5c0,0.414,0.168,0.789,0.439,1.06l2,2    C28.711,30.832,29.086,31,29.5,31c0.828,0,1.5-0.672,1.5-1.5c0-0.414-0.168-0.789-0.439-1.061L28.561,26.439z M17.5,29    c-0.829,0-1.5,0.672-1.5,1.5v3c0,0.828,0.671,1.5,1.5,1.5s1.5-0.672,1.5-1.5v-3C19,29.672,18.329,29,17.5,29z M17.5,7    C11.71,7,7,11.71,7,17.5S11.71,28,17.5,28S28,23.29,28,17.5S23.29,7,17.5,7z M17.5,25c-4.136,0-7.5-3.364-7.5-7.5    c0-4.136,3.364-7.5,7.5-7.5c4.136,0,7.5,3.364,7.5,7.5C25,21.636,21.636,25,17.5,25z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" id="nightIcon" x="0px" y="0px" viewBox="0 0 100 100" style="enable-background:new 0 0 100 100" xml:space="preserve" aria-label="Light mode"><title>Light mode</title><path d="M96.76,66.458c-0.853-0.852-2.15-1.064-3.23-0.534c-6.063,2.991-12.858,4.571-19.655,4.571  C62.022,70.495,50.88,65.88,42.5,57.5C29.043,44.043,25.658,23.536,34.076,6.47c0.532-1.08,0.318-2.379-0.534-3.23  c-0.851-0.852-2.15-1.064-3.23-0.534c-4.918,2.427-9.375,5.619-13.246,9.491c-9.447,9.447-14.65,22.008-14.65,35.369  c0,13.36,5.203,25.921,14.65,35.368s22.008,14.65,35.368,14.65c13.361,0,25.921-5.203,35.369-14.65  c3.872-3.871,7.064-8.328,9.491-13.246C97.826,68.608,97.611,67.309,96.76,66.458z"></path></svg></button></div><div class="center"><div class="page-header"><div class="popover-hint"><nav class="breadcrumb-container" aria-label="breadcrumbs"><div class="breadcrumb-element"><a href="./">Home</a><p> â¯ </p></div><div class="breadcrumb-element"><a href>Kozaneba Development Diary 2021-08-30</a></div></nav><h1 class="article-title">Kozaneba Development Diary 2021-08-30</h1><p show-comma="true" class="content-meta"><span>Jan 25, 2022</span><span>4 min read</span></p></div></div><article class="popover-hint"><p>prev  <a href="./Kozaneba-Development-Diary-2021-08-29" class="internal alias" data-slug="Kozaneba-Development-Diary-2021-08-29">Kozaneba Development Diary 2021-08-29</a></p>
<p>About Scrapbox Kozane</p>
<ul>
<li>Canâ€™t load.</li>
<li>Iâ€™m on Kozaneâ€™s migration algorithm right now, but this is not appropriate.
<ul>
<li>Specifically, the context menu becomes Kozaneâ€™s</li>
</ul>
</li>
</ul>
<p>Scrapbox Kozane is mostly done, so weâ€™ll do the rest of the work for release.</p>
<ul>
<li>First, stop borrowing event handlers from ordinary kozane.</li>
<li>I thought that, but the click event is picked up by the canvas mouseup in the first place.</li>
<li>This is where the click process is changed for each type of target.</li>
<li>The mousedown process itself is pretty much the same for both Kozane and the group.
<ul>
<li>Instead, itâ€™s just a difference of forgetting to implement it.</li>
</ul>
</li>
<li>Maybe we should annex this one?</li>
</ul>
<p>Refactoring of events has been completed and menus for Scrapbox Kozane and Gyazo Kozane have been added.</p>
<ul>
<li>But there are some things that work in common with regular Kozane, so refactoring the menu first.</li>
</ul>
<p>Well, the edit menu is not appropriate for Scrapbox Kozane.</p>
<p>Scrapbox Kozane could be implemented, but how to get users to add it?</p>
<ul>
<li>Iâ€™d probably use paste as a starting point, since itâ€™s a form of copying a URL and typing that in anyway.</li>
<li><a href="https://developer.mozilla.org/en-US/docs/Web/API/Document/paste_event" class="external">https://developer.mozilla.org/en-US/docs/Web/API/Document/paste_event<svg aria-hidden="true" class="external-icon" style="max-width:0.8em;max-height:0.8em;" viewBox="0 0 512 512"><path d="M320 0H288V64h32 82.7L201.4 265.4 178.7 288 224 333.3l22.6-22.6L448 109.3V192v32h64V192 32 0H480 320zM32 32H0V64 480v32H32 456h32V480 352 320H424v32 96H64V96h96 32V32H160 32z"></path></svg></a></li>
</ul>
<p>I deployed it and got an email from Google saying â€œitâ€™s not good to publish unrestricted APIâ€.</p>
<ul>
<li>When I followed the instructions and put restrictions on it, it stopped working. w</li>
<li>Itâ€™s not enough to only allow <code>kozaneba.netlify.com</code>, you have to include <code>regroup-d4932.firebaseapp.com</code> as well, otherwise OAuth login wonâ€™t work.</li>
</ul>
<p><img src="https://gyazo.com/91019f926449a28cc527aea7e52cb939/thumb/1000" alt="image"/>
<a href="https://kozaneba.netlify.app/#view=j5N9La0Cc4EhNNpjcACR" class="external">https://kozaneba.netlify.app/#view=j5N9La0Cc4EhNNpjcACR<svg aria-hidden="true" class="external-icon" style="max-width:0.8em;max-height:0.8em;" viewBox="0 0 512 512"><path d="M320 0H288V64h32 82.7L201.4 265.4 178.7 288 224 333.3l22.6-22.6L448 109.3V192v32h64V192 32 0H480 320zM32 32H0V64 480v32H32 456h32V480 352 320H424v32 96H64V96h96 32V32H160 32z"></path></svg></a></p>
<p>I donâ€™t like the lack of feedback when I paste.</p>
<ul>
<li>attached</li>
</ul>
<p>edited and cloned.</p>
<ul>
<li>I know itâ€™s suddenly exposed to the user, but I think itâ€™s essential to allow the user to customize the menu.</li>
</ul>
<p><a href="https://twitter.com/Foam_Crab/status/1431157524804165635?s=20" class="external">https://twitter.com/Foam_Crab/status/1431157524804165635?s=20<svg aria-hidden="true" class="external-icon" style="max-width:0.8em;max-height:0.8em;" viewBox="0 0 512 512"><path d="M320 0H288V64h32 82.7L201.4 265.4 178.7 288 224 333.3l22.6-22.6L448 109.3V192v32h64V192 32 0H480 320zM32 32H0V64 480v32H32 456h32V480 352 320H424v32 96H64V96h96 32V32H160 32z"></path></svg></a></p>
<blockquote>
<p>I felt that Kozaneba smoothed out my thinking very much by giving me the sense of manipulating things with my hands, such as expressing the perspective of the nuances of words in terms of physical distance, and being able to name groups and open and close them.
<a href="https://twitter.com/foldrr/status/1432245268510957568?s=20" class="external">https://twitter.com/foldrr/status/1432245268510957568?s=20<svg aria-hidden="true" class="external-icon" style="max-width:0.8em;max-height:0.8em;" viewBox="0 0 512 512"><path d="M320 0H288V64h32 82.7L201.4 265.4 178.7 288 224 333.3l22.6-22.6L448 109.3V192v32h64V192 32 0H480 320zM32 32H0V64 480v32H32 456h32V480 352 320H424v32 96H64V96h96 32V32H160 32z"></path></svg></a>
There is a ZUI-like feeling of being able to do operations that are usually done in the file system (current move) or outliner (zoom) steplessly instead of zeroing in.</p>
</blockquote>
<blockquote>
<p>On another matter, pasting the Scrapbox project URL (not the page) and then dragging it opens the crash report. I have sent the reproduction procedure from the crash report here.</p>
</blockquote>
<ul>
<li>I have not yet decided what to do with URLs that are not pages, but I thought that if I set the general URL to â€œKozane for external links,â€ I might be able to achieve â€œI want to link to a placeâ€ together.</li>
<li>
<blockquote>
<p>Yes, I agree. I agree, it would be useful if URLs could basically be â€œkozane to external linksâ€ and some URLs such as Gyazo could be previewed as they are now.</p>
</blockquote>
</li>
</ul>
<p>I know a lot of people will try, â€œI wonder what happens if I post the project URL,â€ so Iâ€™m just going to issue an ALERT and say, â€œYou canâ€™t do that.â€</p>
<p>What the external link Kozane should be</p>
<ul>
<li>Only displaying URL is not good enough.</li>
<li>If there is an og:image, I want to display it, if there is a title, I want to use it, etc.</li>
<li>And if there is a favicon, I want to use it?</li>
<li>In fact, Regroup had a â€œWikipedia sticky noteâ€</li>
<li>If you have a link kozane, you can link to other places.
<ul>
<li>How to display it.</li>
<li>The screenshots are a bit cluttered and donâ€™t give much information.</li>
<li>Title of the place and indication that the link is to a place
<ul>
<li>You have favicon.</li>
</ul>
</li>
</ul>
</li>
</ul>
<p>favicon
<img src="https://gyazo.com/87e9fb245c4d9d883d9ee0612150988e/thumb/1000" alt="image"/>
Well, better than using Reactâ€™s default icon anyway.</p>
<p>The fact that Gyazo Kozane has been created means that handwritten additions can also be made.
<img src="https://gyazo.com/dd1196b43036307be019617c15c3cef7/thumb/1000" alt="image"/>
<img src="https://gyazo.com/5fa76e346d4cb8a79aebf77bdf3d978e/thumb/1000" alt="image"/></p>
<p>Groupingâ€¦</p>
<ul>
<li><img src="https://gyazo.com/c08a95bd649beec98ea92c1a76c59346/thumb/1000" alt="image"/></li>
<li>Oh, Iâ€™ll be.</li>
</ul>
<p>Itâ€™s done.</p>
<ul>
<li><img src="https://gyazo.com/5abdd95826e8f17b3a009bbf0f8ad448/thumb/1000" alt="image"/></li>
<li><code>mix-blend-mode: multiply; border: 0;</code></li>
<li>White background color becomes transparent when using multiply composite.</li>
</ul>
<p><img src="https://gyazo.com/591adec880980a144fad63e1b9724ef4/thumb/1000" alt="image"/></p>
<ul>
<li>Hmmm, the one without og:image would be a disappointmentâ€¦</li>
<li><img src="https://gyazo.com/1ab20ff9a47787164e4fecafcae10fd9/thumb/1000" alt="image"/></li>
</ul>
<hr/>
<p>If you paste the Scrapbox URL into Kozaneba, you can create a Scrapbox Kozane, and when you press the expand menu, all pages within 2hops become Kozanes, and you can move them freely.
<img src="https://gyazo.com/8a1b146492af61c7f58dca96ebdfd352/thumb/1000" alt="image"/></p>
<p>Iâ€™d like to reproduce it and fix it tomorrow. I want to reproduce it somehow and fix it tomorrow.</p>
<ul>
<li><a href="./Kozaneba-Development-Diary-2021-08-31" class="internal alias" data-slug="Kozaneba-Development-Diary-2021-08-31">Kozaneba Development Diary 2021-08-31</a></li>
</ul>
<hr/>
<p>This page is auto-translated from <a href="https://scrapbox.io/nishio/Kozaneba%E9%96%8B%E7%99%BA%E6%97%A5%E8%A8%982021-08-30" class="external">/nishio/Kozanebaé–‹ç™ºæ—¥è¨˜2021-08-30<svg aria-hidden="true" class="external-icon" style="max-width:0.8em;max-height:0.8em;" viewBox="0 0 512 512"><path d="M320 0H288V64h32 82.7L201.4 265.4 178.7 288 224 333.3l22.6-22.6L448 109.3V192v32h64V192 32 0H480 320zM32 32H0V64 480v32H32 456h32V480 352 320H424v32 96H64V96h96 32V32H160 32z"></path></svg></a> using DeepL. If you looks something interesting but the auto-translated English is not good enough to understand it, feel free to let me know at <a href="https://twitter.com/nishio_en" class="external">@nishio_en<svg aria-hidden="true" class="external-icon" style="max-width:0.8em;max-height:0.8em;" viewBox="0 0 512 512"><path d="M320 0H288V64h32 82.7L201.4 265.4 178.7 288 224 333.3l22.6-22.6L448 109.3V192v32h64V192 32 0H480 320zM32 32H0V64 480v32H32 456h32V480 352 320H424v32 96H64V96h96 32V32H160 32z"></path></svg></a>. Iâ€™m very happy to spread my thought to non-Japanese readers.</p></article><hr/><div class="page-footer"></div></div><div class="right sidebar"><div class="graph"><h3>Graph View</h3><div class="graph-outer"><div id="graph-container" data-cfg="{&quot;drag&quot;:true,&quot;zoom&quot;:true,&quot;depth&quot;:1,&quot;scale&quot;:1.1,&quot;repelForce&quot;:0.5,&quot;centerForce&quot;:0.3,&quot;linkDistance&quot;:30,&quot;fontSize&quot;:0.6,&quot;opacityScale&quot;:1,&quot;showTags&quot;:true,&quot;removeTags&quot;:[],&quot;focusOnHover&quot;:false}"></div><button id="global-graph-icon" aria-label="Global Graph"><svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 55 55" fill="currentColor" xml:space="preserve"><path d="M49,0c-3.309,0-6,2.691-6,6c0,1.035,0.263,2.009,0.726,2.86l-9.829,9.829C32.542,17.634,30.846,17,29,17
                s-3.542,0.634-4.898,1.688l-7.669-7.669C16.785,10.424,17,9.74,17,9c0-2.206-1.794-4-4-4S9,6.794,9,9s1.794,4,4,4
                c0.74,0,1.424-0.215,2.019-0.567l7.669,7.669C21.634,21.458,21,23.154,21,25s0.634,3.542,1.688,4.897L10.024,42.562
                C8.958,41.595,7.549,41,6,41c-3.309,0-6,2.691-6,6s2.691,6,6,6s6-2.691,6-6c0-1.035-0.263-2.009-0.726-2.86l12.829-12.829
                c1.106,0.86,2.44,1.436,3.898,1.619v10.16c-2.833,0.478-5,2.942-5,5.91c0,3.309,2.691,6,6,6s6-2.691,6-6c0-2.967-2.167-5.431-5-5.91
                v-10.16c1.458-0.183,2.792-0.759,3.898-1.619l7.669,7.669C41.215,39.576,41,40.26,41,41c0,2.206,1.794,4,4,4s4-1.794,4-4
                s-1.794-4-4-4c-0.74,0-1.424,0.215-2.019,0.567l-7.669-7.669C36.366,28.542,37,26.846,37,25s-0.634-3.542-1.688-4.897l9.665-9.665
                C46.042,11.405,47.451,12,49,12c3.309,0,6-2.691,6-6S52.309,0,49,0z M11,9c0-1.103,0.897-2,2-2s2,0.897,2,2s-0.897,2-2,2
                S11,10.103,11,9z M6,51c-2.206,0-4-1.794-4-4s1.794-4,4-4s4,1.794,4,4S8.206,51,6,51z M33,49c0,2.206-1.794,4-4,4s-4-1.794-4-4
                s1.794-4,4-4S33,46.794,33,49z M29,31c-3.309,0-6-2.691-6-6s2.691-6,6-6s6,2.691,6,6S32.309,31,29,31z M47,41c0,1.103-0.897,2-2,2
                s-2-0.897-2-2s0.897-2,2-2S47,39.897,47,41z M49,10c-2.206,0-4-1.794-4-4s1.794-4,4-4s4,1.794,4,4S51.206,10,49,10z"></path></svg></button></div><div id="global-graph-outer"><div id="global-graph-container" data-cfg="{&quot;drag&quot;:true,&quot;zoom&quot;:true,&quot;depth&quot;:-1,&quot;scale&quot;:0.9,&quot;repelForce&quot;:0.5,&quot;centerForce&quot;:0.3,&quot;linkDistance&quot;:30,&quot;fontSize&quot;:0.6,&quot;opacityScale&quot;:1,&quot;showTags&quot;:true,&quot;removeTags&quot;:[],&quot;focusOnHover&quot;:true}"></div></div></div><div class="backlinks"><h3>Backlinks</h3><ul class="overflow"><li><a href="./Kozaneba-Development-Diary-2021-08-29" class="internal">Kozaneba Development Diary 2021-08-29</a></li><li><a href="./Kozaneba-Development-Diary-2021-08-31" class="internal">Kozaneba Development Diary 2021-08-31</a></li></ul></div></div><footer class><p>Created with <a href="https://quartz.jzhao.xyz/">Quartz v4.4.0</a> Â© 2024</p><ul><li><a href="https://github.com/jackyzha0/quartz">GitHub</a></li><li><a href="https://discord.gg/cRFFHYye7t">Discord Community</a></li></ul></footer></div></div></body><script type="application/javascript">function c(){let t=this.parentElement;t.classList.toggle("is-collapsed");let l=t.classList.contains("is-collapsed")?this.scrollHeight:t.scrollHeight;t.style.maxHeight=l+"px";let o=t,e=t.parentElement;for(;e;){if(!e.classList.contains("callout"))return;let n=e.classList.contains("is-collapsed")?e.scrollHeight:e.scrollHeight+o.scrollHeight;e.style.maxHeight=n+"px",o=e,e=e.parentElement}}function i(){let t=document.getElementsByClassName("callout is-collapsible");for(let s of t){let l=s.firstElementChild;if(l){l.addEventListener("click",c),window.addCleanup(()=>l.removeEventListener("click",c));let e=s.classList.contains("is-collapsed")?l.scrollHeight:s.scrollHeight;s.style.maxHeight=e+"px"}}}document.addEventListener("nav",i);window.addEventListener("resize",i);
</script><script src="https://cdn.jsdelivr.net/npm/katex@0.16.11/dist/contrib/copy-tex.min.js" type="application/javascript"></script><script src="./postscript.js" type="module"></script></html>