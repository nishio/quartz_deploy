<!DOCTYPE html>
<html lang="en"><head><title>caddi2018_b</title><meta charset="utf-8"/><link rel="preconnect" href="https://fonts.googleapis.com"/><link rel="preconnect" href="https://fonts.gstatic.com"/><link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=IBM Plex Mono&amp;family=Schibsted Grotesk:wght@400;700&amp;family=Source Sans Pro:ital,wght@0,400;0,600;1,400;1,600&amp;display=swap"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><meta name="og:site_name" content="🪴 Quartz 4.0"/><meta property="og:title" content="caddi2018_b"/><meta property="og:type" content="website"/><meta name="twitter:card" content="summary_large_image"/><meta name="twitter:title" content="caddi2018_b"/><meta name="twitter:description" content="D - Harlequin Thoughts. Game of taking 0 or 1 from multiple piles When all mountains are less than 1, the turner wins. When there is only one 2, you lose if you take it from there."/><meta property="og:description" content="D - Harlequin Thoughts. Game of taking 0 or 1 from multiple piles When all mountains are less than 1, the turner wins. When there is only one 2, you lose if you take it from there."/><meta property="og:image:type" content="image/webp"/><meta property="og:image:alt" content="D - Harlequin Thoughts. Game of taking 0 or 1 from multiple piles When all mountains are less than 1, the turner wins. When there is only one 2, you lose if you take it from there."/><meta property="og:image:width" content="1200"/><meta property="og:image:height" content="630"/><meta property="og:width" content="1200"/><meta property="og:height" content="630"/><meta property="og:image:url" content="https://quartz.jzhao.xyz/static/og-image.png"/><meta name="twitter:image" content="https://quartz.jzhao.xyz/static/og-image.png"/><meta property="og:image" content="https://quartz.jzhao.xyz/static/og-image.png"/><meta property="twitter:domain" content="quartz.jzhao.xyz"/><meta property="og:url" content="https:/quartz.jzhao.xyz/caddi2018_b"/><meta property="twitter:url" content="https:/quartz.jzhao.xyz/caddi2018_b"/><link rel="icon" href="./static/icon.png"/><meta name="description" content="D - Harlequin Thoughts. Game of taking 0 or 1 from multiple piles When all mountains are less than 1, the turner wins. When there is only one 2, you lose if you take it from there."/><meta name="generator" content="Quartz"/><link href="./index.css" rel="stylesheet" type="text/css" spa-preserve/><link href="https://cdn.jsdelivr.net/npm/katex@0.16.11/dist/katex.min.css" rel="stylesheet" type="text/css" spa-preserve/><script src="./prescript.js" type="application/javascript" spa-preserve></script><script type="application/javascript" spa-preserve>const fetchData = fetch("./static/contentIndex.json").then(data => data.json())</script></head><body data-slug="caddi2018_b"><div id="quartz-root" class="page"><div id="quartz-body"><div class="left sidebar"><h2 class="page-title"><a href=".">🪴 Quartz 4.0</a></h2><div class="spacer mobile-only"></div><div class="search"><button class="search-button" id="search-button"><p>Search</p><svg role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 19.9 19.7"><title>Search</title><g class="search-path" fill="none"><path stroke-linecap="square" d="M18.5 18.3l-5.4-5.4"></path><circle cx="8" cy="8" r="7"></circle></g></svg></button><div id="search-container"><div id="search-space"><input autocomplete="off" id="search-bar" name="search" type="text" aria-label="Search for something" placeholder="Search for something"/><div id="search-layout" data-preview="true"></div></div></div></div><button class="darkmode" id="darkmode"><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" id="dayIcon" x="0px" y="0px" viewBox="0 0 35 35" style="enable-background:new 0 0 35 35" xml:space="preserve" aria-label="Dark mode"><title>Dark mode</title><path d="M6,17.5C6,16.672,5.328,16,4.5,16h-3C0.672,16,0,16.672,0,17.5    S0.672,19,1.5,19h3C5.328,19,6,18.328,6,17.5z M7.5,26c-0.414,0-0.789,0.168-1.061,0.439l-2,2C4.168,28.711,4,29.086,4,29.5    C4,30.328,4.671,31,5.5,31c0.414,0,0.789-0.168,1.06-0.44l2-2C8.832,28.289,9,27.914,9,27.5C9,26.672,8.329,26,7.5,26z M17.5,6    C18.329,6,19,5.328,19,4.5v-3C19,0.672,18.329,0,17.5,0S16,0.672,16,1.5v3C16,5.328,16.671,6,17.5,6z M27.5,9    c0.414,0,0.789-0.168,1.06-0.439l2-2C30.832,6.289,31,5.914,31,5.5C31,4.672,30.329,4,29.5,4c-0.414,0-0.789,0.168-1.061,0.44    l-2,2C26.168,6.711,26,7.086,26,7.5C26,8.328,26.671,9,27.5,9z M6.439,8.561C6.711,8.832,7.086,9,7.5,9C8.328,9,9,8.328,9,7.5    c0-0.414-0.168-0.789-0.439-1.061l-2-2C6.289,4.168,5.914,4,5.5,4C4.672,4,4,4.672,4,5.5c0,0.414,0.168,0.789,0.439,1.06    L6.439,8.561z M33.5,16h-3c-0.828,0-1.5,0.672-1.5,1.5s0.672,1.5,1.5,1.5h3c0.828,0,1.5-0.672,1.5-1.5S34.328,16,33.5,16z     M28.561,26.439C28.289,26.168,27.914,26,27.5,26c-0.828,0-1.5,0.672-1.5,1.5c0,0.414,0.168,0.789,0.439,1.06l2,2    C28.711,30.832,29.086,31,29.5,31c0.828,0,1.5-0.672,1.5-1.5c0-0.414-0.168-0.789-0.439-1.061L28.561,26.439z M17.5,29    c-0.829,0-1.5,0.672-1.5,1.5v3c0,0.828,0.671,1.5,1.5,1.5s1.5-0.672,1.5-1.5v-3C19,29.672,18.329,29,17.5,29z M17.5,7    C11.71,7,7,11.71,7,17.5S11.71,28,17.5,28S28,23.29,28,17.5S23.29,7,17.5,7z M17.5,25c-4.136,0-7.5-3.364-7.5-7.5    c0-4.136,3.364-7.5,7.5-7.5c4.136,0,7.5,3.364,7.5,7.5C25,21.636,21.636,25,17.5,25z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" id="nightIcon" x="0px" y="0px" viewBox="0 0 100 100" style="enable-background:new 0 0 100 100" xml:space="preserve" aria-label="Light mode"><title>Light mode</title><path d="M96.76,66.458c-0.853-0.852-2.15-1.064-3.23-0.534c-6.063,2.991-12.858,4.571-19.655,4.571  C62.022,70.495,50.88,65.88,42.5,57.5C29.043,44.043,25.658,23.536,34.076,6.47c0.532-1.08,0.318-2.379-0.534-3.23  c-0.851-0.852-2.15-1.064-3.23-0.534c-4.918,2.427-9.375,5.619-13.246,9.491c-9.447,9.447-14.65,22.008-14.65,35.369  c0,13.36,5.203,25.921,14.65,35.368s22.008,14.65,35.368,14.65c13.361,0,25.921-5.203,35.369-14.65  c3.872-3.871,7.064-8.328,9.491-13.246C97.826,68.608,97.611,67.309,96.76,66.458z"></path></svg></button></div><div class="center"><div class="page-header"><div class="popover-hint"><nav class="breadcrumb-container" aria-label="breadcrumbs"><div class="breadcrumb-element"><a href="./">Home</a><p> ❯ </p></div><div class="breadcrumb-element"><a href>caddi2018_b</a></div></nav><h1 class="article-title">caddi2018_b</h1><p show-comma="true" class="content-meta"><span>Nov 10, 2020</span><span>6 min read</span></p></div></div><article class="popover-hint"><p><img src="https://gyazo.com/cb838b2af7700f03a0a0700e26823b26/thumb/1000" alt="image"/></p>
<p><a href="https://atcoder.jp/contests/caddi2018/tasks/caddi2018_b" class="external">D - Harlequin<svg aria-hidden="true" class="external-icon" style="max-width:0.8em;max-height:0.8em;" viewBox="0 0 512 512"><path d="M320 0H288V64h32 82.7L201.4 265.4 178.7 288 224 333.3l22.6-22.6L448 109.3V192v32h64V192 32 0H480 320zM32 32H0V64 480v32H32 456h32V480 352 320H424v32 96H64V96h96 32V32H160 32z"></path></svg></a></p>
<ul>
<li>
<p><img src="https://gyazo.com/14c0d417ffb75a7c07f2587309541ae6/thumb/1000" alt="image"/></p>
</li>
<li>
<p>Thoughts.</p>
<ul>
<li>Game of taking 0 or 1 from multiple piles</li>
<li>When all mountains are less than 1, the turner wins.</li>
<li>When there is only one 2, you lose if you take it from there.
<ul>
<li>If there is a 1 in any pile other than that pile, you win if you take all of them and turn them over to your opponent.</li>
<li>If you don’t have it, you lose.</li>
</ul>
</li>
<li>If there are only two 2s
<ul>
<li>If you take it, you will lose and you will lose as well.
<ul>
<li>If there is a 1 in any pile other than that pile, you win if you take all of them and turn them over to your opponent.</li>
<li>If you don’t have it, you lose.</li>
</ul>
</li>
</ul>
</li>
<li>If there is only one 3
<ul>
<li>If there’s a 1 in the other pile, take 3 and you lose.</li>
</ul>
</li>
<li>It’s time to verify with code as I’m finding it difficult to do so with natural language.</li>
</ul>
</li>
<li>
<p>Thought 2</p>
<ul>
<li>think the opposite way
<ul>
<li>Reverse operation “select one or more from ai and increase by 1”.</li>
</ul>
</li>
<li>A: Loses when ai is all 0’s
<ul>
<li>Consider a reverse operation from this state</li>
</ul>
</li>
<li>B: When ai is 0 or 1, you win because you can take all 1’s and attribute them to A
<ul>
<li>Consider a reverse operation from this state</li>
<li>ai will be 0 to 2, but if there is no 2, then there is more than one 2 since it is included in B</li>
<li>But B is the winning state, so the opponent tries to avoid transitioning to it.</li>
<li>Transition only when the situation becomes unavoidable.</li>
</ul>
</li>
<li>C: There is only one 2, losing because it can only transition to B.
<ul>
<li>Consider a reverse operation from this state</li>
<li>One 2 or 3 and the rest 0 or 1</li>
</ul>
</li>
<li>D: When there is only one 2 and the rest are 0 or 1, the transition to C is possible, so it wins.
<ul>
<li>I’m starting to get confused.</li>
</ul>
</li>
<li>To summarize so far, the following attributes are likely to be affected
<ul>
<li>What is the largest number</li>
<li>Is it one or more than one?</li>
<li>Are there any other numbers?</li>
</ul>
</li>
<li>When the largest number is x, one, and no other number, you win if x is odd
<ul>
<li>When there are other numbers than that, the rest of the problem becomes similar.
<ul>
<li>If x is even, the game is the same because “if x is 0, you lose”.</li>
<li>When the number is odd, the game is reversed.</li>
</ul>
</li>
</ul>
</li>
<li>When there is more than one largest number, you can leave one, cut all of them, or just one…
<ul>
<li>I feel like I’m not giving it enough thought.</li>
<li>If I have to leave one and cut it down to get to the losing phase, I’ll do it, this phase is a win.</li>
<li>If it’s going to be a win-win situation, you’re going to try to avoid that as much as possible.
<ul>
<li>What kind of move is that?</li>
<li>What happens when you cut all the big numbers?</li>
</ul>
</li>
<li>Oh, I should have thought of when there is more than one largest number and no other.
<ul>
<li>When there are x 1’s
<ul>
<li>Losing phase if one piece is left to be cut off.</li>
<li>Take it all and win.</li>
</ul>
</li>
<li>When there are x number of 2
<ul>
<li>If you take all of them, the opponent wins the phase, so you don’t do it.</li>
<li>If you leave one and cut it down, it becomes a problem for the rest because the maximum value is 1 even, there are x-1 1’s, so you take them all and the other side wins, which you also don’t do.</li>
<li>If x is 3 or more, leave 2 pieces and cut them down, the opponent can only do one of the above, so the opponent loses</li>
<li>If x is 2, I lose.</li>
</ul>
</li>
<li>When there are x number of 3
<ul>
<li>If x is 2, you win by scraping all of them.</li>
<li>If x is greater than or equal to 3
<ul>
<li>If you leave one piece and cut it down, it becomes a “2 is x-1” problem.</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li>I’m starting to understand a lot more.
<ul>
<li>Sorting by number of pieces and whether the top is even or odd, and whether the tied first place is one, two, or more than one kind, results in “0 is a winner or loser” for the problem with the top removed.</li>
<li>It’s just sorted and processed linearly, so it’s not too late.</li>
<li>But I don’t think this consideration can be done in real time during the contest, and since it’s being done by a human, there could be an overlooked route or something.</li>
<li>What is the best way to do it in real time? Maybe make a solver, solve small problems, and discover patterns from there.</li>
</ul>
</li>
</ul>
</li>
<li>
<p>Official Explanation</p>
<ul>
<li>It was attributed to a much simpler form.</li>
<li>
<blockquote>
<p>One way to arrive at this conclusion during the contest is to write a program that solves a small case by (memoized) recursion, or to formulate a hypothesis by experimenting with paper-and-pencil solving for the N = 2 case.</p>
</blockquote>
</li>
<li>Well, that’s what happens.</li>
</ul>
</li>
<li>
<p>Thought 3</p>
<ul>
<li>In the first place, since the decision to take or not to take from each mountain does not interfere at all with the other mountains, it would have been better to consider each mountain to be a partial problem first.</li>
<li>This is the reason why odd numbers win in a single mountain in the first place.
<ul>
<li><img src="https://gyazo.com/cb838b2af7700f03a0a0700e26823b26/thumb/1000" alt="image"/></li>
</ul>
</li>
<li>For two mountains
<ul>
<li><img src="https://gyazo.com/76f0d3348647f5f619903d283eb35839/thumb/1000" alt="image"/></li>
</ul>
</li>
<li>If the losing state is a circle, the winning state that can transition to a circle is a square, and the state that can only transition to a square is a circle
<ul>
<li><img src="https://gyazo.com/3389c6ac2c5426f784be4d9dfd140782/thumb/1000" alt="image"/></li>
</ul>
</li>
<li>Ah, I see, we can hypothesize that when everything is even, we lose.
<ul>
<li><a href="./Paint-state-transition-diagrams-as-winners-and-losers." class="internal alias" data-slug="Paint-state-transition-diagrams-as-winners-and-losers.">Paint state transition diagrams as winners and losers.</a></li>
</ul>
</li>
<li>If you think of it as a combination of subproblems, one mountain at a time, you lose if everything goes to 0
<ul>
<li>You have the option of advancing one move or not.</li>
<li>When the opponent advances one move, we can maintain evenness by doing the same thing.</li>
</ul>
</li>
</ul>
</li>
<li>
<p><a href="./competitive-problem" class="internal alias" data-slug="competitive-problem">competitive problem</a></p>
</li>
</ul>
<hr/>
<p>This page is auto-translated from <a href="https://scrapbox.io/nishio/caddi2018_b" class="external">/nishio/caddi2018_b<svg aria-hidden="true" class="external-icon" style="max-width:0.8em;max-height:0.8em;" viewBox="0 0 512 512"><path d="M320 0H288V64h32 82.7L201.4 265.4 178.7 288 224 333.3l22.6-22.6L448 109.3V192v32h64V192 32 0H480 320zM32 32H0V64 480v32H32 456h32V480 352 320H424v32 96H64V96h96 32V32H160 32z"></path></svg></a> using DeepL. If you looks something interesting but the auto-translated English is not good enough to understand it, feel free to let me know at <a href="https://twitter.com/nishio_en" class="external">@nishio_en<svg aria-hidden="true" class="external-icon" style="max-width:0.8em;max-height:0.8em;" viewBox="0 0 512 512"><path d="M320 0H288V64h32 82.7L201.4 265.4 178.7 288 224 333.3l22.6-22.6L448 109.3V192v32h64V192 32 0H480 320zM32 32H0V64 480v32H32 456h32V480 352 320H424v32 96H64V96h96 32V32H160 32z"></path></svg></a>. I’m very happy to spread my thought to non-Japanese readers.</p></article><hr/><div class="page-footer"></div></div><div class="right sidebar"><div class="graph"><h3>Graph View</h3><div class="graph-outer"><div id="graph-container" data-cfg="{&quot;drag&quot;:true,&quot;zoom&quot;:true,&quot;depth&quot;:1,&quot;scale&quot;:1.1,&quot;repelForce&quot;:0.5,&quot;centerForce&quot;:0.3,&quot;linkDistance&quot;:30,&quot;fontSize&quot;:0.6,&quot;opacityScale&quot;:1,&quot;showTags&quot;:true,&quot;removeTags&quot;:[],&quot;focusOnHover&quot;:false}"></div><button id="global-graph-icon" aria-label="Global Graph"><svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 55 55" fill="currentColor" xml:space="preserve"><path d="M49,0c-3.309,0-6,2.691-6,6c0,1.035,0.263,2.009,0.726,2.86l-9.829,9.829C32.542,17.634,30.846,17,29,17
                s-3.542,0.634-4.898,1.688l-7.669-7.669C16.785,10.424,17,9.74,17,9c0-2.206-1.794-4-4-4S9,6.794,9,9s1.794,4,4,4
                c0.74,0,1.424-0.215,2.019-0.567l7.669,7.669C21.634,21.458,21,23.154,21,25s0.634,3.542,1.688,4.897L10.024,42.562
                C8.958,41.595,7.549,41,6,41c-3.309,0-6,2.691-6,6s2.691,6,6,6s6-2.691,6-6c0-1.035-0.263-2.009-0.726-2.86l12.829-12.829
                c1.106,0.86,2.44,1.436,3.898,1.619v10.16c-2.833,0.478-5,2.942-5,5.91c0,3.309,2.691,6,6,6s6-2.691,6-6c0-2.967-2.167-5.431-5-5.91
                v-10.16c1.458-0.183,2.792-0.759,3.898-1.619l7.669,7.669C41.215,39.576,41,40.26,41,41c0,2.206,1.794,4,4,4s4-1.794,4-4
                s-1.794-4-4-4c-0.74,0-1.424,0.215-2.019,0.567l-7.669-7.669C36.366,28.542,37,26.846,37,25s-0.634-3.542-1.688-4.897l9.665-9.665
                C46.042,11.405,47.451,12,49,12c3.309,0,6-2.691,6-6S52.309,0,49,0z M11,9c0-1.103,0.897-2,2-2s2,0.897,2,2s-0.897,2-2,2
                S11,10.103,11,9z M6,51c-2.206,0-4-1.794-4-4s1.794-4,4-4s4,1.794,4,4S8.206,51,6,51z M33,49c0,2.206-1.794,4-4,4s-4-1.794-4-4
                s1.794-4,4-4S33,46.794,33,49z M29,31c-3.309,0-6-2.691-6-6s2.691-6,6-6s6,2.691,6,6S32.309,31,29,31z M47,41c0,1.103-0.897,2-2,2
                s-2-0.897-2-2s0.897-2,2-2S47,39.897,47,41z M49,10c-2.206,0-4-1.794-4-4s1.794-4,4-4s4,1.794,4,4S51.206,10,49,10z"></path></svg></button></div><div id="global-graph-outer"><div id="global-graph-container" data-cfg="{&quot;drag&quot;:true,&quot;zoom&quot;:true,&quot;depth&quot;:-1,&quot;scale&quot;:0.9,&quot;repelForce&quot;:0.5,&quot;centerForce&quot;:0.3,&quot;linkDistance&quot;:30,&quot;fontSize&quot;:0.6,&quot;opacityScale&quot;:1,&quot;showTags&quot;:true,&quot;removeTags&quot;:[],&quot;focusOnHover&quot;:true}"></div></div></div><div class="backlinks"><h3>Backlinks</h3><ul class="overflow"><li><a href="./Paint-state-transition-diagrams-as-winners-and-losers." class="internal">Paint state transition diagrams as winners and losers.</a></li><li><a href="./🤖2023-08-12-03:01" class="internal">🤖2023-08-12 03:01</a></li></ul></div></div><footer class><p>Created with <a href="https://quartz.jzhao.xyz/">Quartz v4.4.0</a> © 2024</p><ul><li><a href="https://github.com/jackyzha0/quartz">GitHub</a></li><li><a href="https://discord.gg/cRFFHYye7t">Discord Community</a></li></ul></footer></div></div></body><script type="application/javascript">function c(){let t=this.parentElement;t.classList.toggle("is-collapsed");let l=t.classList.contains("is-collapsed")?this.scrollHeight:t.scrollHeight;t.style.maxHeight=l+"px";let o=t,e=t.parentElement;for(;e;){if(!e.classList.contains("callout"))return;let n=e.classList.contains("is-collapsed")?e.scrollHeight:e.scrollHeight+o.scrollHeight;e.style.maxHeight=n+"px",o=e,e=e.parentElement}}function i(){let t=document.getElementsByClassName("callout is-collapsible");for(let s of t){let l=s.firstElementChild;if(l){l.addEventListener("click",c),window.addCleanup(()=>l.removeEventListener("click",c));let e=s.classList.contains("is-collapsed")?l.scrollHeight:s.scrollHeight;s.style.maxHeight=e+"px"}}}document.addEventListener("nav",i);window.addEventListener("resize",i);
</script><script src="https://cdn.jsdelivr.net/npm/katex@0.16.11/dist/contrib/copy-tex.min.js" type="application/javascript"></script><script src="./postscript.js" type="module"></script></html>