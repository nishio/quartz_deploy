<!DOCTYPE html>
<html lang="en"><head><title>Hatena2008-05-16</title><meta charset="utf-8"/><link rel="preconnect" href="https://fonts.googleapis.com"/><link rel="preconnect" href="https://fonts.gstatic.com"/><link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=IBM Plex Mono&amp;family=Schibsted Grotesk:wght@400;700&amp;family=Source Sans Pro:ital,wght@0,400;0,600;1,400;1,600&amp;display=swap"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><meta name="og:site_name" content="ü™¥ Quartz 4.0"/><meta property="og:title" content="Hatena2008-05-16"/><meta property="og:type" content="website"/><meta name="twitter:card" content="summary_large_image"/><meta name="twitter:title" content="Hatena2008-05-16"/><meta name="twitter:description" content="hatena &lt;body> **1210939584*Istretch My eyes are getting tired easily these days, and the time it takes me to focus on a light when I go home at night is not getting any shorter, ..."/><meta property="og:description" content="hatena &lt;body> **1210939584*Istretch My eyes are getting tired easily these days, and the time it takes me to focus on a light when I go home at night is not getting any shorter, ..."/><meta property="og:image:type" content="image/webp"/><meta property="og:image:alt" content="hatena &lt;body> **1210939584*Istretch My eyes are getting tired easily these days, and the time it takes me to focus on a light when I go home at night is not getting any shorter, ..."/><meta property="og:image:width" content="1200"/><meta property="og:image:height" content="630"/><meta property="og:width" content="1200"/><meta property="og:height" content="630"/><meta property="og:image:url" content="https://quartz.jzhao.xyz/static/og-image.png"/><meta name="twitter:image" content="https://quartz.jzhao.xyz/static/og-image.png"/><meta property="og:image" content="https://quartz.jzhao.xyz/static/og-image.png"/><meta property="twitter:domain" content="quartz.jzhao.xyz"/><meta property="og:url" content="https:/quartz.jzhao.xyz/Hatena2008-05-16"/><meta property="twitter:url" content="https:/quartz.jzhao.xyz/Hatena2008-05-16"/><link rel="icon" href="./static/icon.png"/><meta name="description" content="hatena &lt;body> **1210939584*Istretch My eyes are getting tired easily these days, and the time it takes me to focus on a light when I go home at night is not getting any shorter, ..."/><meta name="generator" content="Quartz"/><link href="./index.css" rel="stylesheet" type="text/css" spa-preserve/><link href="https://cdn.jsdelivr.net/npm/katex@0.16.11/dist/katex.min.css" rel="stylesheet" type="text/css" spa-preserve/><script src="./prescript.js" type="application/javascript" spa-preserve></script><script type="application/javascript" spa-preserve>const fetchData = fetch("./static/contentIndex.json").then(data => data.json())</script></head><body data-slug="Hatena2008-05-16"><div id="quartz-root" class="page"><div id="quartz-body"><div class="left sidebar"><h2 class="page-title"><a href=".">ü™¥ Quartz 4.0</a></h2><div class="spacer mobile-only"></div><div class="search"><button class="search-button" id="search-button"><p>Search</p><svg role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 19.9 19.7"><title>Search</title><g class="search-path" fill="none"><path stroke-linecap="square" d="M18.5 18.3l-5.4-5.4"></path><circle cx="8" cy="8" r="7"></circle></g></svg></button><div id="search-container"><div id="search-space"><input autocomplete="off" id="search-bar" name="search" type="text" aria-label="Search for something" placeholder="Search for something"/><div id="search-layout" data-preview="true"></div></div></div></div><button class="darkmode" id="darkmode"><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" id="dayIcon" x="0px" y="0px" viewBox="0 0 35 35" style="enable-background:new 0 0 35 35" xml:space="preserve" aria-label="Dark mode"><title>Dark mode</title><path d="M6,17.5C6,16.672,5.328,16,4.5,16h-3C0.672,16,0,16.672,0,17.5    S0.672,19,1.5,19h3C5.328,19,6,18.328,6,17.5z M7.5,26c-0.414,0-0.789,0.168-1.061,0.439l-2,2C4.168,28.711,4,29.086,4,29.5    C4,30.328,4.671,31,5.5,31c0.414,0,0.789-0.168,1.06-0.44l2-2C8.832,28.289,9,27.914,9,27.5C9,26.672,8.329,26,7.5,26z M17.5,6    C18.329,6,19,5.328,19,4.5v-3C19,0.672,18.329,0,17.5,0S16,0.672,16,1.5v3C16,5.328,16.671,6,17.5,6z M27.5,9    c0.414,0,0.789-0.168,1.06-0.439l2-2C30.832,6.289,31,5.914,31,5.5C31,4.672,30.329,4,29.5,4c-0.414,0-0.789,0.168-1.061,0.44    l-2,2C26.168,6.711,26,7.086,26,7.5C26,8.328,26.671,9,27.5,9z M6.439,8.561C6.711,8.832,7.086,9,7.5,9C8.328,9,9,8.328,9,7.5    c0-0.414-0.168-0.789-0.439-1.061l-2-2C6.289,4.168,5.914,4,5.5,4C4.672,4,4,4.672,4,5.5c0,0.414,0.168,0.789,0.439,1.06    L6.439,8.561z M33.5,16h-3c-0.828,0-1.5,0.672-1.5,1.5s0.672,1.5,1.5,1.5h3c0.828,0,1.5-0.672,1.5-1.5S34.328,16,33.5,16z     M28.561,26.439C28.289,26.168,27.914,26,27.5,26c-0.828,0-1.5,0.672-1.5,1.5c0,0.414,0.168,0.789,0.439,1.06l2,2    C28.711,30.832,29.086,31,29.5,31c0.828,0,1.5-0.672,1.5-1.5c0-0.414-0.168-0.789-0.439-1.061L28.561,26.439z M17.5,29    c-0.829,0-1.5,0.672-1.5,1.5v3c0,0.828,0.671,1.5,1.5,1.5s1.5-0.672,1.5-1.5v-3C19,29.672,18.329,29,17.5,29z M17.5,7    C11.71,7,7,11.71,7,17.5S11.71,28,17.5,28S28,23.29,28,17.5S23.29,7,17.5,7z M17.5,25c-4.136,0-7.5-3.364-7.5-7.5    c0-4.136,3.364-7.5,7.5-7.5c4.136,0,7.5,3.364,7.5,7.5C25,21.636,21.636,25,17.5,25z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" id="nightIcon" x="0px" y="0px" viewBox="0 0 100 100" style="enable-background:new 0 0 100 100" xml:space="preserve" aria-label="Light mode"><title>Light mode</title><path d="M96.76,66.458c-0.853-0.852-2.15-1.064-3.23-0.534c-6.063,2.991-12.858,4.571-19.655,4.571  C62.022,70.495,50.88,65.88,42.5,57.5C29.043,44.043,25.658,23.536,34.076,6.47c0.532-1.08,0.318-2.379-0.534-3.23  c-0.851-0.852-2.15-1.064-3.23-0.534c-4.918,2.427-9.375,5.619-13.246,9.491c-9.447,9.447-14.65,22.008-14.65,35.369  c0,13.36,5.203,25.921,14.65,35.368s22.008,14.65,35.368,14.65c13.361,0,25.921-5.203,35.369-14.65  c3.872-3.871,7.064-8.328,9.491-13.246C97.826,68.608,97.611,67.309,96.76,66.458z"></path></svg></button></div><div class="center"><div class="page-header"><div class="popover-hint"><nav class="breadcrumb-container" aria-label="breadcrumbs"><div class="breadcrumb-element"><a href="./">Home</a><p> ‚ùØ </p></div><div class="breadcrumb-element"><a href>Hatena2008-05-16</a></div></nav><h1 class="article-title">Hatena2008-05-16</h1><p show-comma="true" class="content-meta"><span>May 16, 2008</span><span>6 min read</span></p></div></div><article class="popover-hint"><p>hatena</p>
<pre><code>&lt;body>
**1210939584*Istretch
My eyes are getting tired easily these days, and the time it takes me to focus on a light when I go home at night is not getting any shorter, so I bought some eye drops called &quot;Eye Stretch&quot;. Apparently, it contains methylneostigmine sulfate, which relaxes eye muscles.

I also bought 3 bottles of Asparagus Drink SP for 298 yen.

*1210947590*About Python tuples (for the third time)
You asked me a question and I answered it.

- references
-- First (3 years ago): &lt;a href=&quot;http://www.nishiohirokazu.org/archived_coreblog/337&quot;>The Significance of Tuples in Python @ NISHIO HIROKAZU # Archived COREBlog&lt;/a>.
-- Second (2 years ago): &lt;a href=&quot;http://www.nishiohirokazu.org/blog/2007/02/python_16.html&quot;>NISHIO Hirokazu's Blog: The Significance of Tuples in Python Returns&lt;/a>.

Q: &quot;I read the first article and thought I get it, but the second article says 'a bad explanation I wrote a long time ago' and I'm not sure which part is not good.&quot;

A: In a nutshell, the explanation that &quot;because a hash value cannot be computed because it is modifiable, it cannot be used as a dictionary key&quot; is not strictly true. For example, if you define a hash function that inherits from list, it can be used as a dictionary key while being modifiable, and an instance of a user-defined class can be used as a dictionary key because it inherits the default hash function. It is not &quot;technically impossible&quot; to make Python lists into dictionary keys, but &quot;intentionally prohibited&quot;.

-----

Below is the log of the 86 generation chat, edited appropriately to make it easier to read.

>>
N: How did you convince them?
A: Wow, that's very convenient. I didn't really understand the use of tuples, but now I get it! I see.
N: Yes, convenient convenient. It is convenient that a tuple can be a dictionary key. But why can't a list be a dictionary key? Why is it that we have two kinds of tuples and lists, and one of the lists can't be a key to the dictionary?
A: python dictionary specifications
N: I wonder why they did it that way. Because if a list can be a dictionary key, then there is no need for a tuple.
A: Is it a problem because a list is mutable?
N: Why bother if it's mutable?
A: You can change the contents of the list and use it as a key and it's not intuitive.
N: Yeah, that's it. What the heck happens when you key a list into a dictionary and then rewrite that list?
N: dict = {}; key = [1, 2]; dict[key] = 1 then key.append(3), can we get dict[key] or not?
N: This depends on the implementation of the hash function. If the hash function is implemented in such a way that it can be retrieved, it means &quot;the hash value is determined regardless of what is in it&quot;. If that is the case, when you do dict&amp;#91;[1, 2]&amp;#93; for dict = {[1, 2]: 1}, you will not get the value. The reason is that the two lists are &quot;different lists that just happen to have the same value in them.
A: Oh, I see.
N: Conversely, if a hash function is implemented so that the same value is obtained if the contents of the list are the same, &quot;the hash value is determined by what is in the list,&quot; then key.append(3) will change the hash value and dict[key] will not be able to obtain a value. It is incompatible to rewrite the key and to be able to get the value with dict&amp;#91;[1, 2]&amp;#93;.
A: I see.
N: By the way, Python's solution was to introduce tuples, which are &quot;lists that cannot be changed,&quot; while Ruby chose the option of &quot;instead of being able to put a list in a key, the value cannot be taken if the key is rewritten. Which one you choose is just one of the choices in the design of the language. As a matter of fact, I can't think of a situation where I would be happy to rewrite the keys of a hash.
U: ruby is a big classist and anything goes, so I guess you can take it as a loose concept like that.
N: Personally, I think the introduction of tuples is a mistake.
U: Does python have both arrays and tuples?
N: There are two: list and tuple. Everyone goes, &quot;What's this, how do I use them differently?&quot; w
U: So the list is restricted to the same type of content?
N: NON
U: uye
N: arayw the same type restriction on the inside http://www.python.jp/doc/current/lib/module-array.html
U: Oh, so there are lists, arrays, and tuples? If so, I don't know how to use lists and tuples!
N: Right?
U: haskell or something, it's obviously different, so I don't even need to think about how to use it >list, tuple, array
&lt;&lt;
&lt;/body>
&lt;comments>
&lt;comment>
&lt;username>ujihisa&lt;/username>
&lt;body>Uwww&lt;/body>
&lt;timestamp>1210947703&lt;/timestamp>
&lt;/comment>
&lt;comment>
&lt;username>nishiohirokazu&lt;/username>
&lt;body>Because it's too long and obtrusive to write your name every time you write it&lt;/body>.
&lt;timestamp>1210948190&lt;/timestamp>
&lt;/comment>
&lt;comment>
&lt;username>anatoo&lt;/username>
&lt;body>>python dictionary specs&lt;br>This area is terrible for me&lt;/body>.
&lt;timestamp>1211005691&lt;/timestamp>
&lt;/comment>
&lt;comment>
&lt;username>hamatsu1974&lt;/username>
&lt;body>The explanation in Dive Into Python was enough to convince me about the difference between lists and tuples.„ÄÄThe main advantage of tuples is that they are faster to process than lists if they are used as a dataset with constant values. That's what they were saying. &lt;br>&lt;br>&lt;br>&lt;br>&lt;strong>As a result, the number one advantage is that tuples are much faster to process than lists. &lt;br>&lt;br># I am sure that Mr. Nishio understands this and is making this comment in a joking manner, but I am sorry to be presumptuous, but I made this comment because of the negative impact on people who &quot;think they know better&quot; based only on what these experts say on the Internet. &lt;/body>
&lt;timestamp>1211006976&lt;/timestamp>
&lt;/comment>
&lt;comment>
&lt;username>nishiohirokazu&lt;/username>
&lt;body>Is this around &quot;You don't need a tuple&quot;? That was certainly an expression that is often misunderstood by &quot;know-it-alls&quot;.... &lt;BR>&lt;BR>It is not limited to Python that &quot;when there are things that cannot be changed and things that can be changed, the unchangeable is more suitable for non-changeable uses. For example, in Ruby, there are strings that can be changed and strings that cannot be changed (Symbol), and it is sometimes faster to write if(x == :foo) than if(x == &quot;foo&quot;). But when you are using a scripting language, it is much slower than C, so this difference in speed is not so essential. &lt;br>&lt;br>So the explanation &quot;tuples are fast lists instead of fixed ones&quot; doesn't explain why lists can't be dictionary keys. &lt;/body>
&lt;timestamp>1211014823&lt;/timestamp>
&lt;/comment>
&lt;comment>
&lt;username>hamatsu1974&lt;/username>
&lt;BODY>Assumed knowledge varies from person to person, and so does the way people perceive it. It is difficult to examine the statements...&lt;br>&lt;br># GMail is improving every millisecond day by day, so I think people have their own views on the speed difference argument :-)&lt;/body>.
&lt;timestamp>1211016631&lt;/timestamp>
&lt;/comment>
&lt;/comments>
</code></pre>
<h2 id="hatena-diary-2008-05-16"><a href="https://nishiohirokazu.hatenadiary.org/archive/2008/05/16" class="external">Hatena Diary 2008-05-16<svg aria-hidden="true" class="external-icon" style="max-width:0.8em;max-height:0.8em;" viewBox="0 0 512 512"><path d="M320 0H288V64h32 82.7L201.4 265.4 178.7 288 224 333.3l22.6-22.6L448 109.3V192v32h64V192 32 0H480 320zM32 32H0V64 480v32H32 456h32V480 352 320H424v32 96H64V96h96 32V32H160 32z"></path></svg></a><a role="anchor" aria-hidden="true" tabindex="-1" data-no-popover="true" href="#hatena-diary-2008-05-16" class="internal"><svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg></a></h2>
<p>This page is auto-translated from <a href="https://scrapbox.io/nishio/Hatena2008-05-16" class="external">/nishio/Hatena2008-05-16<svg aria-hidden="true" class="external-icon" style="max-width:0.8em;max-height:0.8em;" viewBox="0 0 512 512"><path d="M320 0H288V64h32 82.7L201.4 265.4 178.7 288 224 333.3l22.6-22.6L448 109.3V192v32h64V192 32 0H480 320zM32 32H0V64 480v32H32 456h32V480 352 320H424v32 96H64V96h96 32V32H160 32z"></path></svg></a> using DeepL. If you looks something interesting but the auto-translated English is not good enough to understand it, feel free to let me know at <a href="https://twitter.com/nishio_en" class="external">@nishio_en<svg aria-hidden="true" class="external-icon" style="max-width:0.8em;max-height:0.8em;" viewBox="0 0 512 512"><path d="M320 0H288V64h32 82.7L201.4 265.4 178.7 288 224 333.3l22.6-22.6L448 109.3V192v32h64V192 32 0H480 320zM32 32H0V64 480v32H32 456h32V480 352 320H424v32 96H64V96h96 32V32H160 32z"></path></svg></a>. I‚Äôm very happy to spread my thought to non-Japanese readers.</p></article><hr/><div class="page-footer"></div></div><div class="right sidebar"><div class="graph"><h3>Graph View</h3><div class="graph-outer"><div id="graph-container" data-cfg="{&quot;drag&quot;:true,&quot;zoom&quot;:true,&quot;depth&quot;:1,&quot;scale&quot;:1.1,&quot;repelForce&quot;:0.5,&quot;centerForce&quot;:0.3,&quot;linkDistance&quot;:30,&quot;fontSize&quot;:0.6,&quot;opacityScale&quot;:1,&quot;showTags&quot;:true,&quot;removeTags&quot;:[],&quot;focusOnHover&quot;:false}"></div><button id="global-graph-icon" aria-label="Global Graph"><svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 55 55" fill="currentColor" xml:space="preserve"><path d="M49,0c-3.309,0-6,2.691-6,6c0,1.035,0.263,2.009,0.726,2.86l-9.829,9.829C32.542,17.634,30.846,17,29,17
                s-3.542,0.634-4.898,1.688l-7.669-7.669C16.785,10.424,17,9.74,17,9c0-2.206-1.794-4-4-4S9,6.794,9,9s1.794,4,4,4
                c0.74,0,1.424-0.215,2.019-0.567l7.669,7.669C21.634,21.458,21,23.154,21,25s0.634,3.542,1.688,4.897L10.024,42.562
                C8.958,41.595,7.549,41,6,41c-3.309,0-6,2.691-6,6s2.691,6,6,6s6-2.691,6-6c0-1.035-0.263-2.009-0.726-2.86l12.829-12.829
                c1.106,0.86,2.44,1.436,3.898,1.619v10.16c-2.833,0.478-5,2.942-5,5.91c0,3.309,2.691,6,6,6s6-2.691,6-6c0-2.967-2.167-5.431-5-5.91
                v-10.16c1.458-0.183,2.792-0.759,3.898-1.619l7.669,7.669C41.215,39.576,41,40.26,41,41c0,2.206,1.794,4,4,4s4-1.794,4-4
                s-1.794-4-4-4c-0.74,0-1.424,0.215-2.019,0.567l-7.669-7.669C36.366,28.542,37,26.846,37,25s-0.634-3.542-1.688-4.897l9.665-9.665
                C46.042,11.405,47.451,12,49,12c3.309,0,6-2.691,6-6S52.309,0,49,0z M11,9c0-1.103,0.897-2,2-2s2,0.897,2,2s-0.897,2-2,2
                S11,10.103,11,9z M6,51c-2.206,0-4-1.794-4-4s1.794-4,4-4s4,1.794,4,4S8.206,51,6,51z M33,49c0,2.206-1.794,4-4,4s-4-1.794-4-4
                s1.794-4,4-4S33,46.794,33,49z M29,31c-3.309,0-6-2.691-6-6s2.691-6,6-6s6,2.691,6,6S32.309,31,29,31z M47,41c0,1.103-0.897,2-2,2
                s-2-0.897-2-2s0.897-2,2-2S47,39.897,47,41z M49,10c-2.206,0-4-1.794-4-4s1.794-4,4-4s4,1.794,4,4S51.206,10,49,10z"></path></svg></button></div><div id="global-graph-outer"><div id="global-graph-container" data-cfg="{&quot;drag&quot;:true,&quot;zoom&quot;:true,&quot;depth&quot;:-1,&quot;scale&quot;:0.9,&quot;repelForce&quot;:0.5,&quot;centerForce&quot;:0.3,&quot;linkDistance&quot;:30,&quot;fontSize&quot;:0.6,&quot;opacityScale&quot;:1,&quot;showTags&quot;:true,&quot;removeTags&quot;:[],&quot;focusOnHover&quot;:true}"></div></div></div><div class="backlinks"><h3>Backlinks</h3><ul class="overflow"><li>No backlinks found</li></ul></div></div><footer class><p>Created with <a href="https://quartz.jzhao.xyz/">Quartz v4.4.0</a> ¬© 2024</p><ul><li><a href="https://github.com/jackyzha0/quartz">GitHub</a></li><li><a href="https://discord.gg/cRFFHYye7t">Discord Community</a></li></ul></footer></div></div></body><script type="application/javascript">function c(){let t=this.parentElement;t.classList.toggle("is-collapsed");let l=t.classList.contains("is-collapsed")?this.scrollHeight:t.scrollHeight;t.style.maxHeight=l+"px";let o=t,e=t.parentElement;for(;e;){if(!e.classList.contains("callout"))return;let n=e.classList.contains("is-collapsed")?e.scrollHeight:e.scrollHeight+o.scrollHeight;e.style.maxHeight=n+"px",o=e,e=e.parentElement}}function i(){let t=document.getElementsByClassName("callout is-collapsible");for(let s of t){let l=s.firstElementChild;if(l){l.addEventListener("click",c),window.addCleanup(()=>l.removeEventListener("click",c));let e=s.classList.contains("is-collapsed")?l.scrollHeight:s.scrollHeight;s.style.maxHeight=e+"px"}}}document.addEventListener("nav",i);window.addEventListener("resize",i);
</script><script src="https://cdn.jsdelivr.net/npm/katex@0.16.11/dist/contrib/copy-tex.min.js" type="application/javascript"></script><script src="./postscript.js" type="module"></script></html>