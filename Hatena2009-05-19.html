<!DOCTYPE html>
<html lang="en"><head><title>Hatena2009-05-19</title><meta charset="utf-8"/><link rel="preconnect" href="https://fonts.googleapis.com"/><link rel="preconnect" href="https://fonts.gstatic.com"/><link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=IBM Plex Mono&amp;family=Schibsted Grotesk:wght@400;700&amp;family=Source Sans Pro:ital,wght@0,400;0,600;1,400;1,600&amp;display=swap"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><meta name="og:site_name" content="🪴 Quartz 4.0"/><meta property="og:title" content="Hatena2009-05-19"/><meta property="og:type" content="website"/><meta name="twitter:card" content="summary_large_image"/><meta name="twitter:title" content="Hatena2009-05-19"/><meta name="twitter:description" content="hatena &lt;body> *1242704467*Context Free Art Read previous article here: &lt;a href='d.hatena.ne.jp/nishiohirokazu/20090403/1238707279'>Context ..."/><meta property="og:description" content="hatena &lt;body> *1242704467*Context Free Art Read previous article here: &lt;a href='d.hatena.ne.jp/nishiohirokazu/20090403/1238707279'>Context ..."/><meta property="og:image:type" content="image/webp"/><meta property="og:image:alt" content="hatena &lt;body> *1242704467*Context Free Art Read previous article here: &lt;a href='d.hatena.ne.jp/nishiohirokazu/20090403/1238707279'>Context ..."/><meta property="og:image:width" content="1200"/><meta property="og:image:height" content="630"/><meta property="og:width" content="1200"/><meta property="og:height" content="630"/><meta property="og:image:url" content="https://quartz.jzhao.xyz/static/og-image.png"/><meta name="twitter:image" content="https://quartz.jzhao.xyz/static/og-image.png"/><meta property="og:image" content="https://quartz.jzhao.xyz/static/og-image.png"/><meta property="twitter:domain" content="quartz.jzhao.xyz"/><meta property="og:url" content="https:/quartz.jzhao.xyz/Hatena2009-05-19"/><meta property="twitter:url" content="https:/quartz.jzhao.xyz/Hatena2009-05-19"/><link rel="icon" href="./static/icon.png"/><meta name="description" content="hatena &lt;body> *1242704467*Context Free Art Read previous article here: &lt;a href='d.hatena.ne.jp/nishiohirokazu/20090403/1238707279'>Context ..."/><meta name="generator" content="Quartz"/><link href="./index.css" rel="stylesheet" type="text/css" spa-preserve/><link href="https://cdn.jsdelivr.net/npm/katex@0.16.11/dist/katex.min.css" rel="stylesheet" type="text/css" spa-preserve/><script src="./prescript.js" type="application/javascript" spa-preserve></script><script type="application/javascript" spa-preserve>const fetchData = fetch("./static/contentIndex.json").then(data => data.json())</script></head><body data-slug="Hatena2009-05-19"><div id="quartz-root" class="page"><div id="quartz-body"><div class="left sidebar"><h2 class="page-title"><a href=".">🪴 Quartz 4.0</a></h2><div class="spacer mobile-only"></div><div class="search"><button class="search-button" id="search-button"><p>Search</p><svg role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 19.9 19.7"><title>Search</title><g class="search-path" fill="none"><path stroke-linecap="square" d="M18.5 18.3l-5.4-5.4"></path><circle cx="8" cy="8" r="7"></circle></g></svg></button><div id="search-container"><div id="search-space"><input autocomplete="off" id="search-bar" name="search" type="text" aria-label="Search for something" placeholder="Search for something"/><div id="search-layout" data-preview="true"></div></div></div></div><button class="darkmode" id="darkmode"><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" id="dayIcon" x="0px" y="0px" viewBox="0 0 35 35" style="enable-background:new 0 0 35 35" xml:space="preserve" aria-label="Dark mode"><title>Dark mode</title><path d="M6,17.5C6,16.672,5.328,16,4.5,16h-3C0.672,16,0,16.672,0,17.5    S0.672,19,1.5,19h3C5.328,19,6,18.328,6,17.5z M7.5,26c-0.414,0-0.789,0.168-1.061,0.439l-2,2C4.168,28.711,4,29.086,4,29.5    C4,30.328,4.671,31,5.5,31c0.414,0,0.789-0.168,1.06-0.44l2-2C8.832,28.289,9,27.914,9,27.5C9,26.672,8.329,26,7.5,26z M17.5,6    C18.329,6,19,5.328,19,4.5v-3C19,0.672,18.329,0,17.5,0S16,0.672,16,1.5v3C16,5.328,16.671,6,17.5,6z M27.5,9    c0.414,0,0.789-0.168,1.06-0.439l2-2C30.832,6.289,31,5.914,31,5.5C31,4.672,30.329,4,29.5,4c-0.414,0-0.789,0.168-1.061,0.44    l-2,2C26.168,6.711,26,7.086,26,7.5C26,8.328,26.671,9,27.5,9z M6.439,8.561C6.711,8.832,7.086,9,7.5,9C8.328,9,9,8.328,9,7.5    c0-0.414-0.168-0.789-0.439-1.061l-2-2C6.289,4.168,5.914,4,5.5,4C4.672,4,4,4.672,4,5.5c0,0.414,0.168,0.789,0.439,1.06    L6.439,8.561z M33.5,16h-3c-0.828,0-1.5,0.672-1.5,1.5s0.672,1.5,1.5,1.5h3c0.828,0,1.5-0.672,1.5-1.5S34.328,16,33.5,16z     M28.561,26.439C28.289,26.168,27.914,26,27.5,26c-0.828,0-1.5,0.672-1.5,1.5c0,0.414,0.168,0.789,0.439,1.06l2,2    C28.711,30.832,29.086,31,29.5,31c0.828,0,1.5-0.672,1.5-1.5c0-0.414-0.168-0.789-0.439-1.061L28.561,26.439z M17.5,29    c-0.829,0-1.5,0.672-1.5,1.5v3c0,0.828,0.671,1.5,1.5,1.5s1.5-0.672,1.5-1.5v-3C19,29.672,18.329,29,17.5,29z M17.5,7    C11.71,7,7,11.71,7,17.5S11.71,28,17.5,28S28,23.29,28,17.5S23.29,7,17.5,7z M17.5,25c-4.136,0-7.5-3.364-7.5-7.5    c0-4.136,3.364-7.5,7.5-7.5c4.136,0,7.5,3.364,7.5,7.5C25,21.636,21.636,25,17.5,25z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" id="nightIcon" x="0px" y="0px" viewBox="0 0 100 100" style="enable-background:new 0 0 100 100" xml:space="preserve" aria-label="Light mode"><title>Light mode</title><path d="M96.76,66.458c-0.853-0.852-2.15-1.064-3.23-0.534c-6.063,2.991-12.858,4.571-19.655,4.571  C62.022,70.495,50.88,65.88,42.5,57.5C29.043,44.043,25.658,23.536,34.076,6.47c0.532-1.08,0.318-2.379-0.534-3.23  c-0.851-0.852-2.15-1.064-3.23-0.534c-4.918,2.427-9.375,5.619-13.246,9.491c-9.447,9.447-14.65,22.008-14.65,35.369  c0,13.36,5.203,25.921,14.65,35.368s22.008,14.65,35.368,14.65c13.361,0,25.921-5.203,35.369-14.65  c3.872-3.871,7.064-8.328,9.491-13.246C97.826,68.608,97.611,67.309,96.76,66.458z"></path></svg></button></div><div class="center"><div class="page-header"><div class="popover-hint"><nav class="breadcrumb-container" aria-label="breadcrumbs"><div class="breadcrumb-element"><a href="./">Home</a><p> ❯ </p></div><div class="breadcrumb-element"><a href>Hatena2009-05-19</a></div></nav><h1 class="article-title">Hatena2009-05-19</h1><p show-comma="true" class="content-meta"><span>May 19, 2009</span><span>5 min read</span></p></div></div><article class="popover-hint"><p>hatena</p>
<pre><code>&lt;body>
*1242704467*Context Free Art
Read previous article here: &lt;a href='http://d.hatena.ne.jp/nishiohirokazu/20090403/1238707279'>Context Free Art - NISHIO Hirokazu's Hatena Diary&lt;/a>

Something fishy was created.
&lt;img src=&quot;http://gyazo.com/9c0ccdccd46a51863adfc1c590372a43.png&quot;>


The little guy.
&lt;img src=&quot;http://gyazo.com/afc4d624ab020765e231f3019d811f17.png&quot;>


spoiler image
&lt;img src=&quot;http://gyazo.com/814ab3ffac2cd9ed033034143278db9f.png&quot;>


Images born from mistakes
&lt;img src=&quot;http://gyazo.com/c0a76ca7405f51621c4f0661187c05a5.png&quot;>


I tried to make a manuscript for printing and pasted it into InkScape and it hung.


Writing Python scripts to output Context Free Art code, etc.
>|python|
code = &quot;&quot;&quot;
rule LEVEL_%d {
  END {}
  5 * {r 72} LEVEL_%s {x 1.618 s 0.618}
}
&quot;&quot;&quot;

N = 5
for i in range(N):
    print code % (i, i + 1)
||&lt;

Let's output in SVG and see what's inside.

>|xml|
  &lt;circle r=&quot;0.5&quot;
          stroke=&quot;none&quot; fill=&quot;#000000&quot; fill-rule=&quot;nonzero&quot;
          transform=&quot;matrix( 103.45669          0          0 -103.45669  290.95685        338)&quot;/>
  &lt;circle r=&quot;0.5&quot;
          stroke=&quot;none&quot; fill=&quot;#ffffff&quot; fill-rule=&quot;nonzero&quot;
          transform=&quot;matrix( 63.936234          0          0 -63.936234  290.95685        338)&quot;/>
||&lt;
Hmmm... I thought it was hierarchical, but it spits out a matrix with only 6 matrix elements, but it seems that the bottom 0, 0, 1 were removed. &lt;a href='http://www.w3.org/TR/SVG11/coords.html'>Coordinate Systems, Transformations and Units - SVG 1.1 - 20030114&lt;/a>

I mean, if I had knowledge of chiral matrices and could use print statements, I could write my own program and output this level of data. I guess Context Free Art is for drafts where you can just look at it and tweak it as you see fit.


I thought there must be some overlapping circles, so I multiplied the matrix part by uniq, but the number did not change. So, if the overlapping circles are not circles, then the rotation angles are different. I need to take out only the translation and scaling information from the matrix and uniq it. How do I do that? Well, we know that there is no skew in this case, so if we put in (0, 0), we should get a translation, and if we put in (1, 0) and look at the difference, we should get a scaling. Coordinates are multiplied from the right, so transforming (0, 0) yields (c, f). Transforming (1, 0) gives (a + c, d + f). So the translation is (c, f) and the scale is sqrt(a^2 + d^2).

*1242719787*Context Free Art
&lt;img src=&quot;http://gyazo.com/167f4fc837c1fe4ebb401c575673781c.png&quot;>
Hmmm, I guess if I want to print this, I have to specify a color profile or something. I am not sure.


Oh, that was a mistake earlier. This one is right:.
&lt;img src=&quot;http://gyazo.com/934b7a5aaa80f8f840f9e7d5946fbaec.png&quot;>


Recurrence on a closed ring
&lt;img src=&quot;http://gyazo.com/ba66c26994ee3cece418fe8d2090f34d.png&quot;>


Hmmm. I'll adjust the slight misalignment later. It's a draft. I think the maximum number of recursive calls that a human being can understand in real life is five.
&lt;img src=&quot;http://gyazo.com/541a384c5f08dee6f0f8d9cc56819241.png
&quot;>

This is what happens when you make more recurrences. Personally, I don't mind this at all, but if you go this far, it becomes difficult for people to notice the &quot;repetitive structure&quot;. In other words, it's like composing a canon and then being told, &quot;That's a nice chord,&quot; and I don't like that.
&lt;img src=&quot;http://gyazo.com/7bc41b4a9007b9c652ef00a644a21a7f.png&quot;>


Oh, now all I might have to do is add a border of the same thickness.
&lt;img src=&quot;http://gyazo.com/4a1cc2aa3a5efaeade0490629d396d93.png&quot;>

*1242734908*What I think of Context Free Art
Recurrence calls can create a tremendous amount of objects in a matter of seconds if not used carefully. So, even though we want to limit the number of recurrences or prune branches under certain conditions, such things are not supported. I've tried to use a Python script to generate the recursive rules, and then use | pbcopy to output them to the clipboard and Command + A, C, R to render them, but that doesn't solve the &quot;too many objects&quot; problem. I had a hard time editing it in Inkscape.

With a picture like this one, it would have been better to output the SVG directly.

*1242735201*Eye strain
Ah.

My eyes are getting tired from all the black-and-white, high-contrast images I have to deal with. It's time to start thinking of a fluffy picture.

*1242736634* The intense contrast makes my eyes tired.
&lt;img src=&quot;http://gyazo.com/24d80f06d23c8d9d1392fef64ae8a1c5.png&quot;>

No, not much has changed.



HONWA. s 0.5 at 60 deg.
&lt;img src=&quot;http://gyazo.com/a4f971b04e1b98c5956ff114fa915d43.png&quot;>


s0.5 at 72 degrees
&lt;img src=&quot;http://gyazo.com/eb04a79f0b9fa90ef228adb78ccf440f.png&quot;>
>||

startshape RULE0

rule END {
  CIRCLE {alpha -0.8}
}


rule RULE0 {
  END {}
  5 * {r 72} RULE0 {r 36 x 1 s 0.5}
}
||&lt;

&lt;img src=&quot;http://gyazo.com/7a604b23ff4a7c8c2134455611028b05.png&quot;>

This is interesting, but it would be a lot of work to output in SVG since there are hundreds of thousands of objects... I wonder if I could render it in Cairo or something and make a raster image of the appropriate size.

Yeah, Context Free Art itself has an option to specify the size of the image.

*1242759626*Cases where the sum of prime numbers is a square number
>||
23 100 10
22073 25633969 5063
67187 212372329 14573
79427 292341604 17098
||&lt;

The first one is surprisingly soon, but the next one is a long way off.

&lt;img src=&quot;http://gyazo.com/54e5744648a84a08adeb0b9a77e8a78e.png&quot;>
&lt;/body>
</code></pre>
<h2 id="hatena-diary-2009-05-19"><a href="https://nishiohirokazu.hatenadiary.org/archive/2009/05/19" class="external">Hatena Diary 2009-05-19<svg aria-hidden="true" class="external-icon" style="max-width:0.8em;max-height:0.8em;" viewBox="0 0 512 512"><path d="M320 0H288V64h32 82.7L201.4 265.4 178.7 288 224 333.3l22.6-22.6L448 109.3V192v32h64V192 32 0H480 320zM32 32H0V64 480v32H32 456h32V480 352 320H424v32 96H64V96h96 32V32H160 32z"></path></svg></a><a role="anchor" aria-hidden="true" tabindex="-1" data-no-popover="true" href="#hatena-diary-2009-05-19" class="internal"><svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg></a></h2>
<p>This page is auto-translated from <a href="https://scrapbox.io/nishio/Hatena2009-05-19" class="external">/nishio/Hatena2009-05-19<svg aria-hidden="true" class="external-icon" style="max-width:0.8em;max-height:0.8em;" viewBox="0 0 512 512"><path d="M320 0H288V64h32 82.7L201.4 265.4 178.7 288 224 333.3l22.6-22.6L448 109.3V192v32h64V192 32 0H480 320zM32 32H0V64 480v32H32 456h32V480 352 320H424v32 96H64V96h96 32V32H160 32z"></path></svg></a> using DeepL. If you looks something interesting but the auto-translated English is not good enough to understand it, feel free to let me know at <a href="https://twitter.com/nishio_en" class="external">@nishio_en<svg aria-hidden="true" class="external-icon" style="max-width:0.8em;max-height:0.8em;" viewBox="0 0 512 512"><path d="M320 0H288V64h32 82.7L201.4 265.4 178.7 288 224 333.3l22.6-22.6L448 109.3V192v32h64V192 32 0H480 320zM32 32H0V64 480v32H32 456h32V480 352 320H424v32 96H64V96h96 32V32H160 32z"></path></svg></a>. I’m very happy to spread my thought to non-Japanese readers.</p></article><hr/><div class="page-footer"></div></div><div class="right sidebar"><div class="graph"><h3>Graph View</h3><div class="graph-outer"><div id="graph-container" data-cfg="{&quot;drag&quot;:true,&quot;zoom&quot;:true,&quot;depth&quot;:1,&quot;scale&quot;:1.1,&quot;repelForce&quot;:0.5,&quot;centerForce&quot;:0.3,&quot;linkDistance&quot;:30,&quot;fontSize&quot;:0.6,&quot;opacityScale&quot;:1,&quot;showTags&quot;:true,&quot;removeTags&quot;:[],&quot;focusOnHover&quot;:false}"></div><button id="global-graph-icon" aria-label="Global Graph"><svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 55 55" fill="currentColor" xml:space="preserve"><path d="M49,0c-3.309,0-6,2.691-6,6c0,1.035,0.263,2.009,0.726,2.86l-9.829,9.829C32.542,17.634,30.846,17,29,17
                s-3.542,0.634-4.898,1.688l-7.669-7.669C16.785,10.424,17,9.74,17,9c0-2.206-1.794-4-4-4S9,6.794,9,9s1.794,4,4,4
                c0.74,0,1.424-0.215,2.019-0.567l7.669,7.669C21.634,21.458,21,23.154,21,25s0.634,3.542,1.688,4.897L10.024,42.562
                C8.958,41.595,7.549,41,6,41c-3.309,0-6,2.691-6,6s2.691,6,6,6s6-2.691,6-6c0-1.035-0.263-2.009-0.726-2.86l12.829-12.829
                c1.106,0.86,2.44,1.436,3.898,1.619v10.16c-2.833,0.478-5,2.942-5,5.91c0,3.309,2.691,6,6,6s6-2.691,6-6c0-2.967-2.167-5.431-5-5.91
                v-10.16c1.458-0.183,2.792-0.759,3.898-1.619l7.669,7.669C41.215,39.576,41,40.26,41,41c0,2.206,1.794,4,4,4s4-1.794,4-4
                s-1.794-4-4-4c-0.74,0-1.424,0.215-2.019,0.567l-7.669-7.669C36.366,28.542,37,26.846,37,25s-0.634-3.542-1.688-4.897l9.665-9.665
                C46.042,11.405,47.451,12,49,12c3.309,0,6-2.691,6-6S52.309,0,49,0z M11,9c0-1.103,0.897-2,2-2s2,0.897,2,2s-0.897,2-2,2
                S11,10.103,11,9z M6,51c-2.206,0-4-1.794-4-4s1.794-4,4-4s4,1.794,4,4S8.206,51,6,51z M33,49c0,2.206-1.794,4-4,4s-4-1.794-4-4
                s1.794-4,4-4S33,46.794,33,49z M29,31c-3.309,0-6-2.691-6-6s2.691-6,6-6s6,2.691,6,6S32.309,31,29,31z M47,41c0,1.103-0.897,2-2,2
                s-2-0.897-2-2s0.897-2,2-2S47,39.897,47,41z M49,10c-2.206,0-4-1.794-4-4s1.794-4,4-4s4,1.794,4,4S51.206,10,49,10z"></path></svg></button></div><div id="global-graph-outer"><div id="global-graph-container" data-cfg="{&quot;drag&quot;:true,&quot;zoom&quot;:true,&quot;depth&quot;:-1,&quot;scale&quot;:0.9,&quot;repelForce&quot;:0.5,&quot;centerForce&quot;:0.3,&quot;linkDistance&quot;:30,&quot;fontSize&quot;:0.6,&quot;opacityScale&quot;:1,&quot;showTags&quot;:true,&quot;removeTags&quot;:[],&quot;focusOnHover&quot;:true}"></div></div></div><div class="backlinks"><h3>Backlinks</h3><ul class="overflow"><li>No backlinks found</li></ul></div></div><footer class><p>Created with <a href="https://quartz.jzhao.xyz/">Quartz v4.4.0</a> © 2024</p><ul><li><a href="https://github.com/jackyzha0/quartz">GitHub</a></li><li><a href="https://discord.gg/cRFFHYye7t">Discord Community</a></li></ul></footer></div></div></body><script type="application/javascript">function c(){let t=this.parentElement;t.classList.toggle("is-collapsed");let l=t.classList.contains("is-collapsed")?this.scrollHeight:t.scrollHeight;t.style.maxHeight=l+"px";let o=t,e=t.parentElement;for(;e;){if(!e.classList.contains("callout"))return;let n=e.classList.contains("is-collapsed")?e.scrollHeight:e.scrollHeight+o.scrollHeight;e.style.maxHeight=n+"px",o=e,e=e.parentElement}}function i(){let t=document.getElementsByClassName("callout is-collapsible");for(let s of t){let l=s.firstElementChild;if(l){l.addEventListener("click",c),window.addCleanup(()=>l.removeEventListener("click",c));let e=s.classList.contains("is-collapsed")?l.scrollHeight:s.scrollHeight;s.style.maxHeight=e+"px"}}}document.addEventListener("nav",i);window.addEventListener("resize",i);
</script><script src="https://cdn.jsdelivr.net/npm/katex@0.16.11/dist/contrib/copy-tex.min.js" type="application/javascript"></script><script src="./postscript.js" type="module"></script></html>