<!DOCTYPE html>
<html lang="en"><head><title>Hatena2008-12-20</title><meta charset="utf-8"/><link rel="preconnect" href="https://fonts.googleapis.com"/><link rel="preconnect" href="https://fonts.gstatic.com"/><link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=IBM Plex Mono&amp;family=Schibsted Grotesk:wght@400;700&amp;family=Source Sans Pro:ital,wght@0,400;0,600;1,400;1,600&amp;display=swap"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><meta name="og:site_name" content="ğŸª´ Quartz 4.0"/><meta property="og:title" content="Hatena2008-12-20"/><meta property="og:type" content="website"/><meta name="twitter:card" content="summary_large_image"/><meta name="twitter:title" content="Hatena2008-12-20"/><meta name="twitter:description" content="hatena &lt;body> **1229718263*Attention poison contamination! It's unprotected. It looks like it could get bugs or something. f:id:nishiohirokazu:20081220052422j:image It's hard to understand, so I'll explain: the bread is normally exposed to the open air."/><meta property="og:description" content="hatena &lt;body> **1229718263*Attention poison contamination! It's unprotected. It looks like it could get bugs or something. f:id:nishiohirokazu:20081220052422j:image It's hard to understand, so I'll explain: the bread is normally exposed to the open air."/><meta property="og:image:type" content="image/webp"/><meta property="og:image:alt" content="hatena &lt;body> **1229718263*Attention poison contamination! It's unprotected. It looks like it could get bugs or something. f:id:nishiohirokazu:20081220052422j:image It's hard to understand, so I'll explain: the bread is normally exposed to the open air."/><meta property="og:image:width" content="1200"/><meta property="og:image:height" content="630"/><meta property="og:width" content="1200"/><meta property="og:height" content="630"/><meta property="og:image:url" content="https://quartz.jzhao.xyz/static/og-image.png"/><meta name="twitter:image" content="https://quartz.jzhao.xyz/static/og-image.png"/><meta property="og:image" content="https://quartz.jzhao.xyz/static/og-image.png"/><meta property="twitter:domain" content="quartz.jzhao.xyz"/><meta property="og:url" content="https:/quartz.jzhao.xyz/Hatena2008-12-20"/><meta property="twitter:url" content="https:/quartz.jzhao.xyz/Hatena2008-12-20"/><link rel="icon" href="./static/icon.png"/><meta name="description" content="hatena &lt;body> **1229718263*Attention poison contamination! It's unprotected. It looks like it could get bugs or something. f:id:nishiohirokazu:20081220052422j:image It's hard to understand, so I'll explain: the bread is normally exposed to the open air."/><meta name="generator" content="Quartz"/><link href="./index.css" rel="stylesheet" type="text/css" spa-preserve/><link href="https://cdn.jsdelivr.net/npm/katex@0.16.11/dist/katex.min.css" rel="stylesheet" type="text/css" spa-preserve/><script src="./prescript.js" type="application/javascript" spa-preserve></script><script type="application/javascript" spa-preserve>const fetchData = fetch("./static/contentIndex.json").then(data => data.json())</script></head><body data-slug="Hatena2008-12-20"><div id="quartz-root" class="page"><div id="quartz-body"><div class="left sidebar"><h2 class="page-title"><a href=".">ğŸª´ Quartz 4.0</a></h2><div class="spacer mobile-only"></div><div class="search"><button class="search-button" id="search-button"><p>Search</p><svg role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 19.9 19.7"><title>Search</title><g class="search-path" fill="none"><path stroke-linecap="square" d="M18.5 18.3l-5.4-5.4"></path><circle cx="8" cy="8" r="7"></circle></g></svg></button><div id="search-container"><div id="search-space"><input autocomplete="off" id="search-bar" name="search" type="text" aria-label="Search for something" placeholder="Search for something"/><div id="search-layout" data-preview="true"></div></div></div></div><button class="darkmode" id="darkmode"><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" id="dayIcon" x="0px" y="0px" viewBox="0 0 35 35" style="enable-background:new 0 0 35 35" xml:space="preserve" aria-label="Dark mode"><title>Dark mode</title><path d="M6,17.5C6,16.672,5.328,16,4.5,16h-3C0.672,16,0,16.672,0,17.5    S0.672,19,1.5,19h3C5.328,19,6,18.328,6,17.5z M7.5,26c-0.414,0-0.789,0.168-1.061,0.439l-2,2C4.168,28.711,4,29.086,4,29.5    C4,30.328,4.671,31,5.5,31c0.414,0,0.789-0.168,1.06-0.44l2-2C8.832,28.289,9,27.914,9,27.5C9,26.672,8.329,26,7.5,26z M17.5,6    C18.329,6,19,5.328,19,4.5v-3C19,0.672,18.329,0,17.5,0S16,0.672,16,1.5v3C16,5.328,16.671,6,17.5,6z M27.5,9    c0.414,0,0.789-0.168,1.06-0.439l2-2C30.832,6.289,31,5.914,31,5.5C31,4.672,30.329,4,29.5,4c-0.414,0-0.789,0.168-1.061,0.44    l-2,2C26.168,6.711,26,7.086,26,7.5C26,8.328,26.671,9,27.5,9z M6.439,8.561C6.711,8.832,7.086,9,7.5,9C8.328,9,9,8.328,9,7.5    c0-0.414-0.168-0.789-0.439-1.061l-2-2C6.289,4.168,5.914,4,5.5,4C4.672,4,4,4.672,4,5.5c0,0.414,0.168,0.789,0.439,1.06    L6.439,8.561z M33.5,16h-3c-0.828,0-1.5,0.672-1.5,1.5s0.672,1.5,1.5,1.5h3c0.828,0,1.5-0.672,1.5-1.5S34.328,16,33.5,16z     M28.561,26.439C28.289,26.168,27.914,26,27.5,26c-0.828,0-1.5,0.672-1.5,1.5c0,0.414,0.168,0.789,0.439,1.06l2,2    C28.711,30.832,29.086,31,29.5,31c0.828,0,1.5-0.672,1.5-1.5c0-0.414-0.168-0.789-0.439-1.061L28.561,26.439z M17.5,29    c-0.829,0-1.5,0.672-1.5,1.5v3c0,0.828,0.671,1.5,1.5,1.5s1.5-0.672,1.5-1.5v-3C19,29.672,18.329,29,17.5,29z M17.5,7    C11.71,7,7,11.71,7,17.5S11.71,28,17.5,28S28,23.29,28,17.5S23.29,7,17.5,7z M17.5,25c-4.136,0-7.5-3.364-7.5-7.5    c0-4.136,3.364-7.5,7.5-7.5c4.136,0,7.5,3.364,7.5,7.5C25,21.636,21.636,25,17.5,25z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" id="nightIcon" x="0px" y="0px" viewBox="0 0 100 100" style="enable-background:new 0 0 100 100" xml:space="preserve" aria-label="Light mode"><title>Light mode</title><path d="M96.76,66.458c-0.853-0.852-2.15-1.064-3.23-0.534c-6.063,2.991-12.858,4.571-19.655,4.571  C62.022,70.495,50.88,65.88,42.5,57.5C29.043,44.043,25.658,23.536,34.076,6.47c0.532-1.08,0.318-2.379-0.534-3.23  c-0.851-0.852-2.15-1.064-3.23-0.534c-4.918,2.427-9.375,5.619-13.246,9.491c-9.447,9.447-14.65,22.008-14.65,35.369  c0,13.36,5.203,25.921,14.65,35.368s22.008,14.65,35.368,14.65c13.361,0,25.921-5.203,35.369-14.65  c3.872-3.871,7.064-8.328,9.491-13.246C97.826,68.608,97.611,67.309,96.76,66.458z"></path></svg></button></div><div class="center"><div class="page-header"><div class="popover-hint"><nav class="breadcrumb-container" aria-label="breadcrumbs"><div class="breadcrumb-element"><a href="./">Home</a><p> â¯ </p></div><div class="breadcrumb-element"><a href>Hatena2008-12-20</a></div></nav><h1 class="article-title">Hatena2008-12-20</h1><p show-comma="true" class="content-meta"><span>Dec 20, 2008</span><span>8 min read</span></p></div></div><article class="popover-hint"><p>hatena</p>
<pre><code>&lt;body>
**1229718263*Attention poison contamination!
It's unprotected. It looks like it could get bugs or something.
f:id:nishiohirokazu:20081220052422j:image

It's hard to understand, so I'll explain: the bread is normally exposed to the open air.

*1229725752* Rush of year-end parties
It was a year-end party on Saturday, Sunday, Wednesday, Thursday, and Friday. I die.

My digestive system is in very bad shape, so I took a lot of vegetables and tea with less alcohol at the 81st year-end party yesterday. It was a one-pot dish, so it was just right for my tired tummy.

Physically I'm pretty tired, but mentally I feel pretty energized. I had a hackathon for the first time in a while. Also, id:akio0911 made his CUDA debut first, which is frustrating: http://twitter.com/akio0911/status/1067917816

I'll do CUDA when I go to bed and wake up, I've even got CUDA for KNOPPIX up and running.

*1229766889* My first CUDA
Here's the synopsis so far: I ran KNOPPIX for CUDA on a machine with a 9800GT. &lt;a href='http://d.hatena.ne.jp/nishiohirokazu/20081216/1229425310'>Problem that KNOPPIX for CUDA cannot be started with &quot;Can't find KNOPPIX filesystem&quot; (solved)&lt;/a>.

I thought it might not be able to write to a file since it boots from CD, so I created a file in home, and it writes to the file. I tried to put a USB flash drive in it and it was recognized, so I can put anything that I don't want to be lost in here.

There are many things in /usr/local/cuda. Let's copy some rudimentary samples from /usr/local/cuda/NVIDIA_CUDA_SDK/projects to the home directory. I chose &quot;clock&quot;, and when I tried to compile clock.cu in cuda/bin/nvcc, I was told that cutil.h was missing. I mean, there's a Makefile, let's read it.

In the Makefile, &quot;include ... /... /common/common.mk&quot; or something like that, so rewrite it to an absolute path for now. (Note: This was not necessary in the end.)
It doesn't have emacs. There is something called kwrite in there, so I used that for now. Oh, vim 7.0 is included. I can use this.

I tried to make. &quot;... /... /I guess copying the entire CUDA_SDK directory to a writable location is the quickest way to do that. I'll do that, and pass the path to nvcc as well.

nvcc -I after make ... /... /common/inc clock.cu gives me the error below.
>||
&quot;/usr/include/c++/4.2.1/i586-suse-linux/bits/c++config.h&quot;, line 149: error:
         expected a &quot;{&quot;
 namespace std __attribute__ ((__visibility__ (&quot;default&quot;))) {
||&lt;
According to &lt;a href='http://forums.nvidia.com/lofiversion/index.php?t45966.html'>NVIDIA Forums > nvcc problem with __attribute__&lt;/a> this is a change in gcc4.2 and that we can use gcc4.1. Fortunately, KNOPPIX for CUDA includes gcc4.1. I made a symbolic link to the appropriate location as written in the forum and added --compilar-bindir to nvcc at &quot;# Compilers&quot; in common/common.mk. I also changed gcc and g++ to gcc-4.1 and g++-4.1. I thought it was probably necessary.

Make now succeeds, and an executable binary is created in CUDA_SDK/bin/linux/release.

-----
I thought I simply ran the 9 * 9 multiplication table in parallel, and IS2D was faster. It's obvious. The kernel name &quot;timedReduction&quot; is the same as the original sample. By the way, I really wanted to try to switch the behavior with -DIS2D or something, but it didn't work because I compiled it via make. I wonder how others do it.

>|c|
// calc multiplication table
// derived from CUDA_SDK/project/clock

#include &lt;stdio.h>
#include &lt;stdlib.h>

#include &lt;cutil.h>
#define N 9
#define NUM_BLOCKS 1
#define IS2D

__global__ static void timedReduction(const int* input, int* output, clock_t * timer) {
#ifdef IS2D
    const int x = threadIdx.x, y = threadIdx.y, tid = x * y;
#else
    const int tid = threadIdx.x, x = tid % N, y = tid / N;
#endif

    const int bid = blockIdx.x;
    if (tid == 0) timer[bid] = clock();
    output[tid] = input[x] * input[y];
    __syncthreads();
    if (tid == 0) timer[bid+gridDim.x] = clock();
}

int main(int argc, char** argv)
{
    CUT_DEVICE_INIT();

#ifdef IS2D
    dim3 threads(N, N);
#else
    dim3 threads(N * N);
#endif

    int* dinput = NULL;
    int* doutput = NULL;
    clock_t * dtimer = NULL;

    clock_t timer[NUM_BLOCKS * 2];
    int input[N];
    int output[N * N];

    for (int i = 0; i &lt; N; i++)
    {
        input[i] = i + 1;
    }

    CUDA_SAFE_CALL(cudaMalloc((void**)&amp;dinput, sizeof(int) * N));
    CUDA_SAFE_CALL(cudaMalloc((void**)&amp;doutput, sizeof(int) * N * N));
    CUDA_SAFE_CALL(cudaMalloc((void**)&amp;dtimer, sizeof(clock_t) * NUM_BLOCKS * 2));

    CUDA_SAFE_CALL(cudaMemcpy(dinput, input, sizeof(int) * N, cudaMemcpyHostToDevice));

    timedReduction&lt;&lt;&lt;NUM_BLOCKS, threads>>>(dinput, doutput, dtimer);

    CUDA_SAFE_CALL(cudaMemcpy(output, doutput, sizeof(int) * N * N, cudaMemcpyDeviceToHost));
    CUDA_SAFE_CALL(cudaMemcpy(timer, dtimer, sizeof(clock_t) * NUM_BLOCKS * 2, cudaMemcpyDeviceToHost));

    CUDA_SAFE_CALL(cudaFree(dinput));
    CUDA_SAFE_CALL(cudaFree(doutput));
    CUDA_SAFE_CALL(cudaFree(dtimer));

    // Compute the difference between the last block end and the first block start.
    clock_t minStart = timer[0];
    clock_t maxEnd = timer[NUM_BLOCKS];

    for (int i = 1; i &lt; NUM_BLOCKS; i++)
    {
        minStart = timer[i] &lt; minStart ? timer[i] : minStart;
        maxEnd = timer[NUM_BLOCKS+i] > maxEnd ? timer[NUM_BLOCKS+i] : maxEnd;
    }

    // print result
    for(int i=0; i &lt; N; i++){
    	for(int j=0; j &lt; N; j++){
	    printf(&quot;%3d, &quot;, output[i + j * N]);
	}
	printf(&quot;\n&quot;);
    }
    printf(&quot;time = %d\n&quot;, maxEnd - minStart);

    CUT_EXIT(argc, argv);
}
||&lt;

*1229787138*I'm in good shape.
Today is TopCoder at 26:00, I slept until 2:00pm and then slept for 3 hours from 9:00pm, let's try a little more.

*1229789327*premature optimization is the root of all evil
Writing code in a low-level language like this, you are likely to fall to the dark side: instead of writing an 11 * 11 for statement where i and j are both in the range 0-10 and i == j, and if(i == j) continue, it would be faster to write an 11 * 10 loop where _j = j + (i &lt;= j) would be faster than writing a 11 * 11 for statement and doing something like &quot;if(i == j) continue&quot; or something like that.

We need to keep chanting the mantra to keep from falling to the dark side. Premature optimization is the root of all evil.

But well, my GeForce9800GT has 112 stream processors, so 11 * 11 is slightly overflowing and 11 * 10 is not, so I will have to try it later.

I was going to write a continuation of CUDA, but I'm already sleepy, so I lost the title &quot;CUDA Diary&quot;. I woke up in the afternoon and slept from 21 to 24, but my activity time is so short.

-----

It seems to be 3% ~ 5% faster. Not very important.

*1229797290*Diary
TopCoder, I still have about 5 minutes left in the coding phase, but I'm sleepy so I'm going to bed. But it's too noisy and wasteful of electricity to keep it on while I'm sleeping. I've copied the code I wrote and I've written how to set up the machine in my diary, so it's okay to turn off the power.

I'll try to automate the process tomorrow with a shell script or something to put up symbolic links or something.

*1229801566*[TopCoder] Single Round Match 430 (Div1/250point)
Given a positive integer x and k, the question is to answer the kth one of y such that x + y = x | y from the smallest. (This is an easy problem to explain!)

If x | y becomes x + y, it means that x &amp; y == 0. Therefore, we can express both x and k in binary and make k with 0 inserted where x is 1. In the figure below, x=5, k=3
>||
k =     1 1
x = 0 1 0 1
y = 1   1
||&lt;

So the code looked like this. I copied the function to_bin, which converts an integer to a binary vector, from my own library.

>|cpp|
vector&lt;int> to_bin(int N){
  vector&lt;int> buf;
  while(N){
    buf.push_back(N % 2);
    N /= 2;
  }
  return buf;
}

class BitwiseEquations {
public:
  long long kthPlusOrSolution(int x, int k) {
    vector&lt;int> kbin = to_bin(k);
    vector&lt;int> xbin = to_bin(x);
    size_t i=0, j=0, p=1;
    LL result=0;
    while(i &lt; xbin.size()){
      if(xbin[i] == 1){
	i++;
	p *= 2;
      }else{
	i++;
	if(j == kbin.size()) break;
	result += p * kbin[j];
	j++;
	p *= 2;
      }
    }
    while(j &lt; kbin.size()){
      result += p * kbin[j];
      j++;
      p *= 2;
    }
    DP(p);
    return result;
  }
}
||&lt;

Dropped in challenge. result is long long, but p is int, so if there are too many digits, it will overflow and go to 0.
>|cpp|
	result += p * kbin[j];
	j++;
	p *= 2;
||&lt;
When dealing with long long values, we need to consider whether there are other values that can be larger.
&lt;/body>
</code></pre>
<h2 id="hatena-diary-2008-12-20"><a href="https://nishiohirokazu.hatenadiary.org/archive/2008/12/20" class="external">Hatena Diary 2008-12-20<svg aria-hidden="true" class="external-icon" style="max-width:0.8em;max-height:0.8em;" viewBox="0 0 512 512"><path d="M320 0H288V64h32 82.7L201.4 265.4 178.7 288 224 333.3l22.6-22.6L448 109.3V192v32h64V192 32 0H480 320zM32 32H0V64 480v32H32 456h32V480 352 320H424v32 96H64V96h96 32V32H160 32z"></path></svg></a><a role="anchor" aria-hidden="true" tabindex="-1" data-no-popover="true" href="#hatena-diary-2008-12-20" class="internal"><svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg></a></h2>
<p>This page is auto-translated from <a href="https://scrapbox.io/nishio/Hatena2008-12-20" class="external">/nishio/Hatena2008-12-20<svg aria-hidden="true" class="external-icon" style="max-width:0.8em;max-height:0.8em;" viewBox="0 0 512 512"><path d="M320 0H288V64h32 82.7L201.4 265.4 178.7 288 224 333.3l22.6-22.6L448 109.3V192v32h64V192 32 0H480 320zM32 32H0V64 480v32H32 456h32V480 352 320H424v32 96H64V96h96 32V32H160 32z"></path></svg></a> using DeepL. If you looks something interesting but the auto-translated English is not good enough to understand it, feel free to let me know at <a href="https://twitter.com/nishio_en" class="external">@nishio_en<svg aria-hidden="true" class="external-icon" style="max-width:0.8em;max-height:0.8em;" viewBox="0 0 512 512"><path d="M320 0H288V64h32 82.7L201.4 265.4 178.7 288 224 333.3l22.6-22.6L448 109.3V192v32h64V192 32 0H480 320zM32 32H0V64 480v32H32 456h32V480 352 320H424v32 96H64V96h96 32V32H160 32z"></path></svg></a>. Iâ€™m very happy to spread my thought to non-Japanese readers.</p></article><hr/><div class="page-footer"></div></div><div class="right sidebar"><div class="graph"><h3>Graph View</h3><div class="graph-outer"><div id="graph-container" data-cfg="{&quot;drag&quot;:true,&quot;zoom&quot;:true,&quot;depth&quot;:1,&quot;scale&quot;:1.1,&quot;repelForce&quot;:0.5,&quot;centerForce&quot;:0.3,&quot;linkDistance&quot;:30,&quot;fontSize&quot;:0.6,&quot;opacityScale&quot;:1,&quot;showTags&quot;:true,&quot;removeTags&quot;:[],&quot;focusOnHover&quot;:false}"></div><button id="global-graph-icon" aria-label="Global Graph"><svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 55 55" fill="currentColor" xml:space="preserve"><path d="M49,0c-3.309,0-6,2.691-6,6c0,1.035,0.263,2.009,0.726,2.86l-9.829,9.829C32.542,17.634,30.846,17,29,17
                s-3.542,0.634-4.898,1.688l-7.669-7.669C16.785,10.424,17,9.74,17,9c0-2.206-1.794-4-4-4S9,6.794,9,9s1.794,4,4,4
                c0.74,0,1.424-0.215,2.019-0.567l7.669,7.669C21.634,21.458,21,23.154,21,25s0.634,3.542,1.688,4.897L10.024,42.562
                C8.958,41.595,7.549,41,6,41c-3.309,0-6,2.691-6,6s2.691,6,6,6s6-2.691,6-6c0-1.035-0.263-2.009-0.726-2.86l12.829-12.829
                c1.106,0.86,2.44,1.436,3.898,1.619v10.16c-2.833,0.478-5,2.942-5,5.91c0,3.309,2.691,6,6,6s6-2.691,6-6c0-2.967-2.167-5.431-5-5.91
                v-10.16c1.458-0.183,2.792-0.759,3.898-1.619l7.669,7.669C41.215,39.576,41,40.26,41,41c0,2.206,1.794,4,4,4s4-1.794,4-4
                s-1.794-4-4-4c-0.74,0-1.424,0.215-2.019,0.567l-7.669-7.669C36.366,28.542,37,26.846,37,25s-0.634-3.542-1.688-4.897l9.665-9.665
                C46.042,11.405,47.451,12,49,12c3.309,0,6-2.691,6-6S52.309,0,49,0z M11,9c0-1.103,0.897-2,2-2s2,0.897,2,2s-0.897,2-2,2
                S11,10.103,11,9z M6,51c-2.206,0-4-1.794-4-4s1.794-4,4-4s4,1.794,4,4S8.206,51,6,51z M33,49c0,2.206-1.794,4-4,4s-4-1.794-4-4
                s1.794-4,4-4S33,46.794,33,49z M29,31c-3.309,0-6-2.691-6-6s2.691-6,6-6s6,2.691,6,6S32.309,31,29,31z M47,41c0,1.103-0.897,2-2,2
                s-2-0.897-2-2s0.897-2,2-2S47,39.897,47,41z M49,10c-2.206,0-4-1.794-4-4s1.794-4,4-4s4,1.794,4,4S51.206,10,49,10z"></path></svg></button></div><div id="global-graph-outer"><div id="global-graph-container" data-cfg="{&quot;drag&quot;:true,&quot;zoom&quot;:true,&quot;depth&quot;:-1,&quot;scale&quot;:0.9,&quot;repelForce&quot;:0.5,&quot;centerForce&quot;:0.3,&quot;linkDistance&quot;:30,&quot;fontSize&quot;:0.6,&quot;opacityScale&quot;:1,&quot;showTags&quot;:true,&quot;removeTags&quot;:[],&quot;focusOnHover&quot;:true}"></div></div></div><div class="backlinks"><h3>Backlinks</h3><ul class="overflow"><li>No backlinks found</li></ul></div></div><footer class><p>Created with <a href="https://quartz.jzhao.xyz/">Quartz v4.4.0</a> Â© 2024</p><ul><li><a href="https://github.com/jackyzha0/quartz">GitHub</a></li><li><a href="https://discord.gg/cRFFHYye7t">Discord Community</a></li></ul></footer></div></div></body><script type="application/javascript">function c(){let t=this.parentElement;t.classList.toggle("is-collapsed");let l=t.classList.contains("is-collapsed")?this.scrollHeight:t.scrollHeight;t.style.maxHeight=l+"px";let o=t,e=t.parentElement;for(;e;){if(!e.classList.contains("callout"))return;let n=e.classList.contains("is-collapsed")?e.scrollHeight:e.scrollHeight+o.scrollHeight;e.style.maxHeight=n+"px",o=e,e=e.parentElement}}function i(){let t=document.getElementsByClassName("callout is-collapsible");for(let s of t){let l=s.firstElementChild;if(l){l.addEventListener("click",c),window.addCleanup(()=>l.removeEventListener("click",c));let e=s.classList.contains("is-collapsed")?l.scrollHeight:s.scrollHeight;s.style.maxHeight=e+"px"}}}document.addEventListener("nav",i);window.addEventListener("resize",i);
</script><script src="https://cdn.jsdelivr.net/npm/katex@0.16.11/dist/contrib/copy-tex.min.js" type="application/javascript"></script><script src="./postscript.js" type="module"></script></html>